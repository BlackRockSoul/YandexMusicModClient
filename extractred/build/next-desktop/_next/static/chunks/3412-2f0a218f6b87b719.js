(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3412,2286],{52119:function(e,t,i){Promise.resolve().then(i.bind(i,52214)),Promise.resolve().then(i.bind(i,12286)),Promise.resolve().then(i.t.bind(i,70345,23)),Promise.resolve().then(i.bind(i,40466)),Promise.resolve().then(i.bind(i,78435)),Promise.resolve().then(i.bind(i,90344)),Promise.resolve().then(i.bind(i,68638)),Promise.resolve().then(i.bind(i,61308)),Promise.resolve().then(i.bind(i,83537)),Promise.resolve().then(i.bind(i,44491)),Promise.resolve().then(i.bind(i,19297)),Promise.resolve().then(i.bind(i,68724)),Promise.resolve().then(i.bind(i,75174)),Promise.resolve().then(i.bind(i,96355)),Promise.resolve().then(i.bind(i,97373)),Promise.resolve().then(i.bind(i,19822)),Promise.resolve().then(i.bind(i,68288)),Promise.resolve().then(i.bind(i,95946)),Promise.resolve().then(i.bind(i,39930)),Promise.resolve().then(i.bind(i,45461)),Promise.resolve().then(i.bind(i,56821)),Promise.resolve().then(i.bind(i,75563)),Promise.resolve().then(i.bind(i,46635)),Promise.resolve().then(i.bind(i,66883)),Promise.resolve().then(i.bind(i,3068)),Promise.resolve().then(i.bind(i,49221)),Promise.resolve().then(i.bind(i,34575)),Promise.resolve().then(i.t.bind(i,95932,23)),Promise.resolve().then(i.t.bind(i,82333,23)),Promise.resolve().then(i.t.bind(i,25747,23)),Promise.resolve().then(i.bind(i,90703)),Promise.resolve().then(i.bind(i,24747)),Promise.resolve().then(i.bind(i,56472)),Promise.resolve().then(i.bind(i,77617)),Promise.resolve().then(i.bind(i,29751)),Promise.resolve().then(i.bind(i,48769)),Promise.resolve().then(i.bind(i,15859)),Promise.resolve().then(i.bind(i,98805)),Promise.resolve().then(i.bind(i,96262)),Promise.resolve().then(i.bind(i,76600)),Promise.resolve().then(i.bind(i,76808)),Promise.resolve().then(i.bind(i,677)),Promise.resolve().then(i.bind(i,25701)),Promise.resolve().then(i.bind(i,88734)),Promise.resolve().then(i.bind(i,28239)),Promise.resolve().then(i.bind(i,90565)),Promise.resolve().then(i.bind(i,64421)),Promise.resolve().then(i.bind(i,64632)),Promise.resolve().then(i.bind(i,96999)),Promise.resolve().then(i.bind(i,91510)),Promise.resolve().then(i.bind(i,13795)),Promise.resolve().then(i.bind(i,97224)),Promise.resolve().then(i.bind(i,74299)),Promise.resolve().then(i.bind(i,7064)),Promise.resolve().then(i.bind(i,59418)),Promise.resolve().then(i.bind(i,54865)),Promise.resolve().then(i.bind(i,9612)),Promise.resolve().then(i.bind(i,19320)),Promise.resolve().then(i.bind(i,52075)),Promise.resolve().then(i.bind(i,67864)),Promise.resolve().then(i.bind(i,7594)),Promise.resolve().then(i.bind(i,50449)),Promise.resolve().then(i.bind(i,57218)),Promise.resolve().then(i.bind(i,3724)),Promise.resolve().then(i.bind(i,36494)),Promise.resolve().then(i.bind(i,26258)),Promise.resolve().then(i.bind(i,33066)),Promise.resolve().then(i.bind(i,45431)),Promise.resolve().then(i.bind(i,50818)),Promise.resolve().then(i.bind(i,46172)),Promise.resolve().then(i.bind(i,47097)),Promise.resolve().then(i.bind(i,45896)),Promise.resolve().then(i.bind(i,48750)),Promise.resolve().then(i.bind(i,66932)),Promise.resolve().then(i.bind(i,34425)),Promise.resolve().then(i.bind(i,1610)),Promise.resolve().then(i.bind(i,95168)),Promise.resolve().then(i.bind(i,24706)),Promise.resolve().then(i.bind(i,39229)),Promise.resolve().then(i.bind(i,57004)),Promise.resolve().then(i.bind(i,12670)),Promise.resolve().then(i.bind(i,32453)),Promise.resolve().then(i.bind(i,82418)),Promise.resolve().then(i.bind(i,28465)),Promise.resolve().then(i.bind(i,88699)),Promise.resolve().then(i.bind(i,98136)),Promise.resolve().then(i.bind(i,1450)),Promise.resolve().then(i.bind(i,45656)),Promise.resolve().then(i.bind(i,26265)),Promise.resolve().then(i.bind(i,1918)),Promise.resolve().then(i.bind(i,81282)),Promise.resolve().then(i.bind(i,11478)),Promise.resolve().then(i.bind(i,53457)),Promise.resolve().then(i.bind(i,86185)),Promise.resolve().then(i.bind(i,94834)),Promise.resolve().then(i.bind(i,41058)),Promise.resolve().then(i.bind(i,45015)),Promise.resolve().then(i.bind(i,87675)),Promise.resolve().then(i.bind(i,62923)),Promise.resolve().then(i.bind(i,88859)),Promise.resolve().then(i.bind(i,16999)),Promise.resolve().then(i.bind(i,98324)),Promise.resolve().then(i.bind(i,16189)),Promise.resolve().then(i.bind(i,21574)),Promise.resolve().then(i.bind(i,13141)),Promise.resolve().then(i.bind(i,98494)),Promise.resolve().then(i.bind(i,96437)),Promise.resolve().then(i.bind(i,41197)),Promise.resolve().then(i.bind(i,17434)),Promise.resolve().then(i.bind(i,41252)),Promise.resolve().then(i.bind(i,16910)),Promise.resolve().then(i.bind(i,47233)),Promise.resolve().then(i.bind(i,2958)),Promise.resolve().then(i.bind(i,5889)),Promise.resolve().then(i.bind(i,60362)),Promise.resolve().then(i.bind(i,8425)),Promise.resolve().then(i.bind(i,63402)),Promise.resolve().then(i.bind(i,17734)),Promise.resolve().then(i.bind(i,48765)),Promise.resolve().then(i.bind(i,84270)),Promise.resolve().then(i.bind(i,50429)),Promise.resolve().then(i.bind(i,5658)),Promise.resolve().then(i.bind(i,59741)),Promise.resolve().then(i.bind(i,81360)),Promise.resolve().then(i.bind(i,19708)),Promise.resolve().then(i.bind(i,52412)),Promise.resolve().then(i.bind(i,81822)),Promise.resolve().then(i.bind(i,32990)),Promise.resolve().then(i.bind(i,33170)),Promise.resolve().then(i.bind(i,69565)),Promise.resolve().then(i.bind(i,73093)),Promise.resolve().then(i.bind(i,68019)),Promise.resolve().then(i.bind(i,52113)),Promise.resolve().then(i.bind(i,3696)),Promise.resolve().then(i.bind(i,3653)),Promise.resolve().then(i.bind(i,52539)),Promise.resolve().then(i.bind(i,86643)),Promise.resolve().then(i.bind(i,97748)),Promise.resolve().then(i.bind(i,90554)),Promise.resolve().then(i.bind(i,1363))},70345:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{suspense:function(){return l},NoSSR:function(){return n}}),i(1073),i(99616);let o=i(53518);function l(){let e=Error(o.NEXT_DYNAMIC_NO_SSR_CODE);throw e.digest=o.NEXT_DYNAMIC_NO_SSR_CODE,e}function n(e){let{children:t}=e;return t}},52214:function(e,t,i){"use strict";i.r(t),i.d(t,{WithAuth:function(){return v}});var o=i(8759),l=i(33423),n=i(35338),s=i(11769),a=i(99616),r=i(2814),c=i(15527),d=i(1918),m=i(84133),u=i(4379),h=i.n(u);let b=(0,l.Pi)(()=>{let e=(0,s.useRouter)(),t=(0,m.uK)(),i=t.get(m.xi),l=(0,a.useCallback)(()=>{i.authorizationUrl&&e.push(i.authorizationUrl)},[i.authorizationUrl,e]);return(0,o.jsxs)("div",{className:h().root,children:[(0,o.jsx)(d.Heading,{className:(0,n.W)(h().title,h().important),variant:"h3",size:"xs",children:(0,o.jsx)(r.Z,{id:"authorization.enter-title"})}),(0,o.jsx)(d.Caption,{className:(0,n.W)(h().text,h().important),variant:"span",type:"text",size:"l",weight:"normal",children:(0,o.jsx)(r.Z,{id:"authorization.enter-text"})}),(0,o.jsx)(c.z,{onClick:l,className:h().button,role:"link",color:"primary",size:"l",radius:"xxxl",children:(0,o.jsx)(d.Caption,{type:"controls",variant:"span",size:"m",children:(0,o.jsx)(r.Z,{id:"authorization.enter-button"})})})]})}),v=(0,l.Pi)(e=>{let{children:t}=e,{user:i}=(0,m.oR)();return i.isAuthorized?t:(0,o.jsx)(b,{})})},40466:function(e,t,i){"use strict";i.r(t),i.d(t,{WithBetaUser:function(){return C}});var o=i(8759),l=i(33423),n=i(35338),s=i(11769),a=i(99616),r=i(65244),c=i(2814),d=i(15527),m=i(13410),u=i(28036),h=i(1918),b=i(24163),v=i(39479),g=i(84133),_=i(44285),P=i(99800),p=i.n(P);let x=(0,l.Pi)(e=>{let{withoutExperiment:t=!1,showLoginButton:l=!1,showUserProfile:P=!1,withOffer:x=!1}=e,C=(0,s.useRouter)(),y=(0,g.uK)(),{settings:j}=(0,g.oR)(),{formatMessage:f}=(0,r.Z)(),N=y.get(g.xi),S=y.get(g.U5),A=(0,g.yy)(S.oldWebHost),E=(0,a.useMemo)(()=>j.layout===g.t8.Mobile?i(25811).Z.src:i(11737).Z.src,[j.layout]),I=(0,a.useCallback)(()=>{N.authorizationUrl&&C.push(N.authorizationUrl)},[N.authorizationUrl,C]);(0,g.NO)(!0);let w=(0,a.useMemo)(()=>x?(0,o.jsx)(h.Heading,{variant:"h1",size:"xl",weight:"bold",className:(0,n.W)(p().title,p().text),children:(0,o.jsx)(c.Z,{id:"welcome-page.offer-header"})}):t?(0,o.jsx)(h.Heading,{variant:"h1",size:"xxl",weight:"bold",className:(0,n.W)(p().title,p().text),children:(0,o.jsx)(c.Z,{id:"welcome-page.beta-header",values:{br:(0,o.jsx)("br",{})}})}):(0,o.jsx)(h.Heading,{variant:"h1",size:"xxl",weight:"bold",className:(0,n.W)(p().title,p().text),children:(0,o.jsx)(c.Z,{id:"welcome-page.not-auth-header",values:{br:(0,o.jsx)("br",{})}})}),[x,t]),k=(0,a.useMemo)(()=>t?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(h.Caption,{variant:"span",type:"text",size:"l",className:p().text,children:(0,o.jsx)(c.Z,{id:"welcome-page.beta-text-short"})}),(0,o.jsx)(u.y,{children:(0,o.jsx)(h.Heading,{variant:"h2",children:(0,o.jsx)(c.Z,{id:"welcome-page.beta-text-short"})})})]}):x?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(h.Caption,{variant:"span",type:"text",size:"l",className:p().offerText,children:(0,o.jsx)(c.Z,{id:"welcome-page.offer-text"})}),(0,o.jsx)(u.y,{children:(0,o.jsx)(h.Heading,{variant:"h2",children:(0,o.jsx)(c.Z,{id:"welcome-page.offer-text"})})})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(h.Caption,{variant:"span",type:"text",size:"l",className:p().text,children:(0,o.jsx)(c.Z,{id:"welcome-page.not-auth-text",values:{br:(0,o.jsx)("br",{})}})}),(0,o.jsx)(u.y,{children:(0,o.jsx)(h.Heading,{variant:"h2",children:(0,o.jsx)(c.Z,{id:"welcome-page.not-auth-text",values:{br:(0,o.jsx)("br",{})}})})})]}),[x,t]),L=(0,a.useMemo)(()=>{if(l)return(0,o.jsx)(d.z,{onClick:I,className:p().loginButton,role:"link",color:"primary",size:"m",radius:"xxxl",children:(0,o.jsx)(c.Z,{id:"authorization.enter-button"})});if(x){let e="https://".concat(A,"/pay");return(0,o.jsx)(_.rU,{className:p().offerButtonLink,href:e,"aria-label":f({id:"payment.offer-button"}),target:"_blank",children:(0,o.jsx)(d.z,{className:(0,n.W)(p().offerButton,p().offerButton_important),role:"link",color:"primary",size:"m",radius:"m",withRipple:!1,children:(0,o.jsx)(c.Z,{id:"payment.offer-button"})})})}},[f,I,A,l,x]);return(0,g.ZP)(!0),(0,o.jsxs)("div",{className:(0,n.W)(p().root),children:[(0,o.jsx)(b.TF,{withSecondaryColor:!0}),(0,o.jsx)("div",{className:p().logoContainer,children:(0,o.jsx)(m.T,{alignIcon:"center",lang:"ru",className:p().logo})}),w,k,L,(0,o.jsx)("img",{className:p().image,src:E}),P&&(0,o.jsx)(v.Iw,{className:p().user,withMeta:j.layout!==g.t8.Mobile,variant:j.layout===g.t8.Mobile?"mobile":"desktop",usernameClassName:(0,n.W)(p().username,p().important)})]})}),C=(0,l.Pi)(e=>{let{children:t}=e,{user:i,experiments:l}=(0,g.oR)();return i.isAuthorized?l.checkExperiment(g.pe.WebNext,"on")&&!i.isChild?i.hasPlus||l.checkExperiment(g.pe.WebNextFreemium,"on")?t:(0,o.jsx)(x,{withOffer:!0,showUserProfile:!0}):(0,o.jsx)(x,{withoutExperiment:!0,showUserProfile:!0}):(0,o.jsx)(x,{showLoginButton:!0})})},12286:function(e,t,i){"use strict";i.r(t);var o=i(8759),l=i(35338),n=i(99616),s=i(92318),a=i(89788),r=i(84133),c=i(37500),d=i.n(c),m=i(21535);t.default=e=>{let{children:t}=e,{state:i,toggleTrue:c}=(0,s.O)(!1),{state:u,toggleTrue:h}=(0,s.O)(!1),b=(0,n.useMemo)(()=>{let e=new a.JC;return(0,r.NK)(e.get(r.BU.Theme),(0,r.Q$)())},[]),v=(0,n.useCallback)(e=>{let t=m.env.ASSET_PREFIX||"";return"".concat(t,"/video/splash_screen/splash_screen_").concat(b,".").concat(e)},[b]),g=(0,n.useMemo)(()=>({isVisible:!i}),[i]);return(0,o.jsxs)(r.IP.Provider,{value:g,children:[!i&&(0,o.jsx)("div",{className:(0,l.W)(d().root,d()["root_".concat(b)],{[d().root_hidden]:u}),onAnimationEnd:c,children:(0,o.jsxs)("video",{className:d().video,autoPlay:!0,muted:!0,playsInline:!0,onEnded:h,onError:c,children:[(0,o.jsx)("source",{src:v("webm"),type:"video/webm"}),(0,o.jsx)("source",{src:v("mp4"),type:"video/mp4"})]})}),t]})}},52539:function(e,t,i){"use strict";i.r(t),i.d(t,{CollectionAlbumsPage:function(){return R}});var o,l,n=i(8759),s=i(33423),a=i(11769),r=i(99616),c=i(26265),d=i(13236),m=i(84133);(o=l||(l={}))[o.LIKED_ALBUMS=0]="LIKED_ALBUMS",o[o.UPCOMING_ALBUMS=1]="UPCOMING_ALBUMS";var u=i(68585),h=i.n(u),b=i(35338),v=i(65244),g=i(96911),_=i(44285),P=i(2814),p=i(1918),x=i(42769);let C=e=>{let t=(0,m.m5)();return(0,r.useCallback)(i=>{var o;switch(null===(o=e.onTabChange)||void 0===o||o.call(e,i),i){case l.LIKED_ALBUMS:t("/collection/albums?tab=".concat(m.Gr.LIKED_ALBUMS));break;case l.UPCOMING_ALBUMS:t("/collection/albums?tab=".concat(m.Gr.UPCOMING_ALBUMS))}},[t,e])};var y=i(915),j=i.n(y),f=i(12670);let N=()=>(0,n.jsxs)("div",{className:j().tabsShimmer,children:[(0,n.jsx)(f.Shimmer,{className:j().tabShimmer}),(0,n.jsx)(f.Shimmer,{className:j().tabShimmer})]}),S=(0,s.Pi)(e=>{var t,i,o;let{tabsState:s,tabElementId:a}=e,{collection:c,experiments:d}=(0,m.oR)(),{formatMessage:u}=(0,v.Z)(),h=(0,m.k6)(),{isScrolling:b}=(0,r.useContext)(_.pI),g=d.checkExperiment(m.pe.WebPresave,"on"),y=C(s),f=(0,r.useMemo)(()=>c.albums.items.length?"".concat(u({id:"entity-names.albums"})," • ").concat(c.albums.items.length):u({id:"entity-names.albums"}),[c.albums.items.length,u]),S=(0,r.useMemo)(()=>{var e,t;return(null===(e=c.albums.upcomingAlbums)||void 0===e?void 0:e.length)?"".concat(u({id:"entity-names.upcoming-albums"})," • ").concat(null===(t=c.albums.upcomingAlbums)||void 0===t?void 0:t.length):u({id:"entity-names.upcoming-albums"})},[null===(t=c.albums.upcomingAlbums)||void 0===t?void 0:t.length,u]);return(0,n.jsxs)("header",{className:j().root,"aria-hidden":b,children:[(0,n.jsxs)("div",{className:j().container,children:[h.canBack&&(0,n.jsx)(x.n,{withForwardControl:!1,withBackwardControl:h.canBack}),(0,n.jsx)(p.Heading,{variant:"h2",weight:"bold",size:"xl",lineClamp:1,className:j().title,children:(0,n.jsx)(P.Z,{id:"entity-names.favourite-albums"})})]}),g&&(0,n.jsxs)(_.no,{isLoading:c.albums.isLoading,shimmer:(0,n.jsx)(N,{}),className:j().tabs,elementId:a,...s,onTabChange:y,children:[(0,n.jsx)(_.OK,{className:j().tab,value:l.LIKED_ALBUMS,title:f,"aria-label":u({id:"entity-names.albums-count"},{value:c.albums.items.length}),"aria-hidden":b,tabIndex:b?-1:0}),(0,n.jsx)(_.OK,{className:j().tab,value:l.UPCOMING_ALBUMS,title:S,"aria-label":u({id:"entity-names.upcoming-albums-count"},{value:null!==(o=null===(i=c.albums.upcomingAlbums)||void 0===i?void 0:i.length)&&void 0!==o?o:0}),"aria-hidden":b,tabIndex:b?-1:0})]})]})});var A=i(21017),E=i.n(A);let I=(0,s.Pi)(e=>{var t,i,o;let{forwardRef:s,tabsState:a,tabElementId:d}=e,{user:u,collection:h}=(0,m.oR)(),{formatMessage:P}=(0,v.Z)(),p=(0,r.useCallback)(e=>{u.account.uid&&h.albums.getData({userId:u.account.uid,metaType:"music",page:e,pageSize:20})},[h.albums,u.account.uid]),x=(0,r.useMemo)(()=>({Header:()=>(0,n.jsx)(S,{tabsState:a,tabElementId:d}),Footer:()=>(0,n.jsx)(_.$_,{className:E().footer})}),[d,a]);return(0,n.jsx)("div",{className:E().root,children:(0,n.jsx)(c.TabPanel,{value:a.value,name:l.LIKED_ALBUMS,elementId:d,className:E().tabPanel,children:(0,n.jsx)(_.Wv,{className:(0,b.W)(E().scrollContainer,E().important),customComponents:x,itemContentCallback:e=>{var t;let i=null===(t=h.albums.items)||void 0===t?void 0:t[e],o=P({id:"loading-messages.entity-is-loading"},{entityName:P({id:"entity-names.album"})});return i?(0,n.jsx)(g.rf,{album:i,contentLinesCount:4},i.id):(0,n.jsx)(_.hi,{"aria-label":o})},totalCount:null!==(i=null===(t=h.albums.pager)||void 0===t?void 0:t.total)&&void 0!==i?i:0,onGetDataByPage:p,pageSize:20,totalRequests:null!==(o=h.albums.requestsCount)&&void 0!==o?o:0,listClassName:E().content,itemClassName:E().item,handleRef:s,context:{listAriaLabel:P({id:"collection.liked-albums-list"})}})})})});var w=i(71716);let k=(0,s.Pi)(e=>{let{forwardRef:t,tabsState:i,tabElementId:o}=e,{collection:s}=(0,m.oR)(),{formatMessage:a}=(0,v.Z)(),d=(0,r.useMemo)(()=>{var e;let t=a({id:"loading-messages.entity-is-loading"},{entityName:a({id:"entity-names.album"})});return s.albums.isUpcomingAlbumsLoading?(0,n.jsx)(_.Wm,{"aria-label":t}):null===(e=s.albums.upcomingAlbums)||void 0===e?void 0:e.map(e=>(0,n.jsx)(g.vK,{upcomingAlbum:e},e.id))},[s.albums.isUpcomingAlbumsLoading,s.albums.upcomingAlbums,a]);return(0,n.jsxs)(w.t,{className:E().root,containerClassName:(0,b.W)(E().scrollContainer,E().important),ref:t,children:[(0,n.jsx)(S,{tabsState:i,tabElementId:o}),(0,n.jsx)(c.TabPanel,{value:i.value,name:l.UPCOMING_ALBUMS,elementId:o,className:E().content,children:d}),(0,n.jsx)(_.$_,{className:E().footer})]})});var L=i(14581),D=i(91036),M=i.n(D);let W=(0,s.Pi)(e=>{let{tabsState:t,tabElementId:i}=e,o=(0,r.useMemo)(()=>{switch(t.value){case l.LIKED_ALBUMS:return(0,n.jsx)(P.Z,{id:"error-messages.empty-collection-albums-title"});case l.UPCOMING_ALBUMS:return(0,n.jsx)(P.Z,{id:"error-messages.empty-collection-upcoming-albums-title"})}},[t.value]),s=(0,r.useMemo)(()=>{switch(t.value){case l.LIKED_ALBUMS:return(0,n.jsx)(P.Z,{id:"error-messages.empty-collection-albums-description"});case l.UPCOMING_ALBUMS:return(0,n.jsx)(P.Z,{id:"error-messages.empty-collection-upcoming-albums-description"})}},[t.value]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(S,{tabsState:t,tabElementId:i}),(0,n.jsxs)(c.TabPanel,{value:t.value,name:t.value,elementId:i,className:M().root,children:[(0,n.jsx)(L.J,{className:M().icon,size:"l",variant:"album"}),(0,n.jsx)(p.Heading,{className:M().title,variant:"h3",size:"xs",children:o}),(0,n.jsx)(p.Caption,{className:M().text,variant:"span",type:"controls",size:"l",weight:"normal",children:s})]})]})}),B=(0,s.Pi)(e=>{var t,i;let{tabsState:o,tabElementId:s}=e,{collection:a,experiments:c}=(0,m.oR)(),{formatMessage:d}=(0,v.Z)(),{isScrolling:u}=(0,r.useContext)(_.pI),h=(0,m.k6)(),g=C(o),y=c.checkExperiment(m.pe.WebPresave,"on"),f=(0,r.useMemo)(()=>a.albums.items.length?"".concat(d({id:"entity-names.albums"})," • ").concat(a.albums.items.length):d({id:"entity-names.albums"}),[a.albums.items.length,d]),S=(0,r.useMemo)(()=>{var e,t;return(null===(e=a.albums.upcomingAlbums)||void 0===e?void 0:e.length)?"".concat(d({id:"entity-names.upcoming-albums"})," • ").concat(null===(t=a.albums.upcomingAlbums)||void 0===t?void 0:t.length):d({id:"entity-names.upcoming-albums"})},[null===(t=a.albums.upcomingAlbums)||void 0===t?void 0:t.length,d]),A=(0,r.useMemo)(()=>{if(y){var e,t;return(0,n.jsxs)(_.no,{isLoading:a.albums.isLoading,shimmer:(0,n.jsx)(N,{}),className:j().tabs,elementId:s,...o,onTabChange:g,children:[(0,n.jsx)(_.OK,{className:j().tab,value:l.LIKED_ALBUMS,title:f,"aria-label":d({id:"entity-names.albums-count"},{value:a.albums.items.length}),"aria-hidden":!u,tabIndex:u?0:-1}),(0,n.jsx)(_.OK,{className:j().tab,value:l.UPCOMING_ALBUMS,title:S,"aria-label":d({id:"entity-names.upcoming-albums-count"},{value:null!==(t=null===(e=a.albums.upcomingAlbums)||void 0===e?void 0:e.length)&&void 0!==t?t:0}),"aria-hidden":!u,tabIndex:u?0:-1})]})}return(0,n.jsx)(p.Heading,{variant:"h2",weight:"bold",size:"s",lineClamp:1,className:j().title,children:(0,n.jsx)(P.Z,{id:"entity-names.favourite-albums"})})},[f,a.albums.isLoading,a.albums.items.length,null===(i=a.albums.upcomingAlbums)||void 0===i?void 0:i.length,d,y,u,g,s,o,S]);return(0,n.jsx)(_.h4,{variant:"composite",staticClassName:(0,b.W)(j().staticHeader,j().important),"aria-hidden":!u,stickyClassName:(0,b.W)(j().stickyHeader,j().important),stickyChild:(0,n.jsxs)("div",{className:j().container,children:[h.canBack&&(0,n.jsx)(x.n,{withForwardControl:!1,withBackwardControl:h.canBack,buttonSize:"xs"}),A]})})}),R=(0,s.Pi)(()=>{let e=(0,a.useSearchParams)(),{user:t,collection:i,experiments:o}=(0,m.oR)(),[s,u]=(0,d.zU)(),b=o.checkExperiment(m.pe.WebNextDisableCollectionAlbums,"on"),v=o.checkExperiment(m.pe.WebNextDisableCollection,"on"),g=o.checkExperiment(m.pe.WebPresave,"on"),_=(0,r.useId)(),P=(0,m.m5)(),p=(0,r.useMemo)(()=>{let t=e.get("tab");if(!g)return P("/collection/albums"),l.LIKED_ALBUMS;switch(t){case m.Gr.LIKED_ALBUMS:break;case m.Gr.UPCOMING_ALBUMS:return l.UPCOMING_ALBUMS}return l.LIKED_ALBUMS},[P,g,e]),x=(0,c.useTabsState)(p);if(b&&v&&(0,a.redirect)("/"),b&&(0,a.redirect)("/collection"),t.account.uid&&i.albums.loadingState===m.Gu.IDLE){let e=Promise.allSettled([i.albums.getData({userId:t.account.uid,metaType:"music",page:0,pageSize:20}),i.albums.getPresaves({userId:t.account.uid})]);(0,r.use)(e)}(0,m.NO)(i.albums.loadingState===m.Gu.RESOLVE),(0,r.useEffect)(()=>()=>{i.albums.reset()},[i.albums]);let C=(0,r.useMemo)(()=>({"--header-height":"".concat(g?148:96,"px")}),[g]),y=(0,r.useMemo)(()=>{switch(x.value){case l.LIKED_ALBUMS:if(i.albums.isAlbumsEmpty)return(0,n.jsx)(W,{tabsState:x,tabElementId:_});return(0,n.jsx)(I,{forwardRef:u,tabsState:x,tabElementId:_});case l.UPCOMING_ALBUMS:if(i.albums.isUpcomingAlbumsEmpty)return(0,n.jsx)(W,{tabsState:x,tabElementId:_});return(0,n.jsx)(k,{forwardRef:u,tabsState:x,tabElementId:_})}},[i.albums.isAlbumsEmpty,i.albums.isUpcomingAlbumsEmpty,u,_,x]);return(0,n.jsx)(m.Lh,{pageId:m.Rh.OWN_ALBUMS,children:(0,n.jsx)(d.I7,{scrollElement:s,headerThreshold:g?148:96,children:(0,n.jsxs)("div",{className:h().root,style:C,children:[(0,n.jsx)(B,{tabsState:x,tabElementId:_}),y]})})})})},97748:function(e,t,i){"use strict";i.r(t),i.d(t,{CollectionArtistsPage:function(){return _}});var o=i(8759),l=i(35338),n=i(33423),s=i(11769),a=i(99616),r=i(65244),c=i(2814),d=i(1918),m=i(81546),u=i(13236),h=i(84133),b=i(44285),v=i(77979),g=i.n(v);let _=(0,n.Pi)(()=>{var e,t,i,n;let{user:v,collection:_,experiments:P}=(0,h.oR)(),{formatMessage:p}=(0,r.Z)(),[x,C]=(0,u.zU)(),y=(0,h.k6)(),j=P.checkExperiment(h.pe.WebNextDisableCollectionArtists,"on"),f=P.checkExperiment(h.pe.WebNextDisableCollection,"on");j&&f&&(0,s.redirect)("/"),j&&(0,s.redirect)("/collection"),v.account.uid&&_.artists.loadingState===h.Gu.IDLE&&(0,a.use)(_.artists.getData({userId:v.account.uid})),(0,h.NO)(_.artists.loadingState===h.Gu.RESOLVE),(0,a.useEffect)(()=>()=>{_.artists.reset()},[_.artists]);let N=(0,a.useCallback)(e=>{v.account.uid&&_.artists.getData({userId:v.account.uid,page:e,pageSize:20})},[_.artists,v.account.uid]),S=(0,a.useMemo)(()=>({Footer:()=>(0,o.jsx)(b.$_,{className:g().footer})}),[]);return(0,o.jsx)(h.Lh,{pageId:h.Rh.OWN_ARTISTS,children:(0,o.jsx)(u.I7,{scrollElement:x,outerTitle:p({id:"entity-names.artists"}),children:(0,o.jsxs)("div",{className:g().root,children:[(0,o.jsx)(b.h4,{variant:"text",withForwardControl:!1,withBackwardControl:y.canBack,children:(0,o.jsx)(d.Heading,{id:"collection-artists-header",variant:"h2",weight:"bold",size:"xl",lineClamp:1,children:(0,o.jsx)(c.Z,{id:"entity-names.artists"})})}),(0,o.jsx)(b.Wv,{className:(0,l.W)(g().scrollContainer,g().important),customComponents:S,itemContentCallback:e=>{var t,i;let l=null===(i=_.artists)||void 0===i?void 0:null===(t=i.items)||void 0===t?void 0:t[e],n=p({id:"loading-messages.entity-is-loading"},{entityName:p({id:"entity-names.artist"})});return l?(0,o.jsx)(m.IT,{artist:l,contentLinesCount:3},l.id):(0,o.jsx)(b.hi,{"aria-label":n,round:!0,centered:!0})},totalCount:null!==(i=null===(t=_.artists)||void 0===t?void 0:null===(e=t.pager)||void 0===e?void 0:e.total)&&void 0!==i?i:0,onGetDataByPage:N,pageSize:20,totalRequests:null!==(n=_.artists.requests)&&void 0!==n?n:0,listClassName:g().content,itemClassName:g().item,handleRef:C,context:{listAriaLabel:p({id:"collection.liked-artists-list"})}})]})})})})},3653:function(e,t,i){"use strict";i.r(t),i.d(t,{CollectionPage:function(){return C}});var o=i(8759),l=i(35338),n=i(33423),s=i(11769),a=i(99616),r=i(65244),c=i(2814),d=i(36019),m=i(71716),u=i(1918),h=i(74241),b=i(70579),v=i(13236),g=i(3561),_=i(84133),P=i(44285),p=i(23234),x=i.n(p);let C=(0,n.Pi)(()=>{let{collection:e,user:t,experiments:i}=(0,_.oR)(),[n,p]=(0,v.zU)(),{formatMessage:C}=(0,r.Z)(),y=e.landing.loadingState!==_.Gu.REJECT&&!!t.collectionHue;i.checkExperiment(_.pe.WebNextDisableCollection,"on")&&(0,s.redirect)("/"),e.landing.loadingState===_.Gu.IDLE&&(0,a.use)(e.landing.getSkeleton({id:d.jB.WEB_COLLECTION,showWizard:t.settings.showWizard},{preloadBlocks:3})),(0,a.useEffect)(()=>()=>e.landing.reset(),[e.landing]),(0,_.NO)(e.landing.loadingState===_.Gu.RESOLVE);let j=(0,h._B)(e.landing),f=(0,a.useMemo)(()=>y&&t.collectionHue?{"--collection-color":(0,g.Cx)(t.collectionHue)}:null,[y,t.collectionHue]),N=(0,a.useMemo)(()=>({color:e=>(0,o.jsx)(P.wx,{title:C({id:"collection.collection-color-title"}),description:C({id:"collection.collection-color-description"}),placement:"right",children:(0,o.jsx)("span",{className:x().collectionColor,style:f,children:e})})}),[f,C]);return(0,o.jsx)(_.Lh,{pageId:_.Rh.OWN_COLLECTION,children:(0,o.jsxs)(v.I7,{scrollElement:n,outerTitle:C({id:"entity-names.collection"}),children:[(0,o.jsx)(P.h4,{variant:"text",showControls:!1,children:(0,o.jsxs)("div",{className:x().header,children:[(0,o.jsx)(u.Heading,{variant:"h2",weight:"bold",size:"xl",children:(0,o.jsx)(c.Z,{id:"entity-names.collection"})}),y&&(0,o.jsx)(u.Caption,{className:x().description,variant:"div",size:"m",children:(0,o.jsx)(c.Z,{id:"collection.collection-color",values:N})})]})}),(0,o.jsxs)(m.t,{className:(0,l.W)(x().root,{[x().root_withCollectionColor]:y}),containerClassName:x().content,ref:p,children:[(0,o.jsx)("div",{className:(0,l.W)(x().landing,{[x().landing_onlyWizard]:j}),children:(0,o.jsx)(h.Od,{landing:e.landing,errorComponent:(0,o.jsx)(b.D,{className:x().error,withBackwardControl:!1})})}),(0,o.jsx)(P.$_,{className:x().footer})]})]})})})},90554:function(e,t,i){"use strict";i.r(t),i.d(t,{CollectionPlaylistsCreatedPage:function(){return _}});var o=i(8759),l=i(35338),n=i(33423),s=i(11769),a=i(99616),r=i(65244),c=i(2814),d=i(1918),m=i(13236),u=i(20210),h=i(84133),b=i(44285),v=i(85742),g=i.n(v);let _=(0,n.Pi)(()=>{var e,t,i;let{user:n,collection:{playlistsCreated:v},experiments:_}=(0,h.oR)(),{formatMessage:P}=(0,r.Z)(),[p,x]=(0,m.zU)(),C=(0,h.k6)(),y=_.checkExperiment(h.pe.WebNextDisableCollectionCreatedPlaylists,"on"),j=_.checkExperiment(h.pe.WebNextDisableCollection,"on");y&&j&&(0,s.redirect)("/"),y&&(0,s.redirect)("/collection");let f=(0,a.useMemo)(()=>({Footer:()=>(0,o.jsx)(b.$_,{className:g().footer})}),[]);n.account.uid&&v.loadingState===h.Gu.IDLE&&(0,a.use)(v.getData({userId:n.account.uid,page:0,pageSize:20})),(0,h.NO)(v.loadingState===h.Gu.RESOLVE);let N=(0,a.useCallback)(e=>{n.account.uid&&v.getData({userId:n.account.uid,page:e,pageSize:20})},[v,n.account.uid]);return(0,a.useEffect)(()=>()=>{v.reset()},[v]),(0,o.jsx)(h.Lh,{pageId:h.Rh.OWN_PLAYLISTS,children:(0,o.jsx)(m.I7,{scrollElement:p,outerTitle:P({id:"entity-names.my-playlists"}),children:(0,o.jsxs)("div",{className:g().root,children:[(0,o.jsx)(b.h4,{variant:"text",withForwardControl:!1,withBackwardControl:C.canBack,children:(0,o.jsx)(d.Heading,{id:"collection-playlistsCreated-header",variant:"h2",weight:"bold",size:"xl",lineClamp:1,children:(0,o.jsx)(c.Z,{id:"entity-names.my-playlists"})})}),(0,o.jsx)(b.Wv,{className:(0,l.W)(g().scrollContainer,g().important),customComponents:f,itemContentCallback:e=>{var t;let i=null==v?void 0:null===(t=v.items)||void 0===t?void 0:t[e],l=P({id:"loading-messages.entity-is-loading"},{entityName:P({id:"entity-names.playlist"})});return i?(0,o.jsx)(u.ZL,{playlist:i,contentLinesCount:3},i.key):(0,o.jsx)(b.hi,{"aria-label":l})},totalCount:null!==(t=null==v?void 0:null===(e=v.pager)||void 0===e?void 0:e.total)&&void 0!==t?t:0,onGetDataByPage:N,pageSize:20,totalRequests:null!==(i=v.requests)&&void 0!==i?i:0,listClassName:g().content,itemClassName:g().item,handleRef:x,context:{listAriaLabel:P({id:"collection.created-playlists-list"})}})]})})})})},86643:function(e,t,i){"use strict";i.r(t),i.d(t,{CollectionPlaylistsLikedPage:function(){return P}});var o=i(8759),l=i(35338),n=i(33423),s=i(11769),a=i(99616),r=i(65244),c=i(2814),d=i(36019),m=i(1918),u=i(13236),h=i(20210),b=i(84133),v=i(44285),g=i(92158),_=i.n(g);let P=(0,n.Pi)(()=>{var e,t,i;let{user:n,collection:{playlistsLiked:g},experiments:P}=(0,b.oR)(),{formatMessage:p}=(0,r.Z)(),[x,C]=(0,u.zU)(),y=(0,b.k6)(),j=P.checkExperiment(b.pe.WebNextDisableCollectionLikedPlaylists,"on"),f=P.checkExperiment(b.pe.WebNextDisableCollection,"on");j&&f&&(0,s.redirect)("/"),j&&(0,s.redirect)("/collection");let N=(0,a.useMemo)(()=>({Footer:()=>(0,o.jsx)(v.$_,{className:_().footer})}),[]);n.account.uid&&g.loadingState===b.Gu.IDLE&&(0,a.use)(g.getData({userId:n.account.uid,sortOrder:d.As.DESC,metaType:"music",page:0,pageSize:20})),(0,b.NO)(g.loadingState===b.Gu.RESOLVE);let S=(0,a.useCallback)(e=>{n.account.uid&&g.getData({userId:n.account.uid,sortOrder:d.As.DESC,metaType:"music",page:e,pageSize:20})},[g,n.account.uid]);return(0,a.useEffect)(()=>()=>{g.reset()},[g]),(0,o.jsx)(b.Lh,{pageId:b.Rh.OWN_PLAYLISTS,children:(0,o.jsx)(u.I7,{scrollElement:x,outerTitle:p({id:"entity-names.favourite-playlists"}),children:(0,o.jsxs)("div",{className:_().root,children:[(0,o.jsx)(v.h4,{variant:"text",withForwardControl:!1,withBackwardControl:y.canBack,children:(0,o.jsx)(m.Heading,{variant:"h2",weight:"bold",size:"xl",lineClamp:1,children:(0,o.jsx)(c.Z,{id:"entity-names.favourite-playlists"})})}),(0,o.jsx)(v.Wv,{className:(0,l.W)(_().scrollContainer,_().important),customComponents:N,itemContentCallback:e=>{var t;let i=null==g?void 0:null===(t=g.items)||void 0===t?void 0:t[e],l=p({id:"loading-messages.entity-is-loading"},{entityName:p({id:"entity-names.playlist"})});return i?(0,o.jsx)(h.ZL,{playlist:i,contentLinesCount:3},i.key):(0,o.jsx)(v.hi,{"aria-label":l})},totalCount:null!==(t=null==g?void 0:null===(e=g.pager)||void 0===e?void 0:e.total)&&void 0!==t?t:0,onGetDataByPage:S,pageSize:20,totalRequests:null!==(i=g.requests)&&void 0!==i?i:0,listClassName:_().content,itemClassName:_().item,handleRef:C,context:{listAriaLabel:p({id:"collection.liked-playlists-list"})}})]})})})})},1363:function(e,t,i){"use strict";i.r(t),i.d(t,{CollectionPlaylistsPage:function(){return T}});var o,l,n,s,a=i(8759),r=i(33423),c=i(11769),d=i(99616),m=i(36019),u=i(26265),h=i(13236),b=i(84133);(o=n||(n={})).CREATED="created",o.LIKED="liked",(l=s||(s={}))[l.CREATED=0]="CREATED",l[l.LIKED=1]="LIKED";var v=i(95187),g=i.n(v),_=i(35338),P=i(65244),p=i(20210),x=i(3515),C=i(44285),y=i(2814),j=i(1918),f=i(42769);let N=e=>{let t=(0,b.m5)();return(0,d.useCallback)(i=>{var o;switch(null===(o=e.onTabChange)||void 0===o||o.call(e,i),i){case s.CREATED:t("/collection/playlists?tab=".concat(n.CREATED));break;case s.LIKED:t("/collection/playlists?tab=".concat(n.LIKED))}},[t,e])};var S=i(53158),A=i.n(S),E=i(12670);let I=()=>(0,a.jsxs)("div",{className:A().tabsShimmer,children:[(0,a.jsx)(E.Shimmer,{className:A().tabShimmer}),(0,a.jsx)(E.Shimmer,{className:A().tabShimmer})]}),w=(0,r.Pi)(e=>{var t,i,o,l,n,r;let{tabsState:c,tabElementId:m}=e,{collection:{playlistsCreated:u,playlistsLiked:h}}=(0,b.oR)(),{formatMessage:v}=(0,P.Z)(),g=(0,b.k6)(),{isScrolling:_}=(0,d.useContext)(C.pI),p=N(c),x=(0,d.useMemo)(()=>{var e;return(null===(e=u.pager)||void 0===e?void 0:e.total)?"".concat(v({id:"collection.your-created-playlists"})," • ").concat(u.pager.total):v({id:"collection.your-created-playlists"})},[v,null===(t=u.pager)||void 0===t?void 0:t.total]),S=(0,d.useMemo)(()=>{var e;return(null===(e=h.pager)||void 0===e?void 0:e.total)?"".concat(v({id:"collection.your-liked-playlists"})," • ").concat(h.pager.total):v({id:"collection.your-liked-playlists"})},[v,null===(i=h.pager)||void 0===i?void 0:i.total]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("header",{className:A().root,"aria-hidden":_,children:(0,a.jsxs)("div",{className:A().container,children:[g.canBack&&(0,a.jsx)(f.n,{withForwardControl:!1,withBackwardControl:g.canBack}),(0,a.jsx)(j.Heading,{variant:"h2",weight:"bold",size:"xl",lineClamp:1,className:A().title,children:(0,a.jsx)(y.Z,{id:"entity-names.artist-playlist"})})]})}),(0,a.jsxs)(C.no,{isLoading:u.isLoading,shimmer:(0,a.jsx)(I,{}),className:A().staticTabs,elementId:m,...c,onTabChange:p,children:[(0,a.jsx)(C.OK,{className:A().tab,value:s.CREATED,title:x,"aria-label":v({id:"entity-names.created-playlists-count"},{value:null!==(n=null===(o=u.pager)||void 0===o?void 0:o.total)&&void 0!==n?n:0}),"aria-hidden":_,tabIndex:_?-1:0}),(0,a.jsx)(C.OK,{className:A().tab,value:s.LIKED,title:S,"aria-label":v({id:"entity-names.liked-playlists-count"},{value:null!==(r=null===(l=h.pager)||void 0===l?void 0:l.total)&&void 0!==r?r:0}),"aria-hidden":_,tabIndex:_?-1:0})]})]})});var k=i(82825),L=i.n(k);let D=(0,r.Pi)(e=>{var t,i,o;let{forwardRef:l,tabsState:n,tabElementId:r}=e,{user:c,collection:{playlistsCreated:m}}=(0,b.oR)(),{formatMessage:h}=(0,P.Z)(),v=(0,d.useMemo)(()=>({Header:()=>(0,a.jsx)(w,{tabsState:n,tabElementId:r}),Footer:()=>(0,a.jsx)(C.$_,{className:L().footer})}),[r,n]),g=(0,d.useCallback)(e=>{c.account.uid&&m.getData({userId:c.account.uid,page:e,pageSize:20})},[m,c.account.uid]),y=(null!==(i=null===(t=m.pager)||void 0===t?void 0:t.total)&&void 0!==i?i:0)+1;return(0,a.jsx)("div",{className:L().root,children:(0,a.jsx)(u.TabPanel,{value:n.value,name:s.CREATED,elementId:r,className:L().tabPanel,children:(0,a.jsx)(C.Wv,{className:(0,_.W)(L().scrollContainer,L().important),customComponents:v,itemContentCallback:e=>{var t;if(0===e)return(0,a.jsx)(x.lN,{});let i=null==m?void 0:null===(t=m.items)||void 0===t?void 0:t[e-1],o=h({id:"loading-messages.entity-is-loading"},{entityName:h({id:"entity-names.playlist"})});return i?(0,a.jsx)(p.ZL,{playlist:i,contentLinesCount:3},i.key):(0,a.jsx)(C.hi,{"aria-label":o})},totalCount:y,onGetDataByPage:g,pageSize:20,totalRequests:null!==(o=m.requests)&&void 0!==o?o:0,listClassName:L().content,itemClassName:L().item,handleRef:l,context:{listAriaLabel:h({id:"collection.created-playlists-list"})}})})})}),M=(0,r.Pi)(e=>{var t,i,o;let{forwardRef:l,tabsState:n,tabElementId:r}=e,{user:c,collection:{playlistsLiked:h}}=(0,b.oR)(),{formatMessage:v}=(0,P.Z)(),g=(0,d.useCallback)(e=>{c.account.uid&&h.getData({userId:c.account.uid,sortOrder:m.As.DESC,metaType:"music",page:e,pageSize:20})},[h,c.account.uid]),x=(0,d.useMemo)(()=>({Header:()=>(0,a.jsx)(w,{tabsState:n,tabElementId:r}),Footer:()=>(0,a.jsx)(C.$_,{className:L().footer})}),[r,n]);return(0,a.jsx)("div",{className:L().root,children:(0,a.jsx)(u.TabPanel,{value:n.value,name:s.LIKED,elementId:r,className:L().tabPanel,children:(0,a.jsx)(C.Wv,{className:(0,_.W)(L().scrollContainer,L().important),customComponents:x,itemContentCallback:e=>{var t;let i=null==h?void 0:null===(t=h.items)||void 0===t?void 0:t[e],o=v({id:"loading-messages.entity-is-loading"},{entityName:v({id:"entity-names.playlist"})});return i?(0,a.jsx)(p.ZL,{playlist:i,contentLinesCount:3},i.key):(0,a.jsx)(C.hi,{"aria-label":o})},totalCount:null!==(i=null==h?void 0:null===(t=h.pager)||void 0===t?void 0:t.total)&&void 0!==i?i:0,onGetDataByPage:g,pageSize:20,totalRequests:null!==(o=h.requests)&&void 0!==o?o:0,listClassName:L().content,itemClassName:L().item,handleRef:l,context:{listAriaLabel:v({id:"collection.liked-playlists-list"})}})})})});var W=i(14581),B=i(36397),R=i.n(B);let z=(0,r.Pi)(e=>{let{tabsState:t,tabElementId:i}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(w,{tabsState:t,tabElementId:i}),(0,a.jsxs)(u.TabPanel,{value:t.value,name:t.value,elementId:i,className:R().root,children:[(0,a.jsx)(W.J,{className:R().icon,size:"l",variant:"album"}),(0,a.jsx)(j.Heading,{className:R().title,variant:"h3",size:"xs",children:(0,a.jsx)(y.Z,{id:"error-messages.empty-collection-liked-playlists"})})]})]})}),U=(0,r.Pi)(e=>{var t,i,o,l,n,r;let{tabsState:c,tabElementId:m}=e,{collection:{playlistsCreated:u,playlistsLiked:h}}=(0,b.oR)(),{formatMessage:v}=(0,P.Z)(),{isScrolling:g}=(0,d.useContext)(C.pI),p=(0,b.k6)(),x=N(c),y=(0,d.useMemo)(()=>{var e,t;return(null===(e=u.pager)||void 0===e?void 0:e.total)?"".concat(v({id:"collection.your-created-playlists"})," • ").concat(null===(t=u.pager)||void 0===t?void 0:t.total):v({id:"collection.your-created-playlists"})},[v,null===(t=u.pager)||void 0===t?void 0:t.total]),j=(0,d.useMemo)(()=>{var e,t;return(null===(e=h.pager)||void 0===e?void 0:e.total)?"".concat(v({id:"collection.your-liked-playlists"})," • ").concat(null===(t=h.pager)||void 0===t?void 0:t.total):v({id:"collection.your-liked-playlists"})},[v,null===(i=h.pager)||void 0===i?void 0:i.total]);return(0,a.jsx)(C.h4,{variant:"composite",staticClassName:(0,_.W)(A().staticHeader,A().important),"aria-hidden":!g,stickyClassName:(0,_.W)(A().stickyHeader,A().important),stickyChild:(0,a.jsxs)("div",{className:A().container,children:[p.canBack&&(0,a.jsx)(f.n,{withForwardControl:!1,withBackwardControl:p.canBack,buttonSize:"xs"}),(0,a.jsxs)(C.no,{isLoading:u.isLoading,shimmer:(0,a.jsx)(I,{}),className:A().stickyTabs,elementId:m,...c,onTabChange:x,children:[(0,a.jsx)(C.OK,{className:A().tab,value:s.CREATED,title:y,"aria-label":v({id:"entity-names.created-playlists-count"},{value:null!==(n=null===(o=u.pager)||void 0===o?void 0:o.total)&&void 0!==n?n:0}),"aria-hidden":!g,tabIndex:g?0:-1}),(0,a.jsx)(C.OK,{className:A().tab,value:s.LIKED,title:j,"aria-label":v({id:"entity-names.liked-playlists-count"},{value:null!==(r=null===(l=h.pager)||void 0===l?void 0:l.total)&&void 0!==r?r:0}),"aria-hidden":!g,tabIndex:g?0:-1})]})]})})}),T=(0,r.Pi)(()=>{let e=(0,c.useSearchParams)(),{user:t,collection:{playlistsCreated:i,playlistsLiked:o},experiments:l}=(0,b.oR)(),[r,v]=(0,h.zU)(),_=l.checkExperiment(b.pe.WebNextDisableCollection,"on"),P=(0,d.useId)(),p=(0,d.useMemo)(()=>{let t=e.get("tab");switch(t){case n.CREATED:break;case n.LIKED:return s.LIKED}return s.CREATED},[e]),x=(0,u.useTabsState)(p);if(_&&(0,c.redirect)("/"),t.account.uid&&i.loadingState===b.Gu.IDLE){let e=Promise.allSettled([i.getData({userId:t.account.uid,page:0,pageSize:20}),o.getData({userId:t.account.uid,sortOrder:m.As.DESC,metaType:"music",page:0,pageSize:20})]);(0,d.use)(e)}(0,b.NO)(i.loadingState===b.Gu.RESOLVE),(0,d.useEffect)(()=>()=>{i.reset(),o.reset()},[i,o]);let C=(0,d.useMemo)(()=>{switch(x.value){case s.CREATED:return(0,a.jsx)(D,{forwardRef:v,tabsState:x,tabElementId:P});case s.LIKED:if(o.isEmpty)return(0,a.jsx)(z,{tabsState:x,tabElementId:P});return(0,a.jsx)(M,{forwardRef:v,tabsState:x,tabElementId:P})}},[v,o.isEmpty,P,x]);return(0,a.jsx)(b.Lh,{pageId:b.Rh.OWN_PLAYLISTS,children:(0,a.jsx)(h.I7,{scrollElement:r,headerThreshold:148,children:(0,a.jsxs)("div",{className:g().root,children:[(0,a.jsx)(U,{tabsState:x,tabElementId:P}),C]})})})})},37500:function(e){e.exports={root:"SplashScreen_root__3jzFk",root_dark:"SplashScreen_root_dark__0OcZj",root_light:"SplashScreen_root_light__XAJTf",root_hidden:"SplashScreen_root_hidden__BO7tp","fade-out":"SplashScreen_fade-out__uNMY4",video:"SplashScreen_video__wFSy5"}},68585:function(e){e.exports={root:"CollectionAlbumsPage_root__qMtcC"}},21017:function(e){e.exports={root:"CollectionAlbumsPageContent_root__2Ya18",scrollContainer:"CollectionAlbumsPageContent_scrollContainer__0TjJm",important:"CollectionAlbumsPageContent_important__fixM8",content:"CollectionAlbumsPageContent_content__jcwRU",footer:"CollectionAlbumsPageContent_footer__ZkUKY",item:"CollectionAlbumsPageContent_item__I_Wuz",tabPanel:"CollectionAlbumsPageContent_tabPanel__0qXKZ"}},91036:function(e){e.exports={root:"CollectionAlbumsPageEmpty_root__7yn1F",icon:"CollectionAlbumsPageEmpty_icon__XFf9x",title:"CollectionAlbumsPageEmpty_title__hMQde",text:"CollectionAlbumsPageEmpty_text__jp_lj"}},915:function(e){e.exports={root:"CollectionAlbumsPageHeader_root__87L_c",container:"CollectionAlbumsPageHeader_container__96cIo",title:"CollectionAlbumsPageHeader_title__1Ps8d",tabs:"CollectionAlbumsPageHeader_tabs__P4GTY",tab:"CollectionAlbumsPageHeader_tab__JSFBc",tabsShimmer:"CollectionAlbumsPageHeader_tabsShimmer__fGlR0",tabShimmer:"CollectionAlbumsPageHeader_tabShimmer__9hCc6",staticHeader:"CollectionAlbumsPageHeader_staticHeader__YNfX4",important:"CollectionAlbumsPageHeader_important__0dgC2",stickyHeader:"CollectionAlbumsPageHeader_stickyHeader__L_1IS"}},77979:function(e){e.exports={root:"CollectionArtistsPage_root__EH25F",container:"CollectionArtistsPage_container__mNUIo",scrollContent:"CollectionArtistsPage_scrollContent__CSeYr",scrollContainer:"CollectionArtistsPage_scrollContainer__tT6NQ",important:"CollectionArtistsPage_important__MG_XV",footer:"CollectionArtistsPage_footer__aZrx3",item:"CollectionArtistsPage_item___cy_9",content:"CollectionArtistsPage_content__Jd9hE"}},23234:function(e){e.exports={root:"CollectionPage_root__CZAxL",root_withCollectionColor:"CollectionPage_root_withCollectionColor__4kV02",content:"CollectionPage_content__c3f8z",header:"CollectionPage_header__z193s",description:"CollectionPage_description__A3dny",collectionColor:"CollectionPage_collectionColor__M5l1f",landing:"CollectionPage_landing__B4jW_",landing_onlyWizard:"CollectionPage_landing_onlyWizard__umeEK",footer:"CollectionPage_footer__9kzD0",footer_onlyWizard:"CollectionPage_footer_onlyWizard__FxCwa",error:"CollectionPage_error__xs4ZH"}},85742:function(e){e.exports={root:"CollectionPlaylistsCreatedPage_root__o77CF",scrollContainer:"CollectionPlaylistsCreatedPage_scrollContainer__Spb2M",important:"CollectionPlaylistsCreatedPage_important__DLkOq",content:"CollectionPlaylistsCreatedPage_content___qalr",footer:"CollectionPlaylistsCreatedPage_footer__I2jJa",item:"CollectionPlaylistsCreatedPage_item__2RmBg"}},92158:function(e){e.exports={root:"CollectionPlaylistsLikedPage_root__ZyIwA",scrollContainer:"CollectionPlaylistsLikedPage_scrollContainer__H_vPA",important:"CollectionPlaylistsLikedPage_important__GjYTU",content:"CollectionPlaylistsLikedPage_content__WIxhp",footer:"CollectionPlaylistsLikedPage_footer__A60Ui",item:"CollectionPlaylistsLikedPage_item__PpCht"}},95187:function(e){e.exports={root:"CollectionPlaylistsPage_root__1QnBw"}},82825:function(e){e.exports={root:"CollectionPlaylistsPageContent_root__hGnWW",scrollContainer:"CollectionPlaylistsPageContent_scrollContainer__fiLLm",important:"CollectionPlaylistsPageContent_important__ebi2p",content:"CollectionPlaylistsPageContent_content__aZ2bA",footer:"CollectionPlaylistsPageContent_footer__4Ir_w",item:"CollectionPlaylistsPageContent_item__OPBiS",tabPanel:"CollectionPlaylistsPageContent_tabPanel__2uB2_"}},36397:function(e){e.exports={root:"CollectionPlaylistsPageEmpty_root__mKZt2",icon:"CollectionPlaylistsPageEmpty_icon__x9v_P",title:"CollectionPlaylistsPageEmpty_title__8RfSi"}},53158:function(e){e.exports={root:"CollectionPlaylistsPageHeader_root__GfGIl",container:"CollectionPlaylistsPageHeader_container__oh7C2",title:"CollectionPlaylistsPageHeader_title__2D23I",staticTabs:"CollectionPlaylistsPageHeader_staticTabs__9c9yq",stickyTabs:"CollectionPlaylistsPageHeader_stickyTabs__Iot6U",tab:"CollectionPlaylistsPageHeader_tab__aNTOB",tabsShimmer:"CollectionPlaylistsPageHeader_tabsShimmer__u9JIN",tabShimmer:"CollectionPlaylistsPageHeader_tabShimmer__ekXeT",staticHeader:"CollectionPlaylistsPageHeader_staticHeader__lzc4l",important:"CollectionPlaylistsPageHeader_important__uR36G",stickyHeader:"CollectionPlaylistsPageHeader_stickyHeader__ojvbQ"}},99800:function(e){e.exports={root:"WelcomePage_root__JK3Pb",image:"WelcomePage_image__7_fpW",loginButton:"WelcomePage_loginButton__AJHcG",secondBackground:"WelcomePage_secondBackground__55zFI",offerButton:"WelcomePage_offerButton__MRs_g",offerButton_important:"WelcomePage_offerButton_important__0wf60",offerButtonLink:"WelcomePage_offerButtonLink__riHrM",title:"WelcomePage_title__wII2C",text:"WelcomePage_text__A4aXp",offerText:"WelcomePage_offerText__ZvXKN",logoContainer:"WelcomePage_logoContainer__72W3y",logo:"WelcomePage_logo__oMU8g",user:"WelcomePage_user__WNc4W",username:"WelcomePage_username__yXGsn",important:"WelcomePage_important__MJxEk"}},4379:function(e){e.exports={root:"Login_root__VtFg_",title:"Login_title__dqQz1",important:"Login_important__Z8S9I",text:"Login_text__1uju5",button:"Login_button__ZYvZY"}},11737:function(e,t){"use strict";t.Z={src:"/_next/static/media/desktop.1e0910e6.webp",height:1800,width:2880,blurDataURL:"data:image/webp;base64,UklGRk4AAABXRUJQVlA4IEIAAADwAQCdASoIAAUAAkA4JYwCdEf/gegCuVYA/vwD3r9S5U9JHqXE6Z/y/x+DQID4BQ1GukGyA4khK6cqL1J3lTe0AAA=",blurWidth:8,blurHeight:5}},25811:function(e,t){"use strict";t.Z={src:"/_next/static/media/mobile.3fa5bdc0.webp",height:1270,width:750,blurDataURL:"data:image/webp;base64,UklGRlAAAABXRUJQVlA4IEQAAADwAQCdASoFAAgAAkA4JQBOiP/wNvu9lgAA/v1xMJqxugMp/PP2rm+shlwzDVo+PKs3U60goeXdVhlYEvqdmg9mn8oAAA==",blurWidth:5,blurHeight:8}},89788:function(e,t,i){"use strict";i.d(t,{NS:function(){return n},JC:function(){return a},$V:function(){return m},tg:function(){return d}}),i(94739);var o=i(26424);function l(e){if(!e)return null;try{return JSON.parse(e)}catch(e){return console.error(e),null}}class n{get(e,t=!0){let i=(0,o.U2)(e);return t?l(i)?.value??null:i||null}set(e,t,i,l=!0){try{let n=l?JSON.stringify({value:t}):t;(0,o.t8)(e,n,i)}catch(e){console.error(e)}}has(e){return!!this.get(e)}remove(e){(0,o.Od)(e)}}let s=e=>864e5*e;class a{get(e){if("undefined"!=typeof window){let t=window.localStorage.getItem(e)||void 0,i=l(t);if(!i)return null;let o=i?.value??null;return i?.expires&&Date.now()>new Date(i.expires).getTime()?(this.remove(e),null):o}return null}set(e,t,i){if("number"==typeof i?.expires){let e=new Date;e.setMilliseconds(e.getMilliseconds()+s(i.expires)),i.expires=e}"undefined"!=typeof window&&window.localStorage.setItem(e,JSON.stringify({value:t,...i}))}has(e){return!!this.get(e)}remove(e){"undefined"!=typeof window&&window.localStorage.removeItem(e)}}var r=i(83993);class c extends r.y{name="Storage Exception";constructor(e,t,{code:i="E_STORAGE",...o}={}){super(`There is no ${t} storage on the ${e} platform`,{code:i,...o}),Object.setPrototypeOf(this,c.prototype)}}class d{platform="";type="";constructor(e,t){this.platform=e,this.type=t}get(e){throw new c(this.platform,this.type)}set(e,t,i){throw new c(this.platform,this.type)}has(e){throw new c(this.platform,this.type)}remove(e){throw new c(this.platform,this.type)}}class m{get(e){let t=window.sessionStorage.getItem(e)??void 0;return l(t)?.value??null}set(e,t){window.sessionStorage.setItem(e,JSON.stringify({value:t}))}has(e){return!!this.get(e)}remove(e){window.sessionStorage.removeItem(e)}}}}]);