(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8337],{36957:function(e,t,a){"use strict";a.r(t),a.d(t,{AlbumNotFoundPage:function(){return r}});var s=a(8759),n=a(33423),o=a(99616),i=a(2365),l=a(84133);let r=(0,n.Pi)(()=>{let{album:e}=(0,l.oR)();return(0,o.useEffect)(()=>()=>{e.reset()},[e]),(0,s.jsx)(i.T,{})})},56890:function(e,t,a){"use strict";a.r(t),a.d(t,{AlbumPage:function(){return M}});var s,n,o=a(8759),i=a(33423),l=a(11769),r=a(99616),d=a(65244),m=a(27287),u=a(70579),c=a(96911),x=a(13236),h=a(7042),b=a(84133),g=a(44285),v=a(35338),_=a(2814),p=a(71440),A=a(36019),C=a(1918),f=a(53433),j=a(48157),k=a(95539),N=a(21774),L=a(44752),I=a.n(L);let E=(0,i.Pi)(e=>{var t;let{albumHeaderRef:a,refCallback:s}=e,n=(0,r.useRef)(null),i=(0,b.x5)({pageId:b.Rh.ALBUM,blockId:b.aU.ALBUM}),l=(0,r.useRef)(0),{notify:m}=(0,b.d$)(),{album:u,experiments:x,sonataState:h}=(0,b.oR)(),{formatMessage:L}=(0,d.Z)(),[E,R]=(0,r.useState)(!1);(0,r.useEffect)(()=>()=>{l.current=0},[u]),(0,r.useEffect)(()=>{(u.otherArtistAlbums.loadingState===b.Gu.REJECT||u.latestGenreAlbums.loadingState===b.Gu.REJECT)&&l&&!(l.current>0)&&(m((0,o.jsx)(g.Q,{error:L({id:"album-errors.error-during-loading-similar-albums"})}),{containerId:b.W$.ERROR}),l.current++)},[u.isNotFound,u.latestGenreAlbums.loadingState,u.otherArtistAlbums.loadingState,L,m]),(0,r.useEffect)(()=>{u.isLoaded&&u.hasOtherAlbumVersions&&R(!0)},[u.hasOtherAlbumVersions,u.isLoaded]);let T=(0,r.useCallback)(()=>{let e=n.current;null==e||e.scrollIntoView({behavior:"smooth"})},[]),B=(0,r.useMemo)(()=>u.isLoading||!u.meta||u.isRejected?(0,o.jsx)(j.KC,{className:I().header}):(0,o.jsx)(j.hx,{album:u.meta,className:I().header,ref:a,onVersionClick:E?T:void 0}),[u.isLoading,u.isRejected,u.meta,a,T,E]),P=(0,r.useMemo)(()=>({Header:()=>B,Footer:()=>(0,o.jsxs)("div",{className:I().footerContainer,children:[(0,o.jsxs)("div",{className:I().carouselBlocks,children:[u.hasOtherAlbumVersions&&(0,o.jsx)(c.wk,{className:I().carouselContainer,headerClassName:(0,v.W)(I().carouselBlock,I().carouselBlockHeader),containerClassName:I().carouselBlock,isLoading:u.isLoading,title:L({id:"entity-names.other-album-versions"}),albums:u.otherAlbumVersions,...(0,f.BA)(f.Br.album.OTHER_VERSIONS_CAROUSEL),headingRef:n}),u.hasLatestGenreAlbums&&(0,o.jsx)(c.wk,{className:I().carouselContainer,headerClassName:(0,v.W)(I().carouselBlock,I().carouselBlockHeader),containerClassName:I().carouselBlock,isLoading:u.isLatestGenreAlbumsLoading,title:L({id:"entity-names.new-albums-in-genre"}),albums:u.latestGenreAlbums.items,...(0,f.BA)(f.Br.album.GENRE_ALBUMS_CAROUSEL)}),u.hasOtherArtistAlbums&&(0,o.jsx)(c.wk,{className:I().carouselContainer,headerClassName:(0,v.W)(I().carouselBlock,I().carouselBlockHeader),containerClassName:I().carouselBlock,isLoading:u.isOtherArtistAlbumsLoading,title:L({id:"entity-names.other-albums-of-artist"}),albums:u.otherArtistAlbums.items,...(0,f.BA)(f.Br.album.OTHER_ARTIST_ALBUMS_CAROUSEL)})]}),(0,o.jsx)(g.$_,{className:I().footer})]})}),[B,u.hasOtherAlbumVersions,u.isLoading,u.otherAlbumVersions,u.hasLatestGenreAlbums,u.isLatestGenreAlbumsLoading,u.latestGenreAlbums.items,u.hasOtherArtistAlbums,u.isOtherArtistAlbumsLoading,u.otherArtistAlbums.items,L]),W=(0,r.useCallback)(e=>{let t=[];for(let a=e.startIndex;a<=e.endIndex;a++){let e=u.items[a];(null==e?void 0:e.type)===A.Vc.TRACK&&(null==e?void 0:e.loadingState)===b.Gu.IDLE&&t.push(e.id)}t.length&&u.getTracks({trackIds:t})},[u]),S=x.checkExperiment(b.pe.WebNextAlbumDisableTracks,"on"),y=S?0:u.items.length||10;return(0,o.jsx)(g.Wv,{className:(0,v.W)(I().root,I().important),listClassName:I().content,context:{listAriaLabel:L({id:"entity-names.albums-tracks-list"},{albumName:(null===(t=u.meta)||void 0===t?void 0:t.title)||""})},customComponents:P,totalCount:y,itemContentCallback:e=>{var t,a;let s=null==u?void 0:null===(t=u.items)||void 0===t?void 0:t[e];if(!s||!u.meta||u.isRejected)return(0,o.jsx)(g.DX,{className:I().shimmerItem,variant:b.Lx.ALBUM});if(!(null==s?void 0:s.data))switch(null==s?void 0:s.type){case N.lf.TEXT:return(0,o.jsx)(g.AH,{className:I().shimmerItem});case A.Vc.TRACK:return(0,o.jsx)(g.DX,{className:I().shimmerItem,variant:b.Lx.ALBUM})}return(null==s?void 0:s.type)===N.lf.TEXT?(0,o.jsx)("div",{className:(0,v.W)(I().shimmerItem,I().textItem),children:(0,o.jsx)(C.Caption,{variant:"span",type:"entity",size:"m",weight:"medium",className:I().text,children:(0,o.jsx)(_.Z,{id:"entity-names.disk-number",values:{number:s.data}})})}):s.data?(0,o.jsx)(k.RJ,{withLightning:s.isBest,track:s.data,position:s.position,albumArtists:null==u?void 0:null===(a=u.meta)||void 0===a?void 0:a.artists,playContextParams:{contextData:{type:p.Ak.Album,meta:u.contextMeta,from:i},queueParams:{index:u.trackIndexInContext.get(String(s.id))},loadContextMeta:!0,entitiesData:h.unloadedEntitiesDataFromModels}}):void 0},onGetDataByRange:W,debounceDurationInMs:300,initialItemCount:y,handleRef:s,withHeader:!0})});var R=a(26265),T=a(6329);(s=n||(n={})).ABOUT="about",s.TRACKS="track-list";let B=[n.ABOUT,n.TRACKS];var P=a(28280),W=a.n(P);let S="activeTab",y=(0,i.Pi)(e=>{var t;let{podcastHeaderRef:a,refCallback:s}=e,i=(0,b.x5)({pageId:b.Rh.PODCAST,blockId:b.aU.PODCAST}),l=(0,r.useRef)(0),m=(0,r.useRef)(null),[u,c]=(0,r.useState)(n.ABOUT),x=(0,b.m5)(),{album:h,experiments:f,sonataState:L}=(0,b.oR)(),E=f.checkExperiment(b.pe.WebNextPodcastPage,"on"),P=(0,R.useTabsState)(0),{formatMessage:y}=(0,d.Z)();(0,r.useEffect)(()=>()=>{l.current=0},[h]),(0,r.useEffect)(()=>{var e,t,a;if(!E)return;(null===(e=window.location)||void 0===e?void 0:e.href)&&(m.current=new URL(window.location.href));let s=null===(t=m.current)||void 0===t?void 0:t.searchParams,o=null==s?void 0:s.get(S);B.includes(o)?(c(o),null===(a=P.onTabChange)||void 0===a||a.call(P,B.indexOf(o))):(null==s||s.set(S,n.ABOUT),x(String(m.current)))},[P,x,E]);let M=(0,r.useMemo)(()=>({about:y({id:"podcast.tab-about"}),"track-list":y({id:"podcast.tab-tracks"},{value:h.items.length})}),[y,h.items.length]),V=(0,r.useMemo)(()=>e=>{var t,a,s;if(!P.onTabChange||e===P.value)return;P.onTabChange(e);let o=null!==(s=B[e])&&void 0!==s?s:n.ABOUT;c(o),null===(a=m.current)||void 0===a||null===(t=a.searchParams)||void 0===t||t.set(S,o),x(String(m.current))},[P,x]),O=(e,t)=>(0,o.jsxs)("div",{className:W().infoBlock,children:[(0,o.jsx)(C.Caption,{variant:"div",type:"entity",size:"m",className:W().infoTitle,children:e}),(0,o.jsx)(C.Caption,{variant:"div",type:"entity",size:"m",children:t})]}),D=(0,r.useMemo)(()=>{var e,t,a,s,n;let i=Number(null===(e=h.labels)||void 0===e?void 0:e.length)>1?y({id:"podcast.publishers-title"}):y({id:"podcast.publisher-title"}),l=null===(t=h.labels)||void 0===t?void 0:t.map(e=>e.name).join(", "),r=y({id:"podcast.age-limit"}),d=h.contentWarning===A.F1.EXPLICIT;return(0,o.jsxs)("div",{className:W().contentAbout,children:[!!(null===(a=h.description)||void 0===a?void 0:a.length)&&(0,o.jsx)(C.Caption,{variant:"div",type:"entity",size:"m",className:I().text,children:(0,o.jsx)("span",{dangerouslySetInnerHTML:{__html:h.description}})}),((null===(s=h.labels)||void 0===s?void 0:s.length)||d)&&(0,o.jsxs)("div",{className:I().text,children:[!!(null===(n=h.labels)||void 0===n?void 0:n.length)&&O("".concat(i,":"),String(l)),d&&O("".concat(r,":"),"18+")]})]})},[y,h.contentWarning,h.labels,h.description]),U=(0,r.useMemo)(()=>h.isLoading||!h.meta||h.isRejected?(0,o.jsx)(j.KC,{className:I().header}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(j.hx,{album:h.meta,className:I().header,ref:a}),E&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(g.no,{className:W().tabCarousel,...P,onTabChange:V,children:B.map((e,t)=>(0,o.jsx)(g.OK,{className:W().tab,title:M[e],value:t},e))}),u===n.ABOUT&&D]})]}),[h.isLoading,h.isRejected,h.meta,D,E,a,P,M,V,u]);(0,r.useEffect)(()=>{h.isLoaded&&h.loadLastEpisodes()},[h,h.isLoaded,h.loadLastEpisodes]);let w=f.checkExperiment(b.pe.WebNextPodcastPage,"on")&&u===n.ABOUT&&h.lastEpisodes.length>0,G=(0,r.useMemo)(()=>({Header:()=>U,Footer:()=>(0,o.jsxs)("div",{className:I().footerContainer,children:[w&&(0,o.jsx)(T.QG,{className:W().lastEpisodes}),(0,o.jsx)(g.$_,{className:I().footer})]})}),[U,w]),F=(0,r.useCallback)(e=>{let t=[];for(let a=e.startIndex;a<=e.endIndex;a++){let e=h.items[a];(null==e?void 0:e.type)===A.Vc.TRACK&&(null==e?void 0:e.loadingState)===b.Gu.IDLE&&t.push(e.id)}t.length&&h.getTracks({trackIds:t})},[h]),H=f.checkExperiment(b.pe.WebNextAlbumDisableTracks,"on"),X=H||E&&u===n.ABOUT?0:h.items.length||10,z=(0,r.useMemo)(()=>{var e;return E&&u===n.TRACKS?{listAriaLabel:y({id:"podcast.episodes-list"},{albumName:(null===(e=h.meta)||void 0===e?void 0:e.title)||""})}:null},[u,null===(t=h.meta)||void 0===t?void 0:t.title,y,E]);return(0,o.jsx)(g.Wv,{className:(0,v.W)(I().root,I().important),listClassName:(0,v.W)(I().content,W().content),context:z,customComponents:G,totalCount:X,itemContentCallback:e=>{var t;let a=null==h?void 0:null===(t=h.items)||void 0===t?void 0:t[e];if(!a||!h.meta||h.isRejected)return(0,o.jsx)(g.DX,{className:I().shimmerItem,variant:b.Lx.ALBUM});if(!(null==a?void 0:a.data))switch(null==a?void 0:a.type){case N.lf.TEXT:return(0,o.jsx)(g.AH,{className:I().shimmerItem});case A.Vc.TRACK:return(0,o.jsx)(g.DX,{className:I().shimmerItem,variant:b.Lx.ALBUM});default:return(0,o.jsx)(g.DX,{className:W().shimmerItem,variant:b.Lx.PLAYLIST})}return(null==a?void 0:a.type)===N.lf.TEXT?(0,o.jsx)("div",{className:(0,v.W)(I().shimmerItem,I().textItem),children:(0,o.jsx)(C.Caption,{variant:"span",type:"entity",size:"m",className:I().text,children:(0,o.jsx)(_.Z,{id:"entity-names.season-number",values:{number:a.data}})})}):a.data?(0,o.jsx)(k.N6,{track:a.data,playContextParams:{contextData:{type:p.Ak.Album,meta:h.contextMeta,from:i},queueParams:{index:h.trackIndexInContext.get(String(a.id))},loadContextMeta:!1,entitiesData:L.unloadedEntitiesDataFromModels}}):void 0},onGetDataByRange:F,debounceDurationInMs:300,initialItemCount:X,handleRef:s,withHeader:!0})}),M=(0,i.Pi)(e=>{var t,a,s,n;let{albumId:i}=e,v=(0,r.useRef)(0),[_,p]=(0,x.zU)(),{notify:A}=(0,b.d$)(),{album:C,disclaimer:f}=(0,b.oR)(),{formatMessage:j}=(0,d.Z)(),{ref:k,offsetY:N}=(0,m.e)(),L=(0,r.useMemo)(()=>{var e;return(0,b.XG)(null===(e=C.meta)||void 0===e?void 0:e.averageColor)},[null===(t=C.meta)||void 0===t?void 0:t.averageColor]),[R,T]=(0,x.at)(L,N),{href:B}=(0,b.zB)("/album/".concat(C.deprecationTargetAlbumId)),P=(0,c.jV)({album:C.meta,shouldHistoryBack:!0});(0,r.useEffect)(()=>{var e;(null===(e=C.meta)||void 0===e?void 0:e.isUnsafeLegal)&&P()},[null===(a=C.meta)||void 0===a?void 0:a.isUnsafeLegal,P]),(0,r.useEffect)(()=>()=>{C.reset()},[C,i]),i&&C.loadingState===b.Gu.IDLE&&(0,r.use)(C.getData({albumId:Number(i),resumeStream:!1})),C.deprecationTargetAlbumId&&(0,l.redirect)(B);let W=(0,r.useMemo)(()=>()=>{if(!C.isNotFound&&(C.isRejected||!C.meta&&!C.isLoading)){var e;if(!v||v.current>0)return;let t=(null===(e=C.meta)||void 0===e?void 0:e.isPodcast)?j({id:"podcast-errors.error-during-loading-podcast"}):j({id:"album-errors.error-during-loading-album"});A((0,o.jsx)(g.Q,{error:t}),{containerId:b.W$.ERROR}),v.current++}},[C.isRejected,C.isNotFound,C.meta,C.isLoading,A,j]);W(),(0,b.NO)(C.loadingState===b.Gu.RESOLVE),C.isNotFound&&(0,l.notFound)();let S=(0,r.useMemo)(()=>{var e;return(null===(e=C.meta)||void 0===e?void 0:e.isPodcast)?(0,o.jsx)(y,{podcastHeaderRef:k,refCallback:p}):(0,o.jsx)(E,{albumHeaderRef:k,refCallback:p})},[null===(s=C.meta)||void 0===s?void 0:s.isPodcast,k,p]);return(null===(n=C.meta)||void 0===n?void 0:n.isLegalRejected)?f.isRejected?(0,o.jsx)(u.D,{}):(0,o.jsx)(h.em,{disclaimer:f}):(0,o.jsx)(b.Lh,{pageId:b.Rh.ALBUM,children:(0,o.jsxs)(x.I7,{scrollElement:_,children:[(0,o.jsx)(g.h4,{style:T}),(0,o.jsx)("div",{className:I().averageColorBackground,style:R}),S]})})})},6329:function(e,t,a){"use strict";a.d(t,{QG:function(){return s.LastEpisodes},JP:function(){return u}});var s=a(76963),n=a(96555),o=a(36019),i=a(95539),l=a(21774),r=a(84133);let d=n.V5.model("VolumeItemTrack",{type:n.V5.enumeration(Object.values(o.Vc)),id:n.V5.union(n.V5.string,n.V5.number),data:n.V5.maybeNull(i.le),position:n.V5.maybe(n.V5.number),isBest:n.V5.maybe(n.V5.boolean),loadingState:n.V5.enumeration(Object.values(r.Gu))}),m=n.V5.model("VolumeItemText",{type:n.V5.literal(l.lf.TEXT),data:n.V5.maybeNull(n.V5.number)}),u=n.V5.union(m,d)},76963:function(e,t,a){"use strict";a.r(t),a.d(t,{LastEpisodes:function(){return h}});var s=a(8759),n=a(35338),o=a(33423),i=a(99616),l=a(65244),r=a(71440),d=a(95539),m=a(84133),u=a(44285),c=a(63548),x=a.n(c);let h=(0,o.Pi)(e=>{let{className:t}=e,{formatMessage:a}=(0,l.Z)(),{album:o,sonataState:c}=(0,m.oR)(),h=(0,m.x5)({pageId:m.Rh.PODCAST,blockId:m.aU.PODCAST}),b=(0,i.useMemo)(()=>o.lastEpisodes.map((e,t)=>o.isLoaded&&e.data?(0,s.jsx)(d.N6,{track:e.data,playContextParams:{contextData:{type:r.Ak.Album,meta:o.contextMeta,from:h},queueParams:{index:o.trackIndexInContext.get(String(e.id))},loadContextMeta:!1,entitiesData:c.unloadedEntitiesDataFromModels}},e.data.id):(0,s.jsx)(u.DX,{className:x().shimmerItem,variant:m.Lx.ALBUM},t)),[o.lastEpisodes,o.isLoaded,o.contextMeta,o.trackIndexInContext,h,c.unloadedEntitiesDataFromModels]);return(0,s.jsxs)("div",{className:(0,n.W)(t,x().root),children:[(0,s.jsx)(u.ti,{className:x().blockHeader,title:a({id:"entity-names.podcast-last-episodes"})}),(0,s.jsx)("div",{role:"list","aria-label":a({id:"podcast.last-episodes-list"}),tabIndex:0,children:b})]})})},70579:function(e,t,a){"use strict";a.d(t,{D:function(){return s.SomethingWentWrong}});var s=a(48471)},48471:function(e,t,a){"use strict";a.r(t),a.d(t,{SomethingWentWrong:function(){return b}});var s=a(8759),n=a(35338),o=a(33423),i=a(99616),l=a(2814),r=a(15527),d=a(14581),m=a(1918),u=a(42769),c=a(84133),x=a(29847),h=a.n(x);let b=(0,o.Pi)(e=>{let{className:t,withBackwardControl:a=!0}=e,o=(0,i.useCallback)(()=>{window.location.reload()},[]),{contentRef:x}=(0,c.$Y)();return(0,s.jsxs)("div",{className:(0,n.W)(h().root,t),children:[a&&(0,s.jsx)(u.n,{withBackwardFallback:"/",className:(0,n.W)(h().navigation,{[h().navigation_desktop]:!x}),withForwardControl:!1}),(0,s.jsxs)("div",{className:(0,n.W)(h().content,{[h().content_shrink]:!a}),children:[(0,s.jsx)(d.J,{className:h().icon,variant:"attention",size:"xxl"}),(0,s.jsx)(m.Heading,{className:(0,n.W)(h().title,h().important),variant:"h3",size:"xs",children:(0,s.jsx)(l.Z,{id:"error-messages.something-went-wrong"})}),(0,s.jsxs)(m.Caption,{className:(0,n.W)(h().text,h().important),variant:"span",type:"text",size:"l",weight:"normal",children:[!1,(0,s.jsx)(l.Z,{id:"page-error.try-to-restart-app"})]}),(0,s.jsx)(r.z,{onClick:o,className:h().button,role:"link",color:"secondary",size:"l",radius:"xxxl",children:(0,s.jsxs)(m.Caption,{type:"controls",variant:"span",size:"m",children:[!1,(0,s.jsx)(l.Z,{id:"page-error.restart-app-button"})]})})]})]})})},44752:function(e){e.exports={root:"AlbumPage_root__RMrFx",important:"AlbumPage_important__x2o8I",averageColorBackground:"AlbumPage_averageColorBackground__PmVaF",header:"AlbumPage_header__TDpqp",content:"AlbumPage_content__1JXxB",footerContainer:"AlbumPage_footerContainer__1IxWF",carouselBlocks:"AlbumPage_carouselBlocks__VIvNT",carouselBlock:"AlbumPage_carouselBlock__oWYmS",carouselBlockHeader:"AlbumPage_carouselBlockHeader__Bb3Ts",carouselContainer:"AlbumPage_carouselContainer__9clXz",textItem:"AlbumPage_textItem__1T3qL",text:"AlbumPage_text__rCU1L",shimmerItem:"AlbumPage_shimmerItem___Yecm",footer:"AlbumPage_footer__6_0Ei"}},28280:function(e){e.exports={tabCarousel:"PodcastContent_tabCarousel__cNl0q",tab:"PodcastContent_tab__6Rx8j",contentAbout:"PodcastContent_contentAbout__OFJ8L",infoBlock:"PodcastContent_infoBlock__kDh2i",infoTitle:"PodcastContent_infoTitle__WnMqm",content:"PodcastContent_content__U7mlc",lastEpisodes:"PodcastContent_lastEpisodes__GhmYl"}},63548:function(e){e.exports={root:"LastEpisodes_root__4JPKj",blockHeader:"LastEpisodes_blockHeader__se7bd",shimmerItem:"LastEpisodes_shimmerItem__Iirx5"}},29847:function(e){e.exports={root:"SomethingWentWrong_root__d77VJ",content:"SomethingWentWrong_content__8_YkJ",content_shrink:"SomethingWentWrong_content_shrink__GOR_7",navigation:"SomethingWentWrong_navigation__a8eMG",navigation_desktop:"SomethingWentWrong_navigation_desktop__WGGBX",icon:"SomethingWentWrong_icon__f15_y",title:"SomethingWentWrong_title__Kn89B",important:"SomethingWentWrong_important__namIb",text:"SomethingWentWrong_text__KEfGc",button:"SomethingWentWrong_button__dmh7t"}}}]);