(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6911],{96911:function(e,i,t){"use strict";t.d(i,{rf:function(){return a.AlbumCard},oK:function(){return g.AlbumContextMenu},ug:function(){return u.u},wk:function(){return c},vK:function(){return n.UpcomingAlbumCard},W9:function(){return p},ym:function(){return b},cO:function(){return k},wJ:function(){return f},wq:function(){return _},jV:function(){return x.useAlbumDisclaimer}});var a=t(81822),n=t(33170),l=t(8759),s=t(99616),r=t(44285);let o=e=>{let{forwardRef:i,title:t,description:n,albums:s,isLoading:o,className:c,containerClassName:u,headerClassName:d,viewAllActionLink:m,headingRef:v,...p}=e;return(0,l.jsx)(r.HY,{className:c,headerClassName:d,containerClassName:u,isLoading:o,ref:i,title:t,description:n,viewAllActionLink:m,headingRef:v,...p,children:null==s?void 0:s.map(e=>(0,l.jsx)(a.AlbumCard,{album:e,contentLinesCount:3},e.id))})},c=(0,s.forwardRef)((e,i)=>(0,l.jsx)(o,{forwardRef:i,...e}));var u=t(59942),d=t(96555),m=t(21774),v=t(81446);let p=m.gI.props({artists:d.V5.maybe(d.V5.array(v.Go))}).views(e=>({get artistNames(){var i;return null===(i=e.artists)||void 0===i?void 0:i.map(e=>e.name).join(", ")}})),b=e=>{let i=e.artists.map(e=>(0,v.d)(e));return(0,d.pj)({...(0,m.N)(e),artists:i})},_=e=>{var i;let t=null===(i=e.artists)||void 0===i?void 0:i.map(v.tR);return(0,d.pj)({...(0,m.hh)(e),artists:t})};var C=t(84133);let k=e=>{var i,t,a,n;let{album:l,artists:s,likesCount:r}=e,o="";if(null===(i=l.cover)||void 0===i?void 0:i.color){let{h:e,s:i}=(0,C.sE)(null===(n=l.cover)||void 0===n?void 0:n.color);o="hsl(".concat(e,", ").concat(i,"%, ").concat(20,"%)")}return(0,d.pj)({id:l.id,title:l.title,coverUri:null===(t=l.cover)||void 0===t?void 0:t.uri,type:l.albumType,contentWarning:l.contentWarning,artists:null==s?void 0:s.map(v.tR),averageColor:null===(a=l.cover)||void 0===a?void 0:a.color,hslAverageColor:o,isAvailable:l.available,likesCount:r})};var A=t(16121);let f=e=>{let{album:i,artists:t,likesCount:a,chart:n}=e;return(0,d.pj)({...k({album:i,artists:t,likesCount:a}),chart:n&&(0,A.W5)(n)})};var x=t(52412),g=t(32990)},52412:function(e,i,t){"use strict";t.r(i),t.d(i,{useAlbumDisclaimer:function(){return s}});var a=t(99616),n=t(42503),l=t(84133);let s=e=>{let{album:i,callback:t,shouldHistoryBack:s}=e,{disclaimer:r,modals:{disclaimerModal:o}}=(0,l.oR)(),c=(0,a.useRef)(String((0,n.Z)())),u=(0,a.useRef)(!1),d=(0,l.uK)(),m=d.get(l.ce);return(0,a.useEffect)(()=>{r.isUnsafeDisclaimerConfirmed&&r.id===c.current&&!u.current&&(null==t||t(),u.current=!0)},[t,r.isUnsafeDisclaimerConfirmed,r.id]),(0,a.useCallback)(async e=>{let a=m.get(l.BU.ExEx),n=(null==i?void 0:i.isPodcast)?null==a?void 0:a.includes("".concat(l.co.PODCAST,"_").concat(i.id)):null==a?void 0:a.includes("".concat(l.co.ALBUM,"_").concat(null==i?void 0:i.id));if((null==i?void 0:i.isUnsafeLegal)&&n){null==t||t();return}if((null==i?void 0:i.isLegalRejected)||(null==i?void 0:i.isUnsafeLegal)){null==e||e.preventDefault(),await r.getAlbumDisclaimer({albumId:i.id}),i.isUnsafeLegal&&r.setType(l.Gq.UNSAFE),r.setId(c.current),r.setEntityId(i.id),i.isPodcast?r.setEntityType(l.co.PODCAST):r.setEntityType(l.co.ALBUM),r.setShouldHistoryBack(!!s),u.current=!1,o.open();return}null==t||t()},[null==i?void 0:i.id,null==i?void 0:i.isLegalRejected,null==i?void 0:i.isPodcast,null==i?void 0:i.isUnsafeLegal,t,r,o,m,s])}},59942:function(e,i,t){"use strict";t.d(i,{u:function(){return r}});var a=t(96555),n=t(21774),l=t(81446),s=t(16121);let r=n.KX.props({artists:a.V5.maybe(a.V5.array(l.Go)),chart:a.V5.maybe(s.BH)}).views(e=>({get artistNames(){var i;return null===(i=e.artists)||void 0===i?void 0:i.map(e=>e.name).join(", ")}}))},81822:function(e,i,t){"use strict";t.r(i),t.d(i,{AlbumCard:function(){return B}});var a=t(8759),n=t(35338),l=t(33423),s=t(99616),r=t(65244),o=t(86742),c=t(71440),u=t(36019),d=t(15527),m=t(14077),v=t(33066),p=t(14581),b=t(96437),_=t(1918),C=t(53433),k=t(21774),A=t(81446),f=t(16121),x=t(84133),g=t(44285),h=t(52412),y=t(32990),L=t(75008),j=t.n(L);let B=(0,l.Pi)(e=>{let{className:i,children:t,album:l,contentLinesCount:L,withLikesCount:B,withChart:N,withAddition:U=!0}=e,{ref:w,intersectionPropertyId:M}=(0,x.Vf)(),P=(0,x.x5)(),{formatMessage:E}=(0,r.Z)(),{sendLikeSearchFeedback:S,sendNavigateSearchFeedback:z,sendPlaySearchFeedback:R}=(0,x.sA)(),[D,V]=(0,s.useState)(!1),[I,T]=(0,s.useState)(!1),[W,O]=(0,s.useState)(!1),G=(0,x.zx)(),q=(0,k.SB)(l),Z=(0,k.BV)(l),K=(0,x.s0)(l.url),{sonataState:{status:J},experiments:F}=(0,x.oR)(),[X,Y]=(0,s.useState)(!1),H=l.type===u.VZ.SINGLE?E({id:"entity-names.single"}):void 0,Q=(0,x.tN)([l.year,H]),$=l.contentWarning===u.F1.EXPLICIT?v.ExplicitMarkVariant.E:null,ee=(0,s.useMemo)(()=>{var e;let i=E({id:"entity-names.album-name"},{albumName:l.title}),t=l.isLiked?E({id:"entity-names.has-your-like"}):"";return"".concat(i," ").concat(null!==(e=l.version)&&void 0!==e?e:""," ").concat(t)},[E,l.title,l.isLiked,l.version]),{isPlaying:ei,togglePlay:et}=(0,x.qm)({playContextParams:{contextData:{type:c.Ak.Album,meta:{id:l.id},from:P},loadContextMeta:!0},sonataStatus:J}),ea=(0,h.useAlbumDisclaimer)({album:l,callback:K}),en=(0,h.useAlbumDisclaimer)({album:l,callback:et}),el=(0,s.useCallback)(e=>{G({to:o.qU.AlbumScreen}),null==z||z(),ea(e)},[G,z,ea]),es=(0,s.useCallback)(e=>{el(e)},[el]),er=(0,s.useCallback)(()=>{I||ei||(T(!0),null==R||R()),en()},[ei,I,R,en]),eo=(0,s.useCallback)(()=>{D||l.isLiked||(V(!0),null==S||S()),q()},[l.isLiked,q,D,S]),ec=(0,s.useCallback)(e=>{e.preventDefault(),e.stopPropagation()},[]),eu=(0,s.useCallback)(()=>{O(!W),Y(!W)},[W]),ed=(0,s.useMemo)(()=>{var e;return(0,a.jsxs)(_.Caption,{className:(0,n.W)(j().title,{[j().title_withVersion]:l.version}),variant:"div",type:"entity",size:"s",weight:"medium",lineClamp:2,...(0,C.BA)(C.bG.album.ALBUM_TITLE),children:[(0,a.jsx)(g.rU,{"aria-label":"".concat(l.title," ").concat(null!==(e=l.version)&&void 0!==e?e:""),className:j().titleLink,href:l.url,onClick:el,children:l.title}),l.version&&(0,a.jsx)(_.Caption,{className:j().version,variant:"span",...(0,C.BA)(C.bG.album.ALBUM_VERSION),children:" ".concat(l.version)})]})},[l.title,l.url,l.version,el]),em=(0,s.useMemo)(()=>(0,a.jsx)(y.AlbumContextMenu,{album:l,onOpenChange:eu,open:W,returnFocus:!1,reference:(0,a.jsx)(d.z,{onClick:ec,className:(0,n.W)(j().menuButton,j().control),"aria-label":E({id:"interface-actions.context-menu"}),icon:(0,a.jsx)(p.J,{size:"xxs",variant:"more"}),size:"s",radius:"round",...(0,C.BA)(C.bG.album.ALBUM_CONTEXT_MENU_BUTTON)})}),[l,E,ec,eu,W]),ev=(0,s.useMemo)(()=>{if(F.checkExperiment(x.pe.WebPins,"on"))return(0,a.jsx)(g.RT,{onClick:Z,isPinned:l.isPinned,className:(0,n.W)(j().pinButton,j().control),withRipple:!1})},[l.isPinned,F,Z]),ep=(0,s.useMemo)(()=>{if(l.isAvailable)return(0,a.jsx)(m.kk,{isVisible:W||X,className:j().controls,playControl:(0,a.jsx)(g.JM,{className:(0,n.W)(j().playButton,j().control),buttonVariant:"default",withHover:!1,iconSize:"xl",variant:"filled",onClick:er,isPlaying:ei}),likeControl:(0,a.jsx)(g.dJ,{className:(0,n.W)(j().likeButton,j().control),isLiked:l.isLiked,onClick:eo,variant:"default",size:"s",iconSize:"xxs"}),menuControl:em,pinControl:ev})},[l.isAvailable,l.isLiked,em,eo,er,W,X,ei,ev]),eb=(0,s.useMemo)(()=>(0,a.jsx)(b.Paper,{className:j().cover,radius:"s",withShadow:!0,...(0,C.BA)(C.bG.album.ALBUM_CARD),children:(0,a.jsxs)("div",{className:j().coverBlock,onClick:es,children:[(0,a.jsx)(g.BE,{className:j().image,src:l.coverUri,size:200,fit:"cover",alt:ee,withAvatarReplace:!0,isAvailable:l.isAvailable,"aria-hidden":!0}),ep]})}),[l.coverUri,l.isAvailable,es,ee,ep]);return(0,a.jsxs)(m.m7,{ref:w,className:(0,n.W)(j().root,i),"aria-label":ee,explicitMark:$,title:ed,"data-intersection-property-id":M,contentLinesCount:L,view:eb,description:(0,a.jsx)(A.jO,{className:j().artists,artists:l.artists,lineClamp:1,linkClassName:j().artistLink,captionSize:"s"}),chart:N&&l.chart&&(0,a.jsx)(f.kL,{position:l.chart.position,progress:l.chart.progress}),...(0,C.BA)(C.bG.album.ALBUM_ITEM),children:[U&&Q&&(0,a.jsx)(_.Caption,{className:j().addition,variant:"div",type:"entity",size:"s",weight:"medium",lineClamp:1,children:Q}),B&&!!l.actualLikesCount&&(0,a.jsx)(g.DB,{ariaLabel:E({id:"entity-names.likes-counter"},{counter:l.actualLikesCount}),likesCount:l.actualLikesCount,isLiked:l.isLiked,handleLikeClick:q}),t]})})},32990:function(e,i,t){"use strict";t.r(i),t.d(i,{AlbumContextMenu:function(){return u}});var a=t(8759),n=t(33423),l=t(99616),s=t(52317),r=t(21774),o=t(84133),c=t(44285);let u=(0,n.Pi)(e=>{var i;let{album:t,reference:n,onOpenChange:u,open:d,returnFocus:m}=e,{settings:v,experiments:p}=(0,o.oR)(),b=(0,r.SB)(t),_=(0,r.BV)(t),C="".concat(o.aU.ALBUM,"-").concat(t.id),k=v.layout===o.t8.Mobile,A=p.checkExperiment(o.pe.WebPins,"on")&&!k,{href:f}=(0,o.qK)(t.url),{isPlaying:x,togglePlay:g}=(0,o.Qh)({seeds:null!==(i=null==t?void 0:t.seeds)&&void 0!==i?i:[],pageIdForFrom:o.Rh.RADIO,blockIdForFrom:C}),h=(0,l.useCallback)(()=>{x||g()},[x,g]);return(0,o.ZP)(d),(0,a.jsxs)(s.v2,{reference:n,title:null==t?void 0:t.title,description:null==t?void 0:t.artistNames,isMobile:k,offsetOptions:10,open:d,returnFocus:m,onOpenChange:u,children:[A&&(0,a.jsx)(c.Zd,{onClick:_,isPinned:t.isPinned}),(0,a.jsx)(c.xZ,{onClick:b,isLiked:null==t?void 0:t.isLiked,disabled:!t.isAvailable}),(0,a.jsx)(c.GQ,{onClick:h,disabled:!t.isAvailable,variant:"album"}),(0,a.jsx)(c.zq,{shareLink:f,entityVariant:"album",entityTitle:t.title})]})})},33170:function(e,i,t){"use strict";t.r(i),t.d(i,{UpcomingAlbumCard:function(){return g}});var a=t(8759),n=t(35338),l=t(33423),s=t(99616),r=t(65244),o=t(2814),c=t(36019),u=t(15527),d=t(14077),m=t(33066),v=t(14581),p=t(96437),b=t(1918),_=t(21774),C=t(81446),k=t(84133),A=t(44285),f=t(41113),x=t.n(f);let g=(0,l.Pi)(e=>{let{className:i,children:t,upcomingAlbum:l,contentLinesCount:f}=e,{ref:g,intersectionPropertyId:h}=(0,k.Vf)(),{formatMessage:y,formatDate:L}=(0,r.Z)(),j=(0,_.IK)(l),B=l.contentWarning===c.F1.EXPLICIT?m.ExplicitMarkVariant.E:null,N=(0,s.useMemo)(()=>{let e=y({id:"entity-names.upcoming-album-name"},{upcomingAlbumName:l.title}),i=l.isPresave?y({id:"entity-names.has-your-like"}):"";return"".concat(e," ").concat(i)},[y,l.title,l.isPresave]),U=(0,s.useMemo)(()=>(0,a.jsxs)(p.Paper,{className:x().cover,radius:"s",withShadow:!0,children:[(0,a.jsx)(A.BE,{className:x().image,src:l.coverUri,size:200,fit:"cover",alt:N,withAvatarReplace:!0}),(0,a.jsx)(d.kk,{className:x().controls,playControl:(0,a.jsx)(u.z,{className:x().lockButton,disabled:!0,radius:"xxxl",variant:"default",size:"s",icon:(0,a.jsx)(v.J,{variant:"lock",size:"xxs",className:x().lockIcon}),"aria-label":y({id:"entity-names.upcoming-album-play-disabled"})}),likeControl:(0,a.jsx)(A.dJ,{className:(0,n.W)(x().control,x().presaveButton),isLiked:l.isPresave,onClick:j,variant:"default",size:"s",iconSize:"xxs"})})]}),[y,j,l.coverUri,l.isPresave,N]);return(0,a.jsxs)(d.m7,{ref:g,className:(0,n.W)(x().root,i),"aria-label":N,explicitMark:B,title:(0,a.jsx)(b.Caption,{variant:"div",type:"entity",size:"s",weight:"medium",lineClamp:2,children:l.title}),"data-intersection-property-id":h,contentLinesCount:f,view:U,description:(0,a.jsx)(C.jO,{className:x().artists,artists:l.artists,lineClamp:1,linkClassName:x().artistLink,captionSize:"s"}),children:[(0,a.jsx)(b.Caption,{className:x().releaseDate,variant:"div",type:"entity",size:"s",weight:"medium",lineClamp:1,children:(0,a.jsx)(o.Z,{id:"entity-names.upcoming-album-date",values:{releaseDate:L(l.releaseDate,(0,k.YT)())}})}),t]})})},75008:function(e){e.exports={root:"AlbumCard_root__vP6k4",controls:"AlbumCard_controls__yuO40",cover:"AlbumCard_cover__zXmdl",coverBlock:"AlbumCard_coverBlock__94ZzY",image:"AlbumCard_image__Mm55s",titleLink:"AlbumCard_titleLink__u_WLG",title:"AlbumCard_title__8YvhT",title_withVersion:"AlbumCard_title_withVersion__NClAp",version:"AlbumCard_version__h2aJz",artists:"AlbumCard_artists__phKco",artistLink:"AlbumCard_artistLink__uPR_2",playButton:"AlbumCard_playButton__mYK9R",likeButton:"AlbumCard_likeButton__9B9C0",menuButton:"AlbumCard_menuButton__pxkA6",pinButton:"AlbumCard_pinButton__Mdi_E",control:"AlbumCard_control__qx7Xh"}},41113:function(e){e.exports={root:"UpcomingAlbumCard_root__lSZ5l",controls:"UpcomingAlbumCard_controls__fQ50f",cover:"UpcomingAlbumCard_cover__qvU1m",image:"UpcomingAlbumCard_image__WKtGR",releaseDate:"UpcomingAlbumCard_releaseDate__EvDzB",artists:"UpcomingAlbumCard_artists__Jp1OE",artistLink:"UpcomingAlbumCard_artistLink__RSqXw",control:"UpcomingAlbumCard_control__pSMdI",presaveButton:"UpcomingAlbumCard_presaveButton__ixwy_",lockButton:"UpcomingAlbumCard_lockButton__9_qyp",lockIcon:"UpcomingAlbumCard_lockIcon__wtvkP"}}}]);