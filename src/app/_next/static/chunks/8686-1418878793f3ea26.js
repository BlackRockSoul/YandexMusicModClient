(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8686],{81916:function(e,i,t){Promise.resolve().then(t.bind(t,96622)),Promise.resolve().then(t.bind(t,86939)),Promise.resolve().then(t.bind(t,69863)),Promise.resolve().then(t.bind(t,12404)),Promise.resolve().then(t.bind(t,90679)),Promise.resolve().then(t.bind(t,14102)),Promise.resolve().then(t.bind(t,2570)),Promise.resolve().then(t.bind(t,25053)),Promise.resolve().then(t.bind(t,41345)),Promise.resolve().then(t.bind(t,9266)),Promise.resolve().then(t.bind(t,51578)),Promise.resolve().then(t.bind(t,51997)),Promise.resolve().then(t.bind(t,35481)),Promise.resolve().then(t.bind(t,25066)),Promise.resolve().then(t.bind(t,59558)),Promise.resolve().then(t.bind(t,46603)),Promise.resolve().then(t.bind(t,76880)),Promise.resolve().then(t.bind(t,56289)),Promise.resolve().then(t.bind(t,78876)),Promise.resolve().then(t.bind(t,35960)),Promise.resolve().then(t.bind(t,57151)),Promise.resolve().then(t.bind(t,12396)),Promise.resolve().then(t.bind(t,86307)),Promise.resolve().then(t.bind(t,64246)),Promise.resolve().then(t.bind(t,69444)),Promise.resolve().then(t.bind(t,66757)),Promise.resolve().then(t.bind(t,89263)),Promise.resolve().then(t.bind(t,44105)),Promise.resolve().then(t.bind(t,83707)),Promise.resolve().then(t.bind(t,2057)),Promise.resolve().then(t.bind(t,6030)),Promise.resolve().then(t.bind(t,22003)),Promise.resolve().then(t.bind(t,18921)),Promise.resolve().then(t.bind(t,80128)),Promise.resolve().then(t.bind(t,18143)),Promise.resolve().then(t.bind(t,99331)),Promise.resolve().then(t.bind(t,94975)),Promise.resolve().then(t.bind(t,78457)),Promise.resolve().then(t.bind(t,49522)),Promise.resolve().then(t.bind(t,44660)),Promise.resolve().then(t.bind(t,76315)),Promise.resolve().then(t.bind(t,93393)),Promise.resolve().then(t.bind(t,83906)),Promise.resolve().then(t.bind(t,53961)),Promise.resolve().then(t.bind(t,47192)),Promise.resolve().then(t.bind(t,82245)),Promise.resolve().then(t.bind(t,99846)),Promise.resolve().then(t.bind(t,639)),Promise.resolve().then(t.bind(t,37379)),Promise.resolve().then(t.bind(t,96414)),Promise.resolve().then(t.bind(t,5510)),Promise.resolve().then(t.bind(t,1776)),Promise.resolve().then(t.bind(t,71456)),Promise.resolve().then(t.bind(t,5670)),Promise.resolve().then(t.bind(t,53368)),Promise.resolve().then(t.bind(t,63407)),Promise.resolve().then(t.bind(t,42488)),Promise.resolve().then(t.bind(t,8496)),Promise.resolve().then(t.bind(t,11858)),Promise.resolve().then(t.bind(t,97161)),Promise.resolve().then(t.bind(t,91401)),Promise.resolve().then(t.bind(t,84661)),Promise.resolve().then(t.bind(t,30446)),Promise.resolve().then(t.bind(t,77492)),Promise.resolve().then(t.bind(t,91844)),Promise.resolve().then(t.bind(t,82025)),Promise.resolve().then(t.bind(t,47347)),Promise.resolve().then(t.bind(t,34999)),Promise.resolve().then(t.bind(t,19476)),Promise.resolve().then(t.bind(t,58554)),Promise.resolve().then(t.bind(t,96115)),Promise.resolve().then(t.bind(t,85969)),Promise.resolve().then(t.bind(t,94326)),Promise.resolve().then(t.bind(t,87004)),Promise.resolve().then(t.bind(t,68721)),Promise.resolve().then(t.bind(t,82124)),Promise.resolve().then(t.bind(t,44490)),Promise.resolve().then(t.bind(t,64035)),Promise.resolve().then(t.bind(t,98723)),Promise.resolve().then(t.bind(t,92994)),Promise.resolve().then(t.bind(t,91042)),Promise.resolve().then(t.bind(t,79285)),Promise.resolve().then(t.bind(t,30410)),Promise.resolve().then(t.bind(t,92225)),Promise.resolve().then(t.bind(t,21920)),Promise.resolve().then(t.bind(t,5979)),Promise.resolve().then(t.bind(t,85449)),Promise.resolve().then(t.bind(t,37869)),Promise.resolve().then(t.bind(t,11408)),Promise.resolve().then(t.bind(t,54605)),Promise.resolve().then(t.bind(t,18546)),Promise.resolve().then(t.bind(t,29665)),Promise.resolve().then(t.bind(t,90981)),Promise.resolve().then(t.bind(t,1843)),Promise.resolve().then(t.bind(t,89672)),Promise.resolve().then(t.bind(t,89949)),Promise.resolve().then(t.bind(t,82116)),Promise.resolve().then(t.bind(t,17852)),Promise.resolve().then(t.bind(t,55302)),Promise.resolve().then(t.bind(t,56691)),Promise.resolve().then(t.bind(t,13862)),Promise.resolve().then(t.bind(t,69768)),Promise.resolve().then(t.bind(t,55553)),Promise.resolve().then(t.bind(t,695)),Promise.resolve().then(t.bind(t,76100)),Promise.resolve().then(t.bind(t,86745)),Promise.resolve().then(t.bind(t,7106)),Promise.resolve().then(t.bind(t,75130)),Promise.resolve().then(t.bind(t,72488)),Promise.resolve().then(t.bind(t,78465)),Promise.resolve().then(t.bind(t,40289)),Promise.resolve().then(t.bind(t,74441)),Promise.resolve().then(t.bind(t,52394)),Promise.resolve().then(t.bind(t,99784)),Promise.resolve().then(t.bind(t,72083)),Promise.resolve().then(t.bind(t,98865)),Promise.resolve().then(t.bind(t,28499)),Promise.resolve().then(t.bind(t,20233)),Promise.resolve().then(t.bind(t,96216)),Promise.resolve().then(t.bind(t,71992)),Promise.resolve().then(t.bind(t,24782)),Promise.resolve().then(t.bind(t,23759)),Promise.resolve().then(t.bind(t,97139)),Promise.resolve().then(t.bind(t,14206)),Promise.resolve().then(t.bind(t,77216)),Promise.resolve().then(t.bind(t,61254)),Promise.resolve().then(t.bind(t,67676)),Promise.resolve().then(t.bind(t,53264)),Promise.resolve().then(t.bind(t,23536)),Promise.resolve().then(t.bind(t,21969)),Promise.resolve().then(t.bind(t,18017)),Promise.resolve().then(t.bind(t,3753)),Promise.resolve().then(t.bind(t,88918)),Promise.resolve().then(t.bind(t,93664)),Promise.resolve().then(t.bind(t,66414)),Promise.resolve().then(t.bind(t,17241)),Promise.resolve().then(t.bind(t,9552)),Promise.resolve().then(t.bind(t,58021)),Promise.resolve().then(t.bind(t,46822)),Promise.resolve().then(t.bind(t,43384)),Promise.resolve().then(t.bind(t,85369)),Promise.resolve().then(t.bind(t,62202)),Promise.resolve().then(t.bind(t,15995)),Promise.resolve().then(t.bind(t,52254)),Promise.resolve().then(t.bind(t,46526)),Promise.resolve().then(t.bind(t,45801)),Promise.resolve().then(t.bind(t,73069)),Promise.resolve().then(t.bind(t,99975)),Promise.resolve().then(t.bind(t,65044)),Promise.resolve().then(t.bind(t,83045)),Promise.resolve().then(t.bind(t,98188)),Promise.resolve().then(t.bind(t,62789)),Promise.resolve().then(t.bind(t,25257)),Promise.resolve().then(t.bind(t,3310)),Promise.resolve().then(t.bind(t,9097)),Promise.resolve().then(t.bind(t,49457)),Promise.resolve().then(t.bind(t,70323)),Promise.resolve().then(t.bind(t,7407)),Promise.resolve().then(t.bind(t,93357)),Promise.resolve().then(t.bind(t,62169))},4491:function(e,i,t){"use strict";t.d(i,{IT:function(){return o.ArtistCard},xG:function(){return l.ArtistContextMenu},o9:function(){return s},v2:function(){return a.useArtistDisclaimer}});var r=t(42288),n=t(33589);let s=r.V5.model("ArtistMeta",{artist:n.Go,lastMonthListeners:r.V5.maybe(r.V5.number)});var o=t(99654),l=t(54864),a=t(66975)},66975:function(e,i,t){"use strict";t.d(i,{useArtistDisclaimer:function(){return o}});var r=t(98639),n=t(3429),s=t(38527);let o=e=>{let{artist:i,callback:t,shouldHistoryBack:o}=e,{disclaimer:l,modals:{disclaimerModal:a}}=(0,s.oR4)(),d=(0,r.useRef)(String((0,n.Z)())),c=(0,r.useRef)(!1),m=(0,s.uK4)().get(s.ceh);return(0,r.useEffect)(()=>{l.isUnsafeDisclaimerConfirmed&&l.id===d.current&&!c.current&&(null==t||t(),c.current=!0)},[t,l.id,l.isUnsafeDisclaimerConfirmed]),(0,r.useCallback)(async e=>{let r=m.get(s.BUb.ExEx);if((null==i?void 0:i.isUnsafeLegal)&&(null==r?void 0:r.includes("".concat(s.coP.ARTIST,"_").concat(i.id)))){null==t||t();return}if((null==i?void 0:i.isLegalRejected)||(null==i?void 0:i.isUnsafeLegal)){null==e||e.preventDefault(),await l.getArtistDisclaimer({artistId:i.id}),i.isUnsafeLegal&&l.setType(s.Gq.UNSAFE),l.setId(d.current),l.setEntityId(i.id),l.setEntityType(s.coP.ARTIST),l.setShouldHistoryBack(!!o),c.current=!1,a.open();return}null==e||e.preventDefault(),null==t||t()},[null==i?void 0:i.id,null==i?void 0:i.isLegalRejected,null==i?void 0:i.isUnsafeLegal,t,l,a,m,o])}},99654:function(e,i,t){"use strict";t.d(i,{ArtistCard:function(){return x}});var r=t(9753),n=t(60836),s=t(9544),o=t(98639),l=t(80542),a=t(18375),d=t(23881),c=t(84338),m=t(27491),u=t(28852),v=t(12404),h=t(2570),P=t(33589),b=t(38527),g=t(3084),p=t(66975),y=t(54864),_=t(62914),k=t.n(_);let x=(0,s.Pi)(e=>{let{artist:i,className:t,children:s,contentLinesCount:_}=e,{ref:x,intersectionPropertyId:f}=(0,b.VfV)(),{trailer:C}=(0,b.oR4)(),I=(0,b.x5)(),{formatMessage:T}=(0,l.Z)(),[S,A]=(0,o.useState)(!1),[L,D]=(0,o.useState)(!1),[j,N]=(0,o.useState)(!1),{sendLikeSearchFeedback:B,sendNavigateSearchFeedback:E,sendPlaySearchFeedback:R}=(0,b.sAF)(),M=(0,b.zxW)(),w=(0,P.SB)(i),O=(0,P.BV)(i),{id:W,name:F,coverUri:U,isLiked:V}=i,K=(0,b.s0h)(i.url),G=(0,b.s0h)(i.url,!0),[Y,z]=(0,o.useState)(!1),Z=(0,b.FTC)(),q=(0,o.useCallback)(e=>{e.stopPropagation(),C.openArtistTrailer(i.id),Z(a.OB.Artist,i.id)},[i.id,Z,C]),H=(0,o.useMemo)(()=>{let e=T({id:"entity-names.artist-name"},{artistName:F}),i=V?T({id:"entity-names.has-your-like"}):"";return"".concat(e," ").concat(i)},[F,V,T]),{isPlaying:X,togglePlay:Q}=(0,b.qmq)({playContextParams:{contextData:{type:c.Ak.Artist,meta:{id:Number(W)},from:I},loadContextMeta:!0}}),J=(0,p.useArtistDisclaimer)({artist:i,callback:K}),$=(0,p.useArtistDisclaimer)({artist:i,callback:G}),ee=(0,p.useArtistDisclaimer)({artist:i,callback:Q}),ei=(0,P.ik)($,J),et=(0,o.useCallback)(e=>{null==E||E(),M({to:a.qU.ArtistScreen}),ei(e)},[E,M,ei]),er=(0,o.useCallback)(e=>{et(e)},[et]),en=(0,o.useCallback)(()=>{S||X||(A(!0),null==R||R()),ee()},[X,S,R,ee]),es=(0,o.useCallback)(()=>{L||V||(D(!0),null==B||B()),w()},[V,w,L,B]),eo=(0,o.useCallback)(e=>{e.preventDefault(),e.stopPropagation()},[]),el=(0,o.useCallback)(()=>{N(!j),z(!j)},[j]),ea=(0,o.useMemo)(()=>(0,r.jsx)(y.ArtistContextMenu,{artist:i,onOpenChange:el,open:j,onClick:eo,className:(0,n.W)(k().menuButton,k().control),size:"s",icon:(0,r.jsx)(u.J,{size:"xxs",variant:"more"})},i.getKey("ArtistContextMenu")),[i,eo,el,j]),ed=(0,o.useMemo)(()=>{var e;if(null==i?void 0:null===(e=i.trailer)||void 0===e?void 0:e.canShow)return(0,r.jsx)(g.eP,{className:(0,n.W)(k().trailerButton,k().control),radius:"round",size:"s",iconSize:"xxs",enabledTooltip:!0,onClick:q},i.getKey("TrailerButton"))},[i,q]),ec=(0,o.useMemo)(()=>{if(i.isAvailable)return(0,r.jsx)(m.kk,{isVisible:j||Y,className:k().controls,radius:"round",playControl:(0,r.jsx)(g.JM,{buttonVariant:"default",withHover:!1,className:(0,n.W)(k().playButton,k().control),iconSize:"xl",variant:"filled",onClick:en,isPlaying:X,disabled:!i.isAvailableForPlaying},i.getKey("PlayButton")),likeControl:(0,r.jsx)(g.dJ,{className:(0,n.W)(k().likeButton,k().control),isLiked:V,onClick:es,variant:"default",size:"s",iconSize:"xxs"},i.getKey("LikeButton")),menuControl:ea,pinControl:(0,r.jsx)(g.RT,{onClick:O,isPinned:i.isPinned,className:(0,n.W)(k().pinButton,k().control),withRipple:!1},i.getKey("PinButton")),trailerControl:ed})},[i,j,Y,en,X,V,es,ea,O,ed]),em=(0,o.useMemo)(()=>(0,r.jsx)(v.Paper,{className:k().cover,radius:"round",withShadow:!0,...(0,d.BA)(d.bG.artist.ARTIST_CARD),children:(0,r.jsxs)("div",{className:k().coverBlock,onClick:er,children:[(0,r.jsx)(g.BE,{className:k().image,src:U,size:200,fit:"cover",alt:H,withAvatarReplace:!0,isAvailable:i.isAvailable,"aria-hidden":!0}),ec]})}),[er,U,H,i.isAvailable,ec]);return(0,r.jsx)(m.m7,{ref:x,className:(0,n.W)(k().root,t),textPosition:"center","aria-label":H,title:(0,r.jsx)(h.Caption,{variant:"div",type:"entity",size:"s",weight:"medium",lineClamp:2,children:(0,r.jsx)(g.rU,{className:k().titleLink,href:i.url,"aria-label":H,onClick:et,...(0,d.BA)(d.bG.artist.ARTIST_TITLE),children:F})}),srTitle:(0,r.jsx)(g.rU,{href:i.url,onClick:et,children:H}),"data-intersection-property-id":f,contentLinesCount:_,view:em,...(0,d.BA)(d.bG.artist.ARTIST_ITEM),children:s})})},54864:function(e,i,t){"use strict";t.d(i,{ArtistContextMenu:function(){return u}});var r=t(9753),n=t(9544),s=t(98639),o=t(80542),l=t(18375),a=t(385),d=t(33589),c=t(38527),m=t(3084);let u=(0,n.Pi)(e=>{var i,t,n;let{artist:u,onOpenChange:v,open:h,...P}=e,{settings:b,trailer:g}=(0,c.oR4)(),p=(0,d.BV)(u),y=(0,d.SB)(u),_=(0,c.FTC)(),k="".concat(c.aUg.ARTIST,"-").concat(null==u?void 0:u.id),x=b.layout===c.t8m.Mobile,{formatMessage:f}=(0,o.Z)(),{href:C}=(0,c.qKB)(null!==(t=null==u?void 0:u.url)&&void 0!==t?t:""),{isPlaying:I,togglePlay:T}=(0,c.QhE)({seeds:null!==(n=null==u?void 0:u.seeds)&&void 0!==n?n:[],pageIdForFrom:c.Rhz.RADIO,blockIdForFrom:k}),S=(0,s.useCallback)(()=>{I||T()},[I,T]),A=(0,s.useCallback)(()=>{(null==u?void 0:u.id)&&(g.openArtistTrailer(u.id),_(l.OB.Artist,u.id))},[null==u?void 0:u.id,_,g]);return(0,c.ZP4)(h),(0,r.jsxs)(a.v2,{isMobile:x,offsetOptions:10,open:h,onOpenChange:v,ariaLabel:f({id:"interface-actions.context-menu"}),...P,children:[!x&&(0,r.jsx)(m.Zd,{onClick:p,isPinned:null==u?void 0:u.isPinned}),(0,r.jsx)(m.xZ,{onClick:y,isLiked:null==u?void 0:u.isLiked,disabled:!(null==u?void 0:u.isAvailable)}),(null==u?void 0:null===(i=u.trailer)||void 0===i?void 0:i.canShow)&&(0,r.jsx)(m.NB,{onClick:A}),(0,r.jsx)(m.GQ,{onClick:S,disabled:!(null==u?void 0:u.isAvailable),variant:"artist"}),(0,r.jsx)(m.zq,{disabled:!u,shareLink:C,entityVariant:"artist",entityTitle:null==u?void 0:u.name})]})})},36084:function(e,i,t){"use strict";t.d(i,{I7:function(){return P},b4:function(){return l},at:function(){return b}});var r=t(9753),n=t(98639),s=t.t(n,2),o=t(3084);let l=e=>{let{children:i,title:t,className:s}=e,{setTitleElement:l,setTitle:a}=(0,n.useContext)(o.pI),d=(0,n.useRef)(null);return(0,n.useEffect)(()=>{(null==d?void 0:d.current)&&l(d),t&&a(t)},[d,t,l,a]),(0,n.useEffect)(()=>()=>{a("")},[a]),(0,r.jsx)("div",{ref:d,className:s,children:i})};var a=t(9544),d={810:e=>{e.exports=s}},c={},m={};(()=>{Object.defineProperty(m,"__esModule",{value:!0}),m.useScroll=void 0;let e=function e(i){var t=c[i];if(void 0!==t)return t.exports;var r=c[i]={exports:{}};return d[i](r,r.exports,e),r.exports}(810);m.useScroll=i=>{(0,e.useEffect)(()=>{let e={capture:!0,passive:!0};return window.addEventListener("scroll",i,e),()=>{window.removeEventListener("scroll",i,e)}},[i])}})(),m.__esModule;var u=m.useScroll,v=t(38527);let h=e=>{let{element:i,scrollTop:t,isMobile:r}=e,n=.4*i.clientHeight;return t+(r?56:72)>=i.offsetTop+n},P=(0,a.Pi)(e=>{let{children:i,scrollElement:t,outerTitle:s="",headerElement:l,headerThreshold:a}=e,[d,c]=(0,n.useState)(s),[m,P]=(0,n.useState)(null),[b,g]=(0,n.useState)(!1),[p,y]=(0,n.useState)(!1),{settings:_}=(0,v.oR4)(),k=_.layout===v.t8m.Mobile;(0,n.useLayoutEffect)(()=>{c(s)},[s]);let x=(0,n.useCallback)(()=>{if(!t)return;let e=null!=a?a:10,i=l?Number(l.offsetTop)-e:e;i<0&&(i=0),y(t.scrollTop>i),(null==m?void 0:m.current)&&g(h({element:null==m?void 0:m.current,scrollTop:t.scrollTop,isMobile:k}))},[t,a,l,m,k]);(0,n.useEffect)(()=>{t&&(null==t?void 0:t.scrollTop)!==0||y(!1)},[t,null==t?void 0:t.scrollTop]),u(x);let f=(0,n.useMemo)(()=>({title:d,setTitle:c,titleElement:m,scrollElement:t,setTitleElement:P,isScrolledTitle:b,isScrolling:p}),[d,b,m,t,p]);return(0,r.jsx)(o.pI.Provider,{value:f,children:i})});t(66414);let b=(e,i)=>((0,v.uK4)().get(v.Xt8),[(0,n.useMemo)(()=>{if(void 0!==i){let t=i-17;return{"--average-color-background":e,transform:"translateY(".concat(i>=17?0:t,"px)"),opacity:1}}return{}},[i,!1,e]),(0,n.useMemo)(()=>({"--average-color-background":e}),[e])])},55784:function(e,i,t){"use strict";t.d(i,{h:function(){return n.h},n:function(){return r.n}});var r=t(33861),n=t(34906)},63407:function(e,i,t){"use strict";t.d(i,{PlaylistNotFoundPage:function(){return a}});var r=t(9753),n=t(9544),s=t(98639),o=t(23948),l=t(38527);let a=(0,n.Pi)(()=>{let{playlist:e}=(0,l.oR4)();return(0,s.useEffect)(()=>{e.reset()},[]),(0,r.jsx)(o.T,{})})},42488:function(e,i,t){"use strict";t.d(i,{PlaylistPage:function(){return Y}});var r=t(9753),n=t(60836),s=t(9544),o=t(74717),l=t(98639),a=t(80542),d=t(23881),c=t(70171),m=t(88393),u=t(98780),v=t(31014),h=t(54950),P=t(2570),b=t(73276),g=t(44023),p=t(10668),y=t(38527),_=t(3084),k=t(84338);let x=(e,i)=>{let t=e.id,r=e.albumId;return{contextData:{type:k.Ak.Various,meta:{id:r?"".concat(t,":").concat(r):t},from:i},queueParams:{index:0},loadContextMeta:!0}};var f=t(59048),C=t.n(f);let I=(0,s.Pi)(e=>{var i,t,s,o,d,c,m,k;let{autoFocus:f,onChange:I,className:T}=e,{formatMessage:S}=(0,a.Z)(),[A,L]=(0,l.useState)(""),{playlist:D}=(0,y.oR4)(),j=null==D?void 0:D.searchItems,N=(0,g.Wc)(),B=(0,l.useRef)(0),E=(null===(i=D.meta)||void 0===i?void 0:i.isOwnPlaylist)?y.Rhz.OWN_PLAYLISTS:y.Rhz.PLAYLIST,R=(0,y.x5)({pageId:E,blockId:y.aUg.FILTERED}),M=(0,y.x5)({pageId:E,blockId:y.aUg.SUGGESTED}),[w,O]=(0,l.useState)(!1);(0,l.useEffect)(()=>()=>{window.clearTimeout(B.current),null==I||I(!1)},[I]);let W=(0,l.useMemo)(()=>(0,u.Z)(e=>{let i=e.trim();L(i),i&&(null==D?void 0:D.meta)&&(D.resetSearch(),D.getSearchTracks({uid:D.meta.uid,kind:D.meta.kind,part:i})),(!i||0===i.length)&&w&&(O(!1),D.refresh()),null==I||I(!!i.length)},100),[D,w,I]),F=(0,l.useCallback)(async e=>{if(D.meta){j.setAdditionTrackAnimation(e.id);let i=N({track:e,playlist:D.meta,withSuccessNotification:!1,withPageRefresh:!1}),t=new Promise(e=>{B.current=window.setTimeout(e,300)}),[r]=await Promise.all([i,t]);r===p.pX.OK?(j.replaceAdditionTrackInProggress(),O(!0)):j.resetAdditionTrackAnimation()}},[N,D.meta,j]),U=(0,l.useMemo)(()=>{var e;return D.isSearchLoading?(0,r.jsx)(_.DX,{isActive:!0,className:C().shimmerItem,variant:y.Lxt.PLAYLIST}):null==j?void 0:null===(e=j.playlistTracks)||void 0===e?void 0:e.map(e=>e?e.isTrackNonMusic?(0,r.jsx)(g.FP,{withPodcastName:!0,track:e,playContextParams:x(e,R),className:(0,n.W)(C().track,{[C().appearingTrack]:e.id===j.additionTrackInProggress})},e.id):(0,r.jsx)(g.O2,{className:(0,n.W)(C().track,{[C().appearingTrack]:e.id===j.additionTrackInProggress}),track:e,playContextParams:x(e,R)},e.id):null)},[D.isSearchLoading,null==j?void 0:j.playlistTracks,j.additionTrackInProggress,R]),V=(0,l.useMemo)(()=>{var e,i;return(null===(e=D.meta)||void 0===e?void 0:e.canUserChange)?D.isSearchLoading?(0,r.jsx)(_.DX,{isActive:!0,className:C().shimmerItem,variant:y.Lxt.PLAYLIST}):null==j?void 0:null===(i=j.suggestedTracks)||void 0===i?void 0:i.map(e=>e?(0,r.jsx)(g.VZ,{track:e,className:(0,n.W)({[C().disappearingTrack]:e.id===j.additionTrackInProggress}),playContextParams:x(e,M),onClick:F},e.id):null):void 0},[null===(t=D.meta)||void 0===t?void 0:t.canUserChange,D.isSearchLoading,null==j?void 0:j.suggestedTracks,j.additionTrackInProggress,M,F]),K=(0,l.useMemo)(()=>{var e,i,t;let n=!(null==j?void 0:null===(e=j.suggestedTracks)||void 0===e?void 0:e.length)||!(null===(i=D.meta)||void 0===i?void 0:i.canUserChange);return(null==j?void 0:null===(t=j.playlistTrackIds)||void 0===t?void 0:t.length)||!n||D.isSearchLoading?null:(0,r.jsx)(b.vY,{className:C().emptyBlockContainer,isEmptySearch:!0})},[null==j?void 0:null===(s=j.playlistTrackIds)||void 0===s?void 0:s.length,null==j?void 0:null===(o=j.suggestedTracks)||void 0===o?void 0:o.length,null===(d=D.meta)||void 0===d?void 0:d.canUserChange,D.isSearchLoading]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.M,{className:(0,n.W)(C().root,T),autoFocus:f,initialValue:A,correctedValue:null,placeholder:S({id:"search.track-placeholder"}),onChange:W,resetButtonAriaLabel:S({id:"interface-actions.reset-search-input"}),onResetClick:D.resetSearch}),A&&(0,r.jsxs)("div",{className:C().content,children:[K,U,Number(null==j?void 0:null===(c=j.suggestedTracks)||void 0===c?void 0:c.length)>0&&(null===(m=D.meta)||void 0===m?void 0:m.canUserChange)&&(0,r.jsx)(P.Heading,{variant:"h3",className:(0,n.W)(C().catalog,{[C().catalog_withTracks]:null==j?void 0:null===(k=j.playlistTrackIds)||void 0===k?void 0:k.length}),children:(0,r.jsx)(v.Z,{id:"search.search-catalog"})},"search.search-catalog-caption"),V]})]})});var T=t(36084),S=t(23178),A=t.n(S),L=t(52674),D=t(20258),j=t.n(D);let N=(0,s.Pi)((0,l.forwardRef)((e,i)=>{var t;let{children:s,"data-index":o,...a}=e,{playlist:d}=(0,y.oR4)(),{isDragging:c,listeners:m,setNodeRef:u,transform:v,transition:h,attributes:P}=(0,L.nB)({id:String(null===(t=d.items[o])||void 0===t?void 0:t.key)}),b=(0,l.useCallback)(e=>{u(e),"function"==typeof i&&i(e)},[i,u]),g={transition:h,"--translate-y":v?"".concat(Math.round(v.y),"px"):void 0};return(0,r.jsx)("div",{ref:b,"data-index":o,style:g,...a,className:j().root,children:(0,r.jsx)("div",{className:(0,n.W)(j().inner,{[j().dragging]:c}),...m,...P,children:s})})}));var B=t(98466),E=t(62115),R=t(773);let M=(e,i)=>{var t;let r=i-1;if(!e.items.length||r<0||r>e.items.length)return"";let n=e.items[r];return(null==n?void 0:null===(t=n.data)||void 0===t?void 0:t.title)||""},w=e=>{let{formatMessage:i}=(0,a.Z)();return{screenReaderInstructions:{draggable:i({id:"drag-and-drop.playlist-move-instructions"})},announcements:{onDragStart(t){let{active:r}=t;return i({id:"drag-and-drop.playlist-on-move-start"},{trackName:M(e,Number(r.id)),index:r.id})},onDragOver(t){let{active:r,over:n}=t,s=M(e,Number(r.id));return n?i({id:"drag-and-drop.playlist-on-move"},{trackName:s,index:n.id}):i({id:"drag-and-drop.playlist-on-move-fail"},{trackName:s})},onDragEnd(t){let{active:r,over:n}=t,s=M(e,Number(r.id));return n?i({id:"drag-and-drop.playlist-on-move-end-with-index"},{trackName:s,index:n.id}):i({id:"drag-and-drop.playlist-on-move-end"},{trackName:s})},onDragCancel:()=>i({id:"drag-and-drop.playlist-on-move-cancel"})}}},O=e=>{let{notify:i}=(0,y.d$W)(),{formatMessage:t}=(0,a.Z)();return(0,l.useCallback)(async n=>{var s,o,l,a;let{from:d,to:c}=n;if(d<0||c<0||d>=e.items.length||c>=e.items.length)return;let m=String(null===(s=e.items[d])||void 0===s?void 0:s.id);if(!m)return;let u=(null===(o=e.items[d])||void 0===o?void 0:o.albumId)?Number(null===(l=e.items[d])||void 0===l?void 0:l.albumId):void 0;e.moveTrack(d,c);let v=await (null===(a=e.meta)||void 0===a?void 0:a.changePlaylist((0,p.PG)({operation:p.aL.MOVE,startPosition:d,endPosition:c,tracks:[{id:m,albumId:u}]})));v&&v===p.pX.OK||(v===p.pX.RELOAD?e.refresh():e.moveTrack(c,d),i((0,r.jsx)(_.Q,{error:t({id:"drag-and-drop.failed-to-move"})}),{containerId:y.W$x.ERROR}))},[t,i,e])};var W=t(66034),F=t.n(W);let U=(0,s.Pi)(e=>{var i,t;let n,{index:s,className:o,isDragging:l,draggingClassName:a}=e,{playlist:d,sonataState:c}=(0,y.oR4)(),m=d.isEmptyPlaylist&&(null===(i=d.meta)||void 0===i?void 0:i.isOwnPlaylist),u=(0,y.x5)({pageId:y.Rhz.PLAYLIST,blockId:y.aUg.PLAYLIST}),v=d.isDragAndDropEnabled,h=d.items[s];return m?(0,r.jsx)(b.vY,{className:F().emptyBlockContainer}):(n=h&&h.data&&d.meta?h.data.isTrackNonMusic||(null===(t=h.data.mainAlbum)||void 0===t?void 0:t.isNonMusic)?(0,r.jsx)(g.FP,{withPodcastName:!0,withDNDBlock:v,isDragging:l,track:h.data,draggingClassName:a,playContextParams:{contextData:{type:k.Ak.Playlist,meta:d.contextMeta,from:u},entitiesData:c.unloadedEntitiesDataFromModels,queueParams:{index:s},loadContextMeta:!0},className:o}):(0,r.jsx)(g.O2,{withDNDBlock:v,isDragging:l,track:h.data,draggingClassName:a,playContextParams:{contextData:{type:k.Ak.Playlist,meta:d.contextMeta,from:u},entitiesData:c.unloadedEntitiesDataFromModels,queueParams:{index:s},loadContextMeta:!0},className:o}):(0,r.jsx)(_.DX,{isActive:!0,className:F().shimmerItem,variant:y.Lxt.PLAYLIST}),(0,r.jsx)(p.jK.Provider,{value:{playlist:d.meta,trackIndex:s},children:n}))});var V=t(74502),K=t.n(V);let G=(0,s.Pi)(e=>{let{children:i,playlist:t}=e,{announcements:n,screenReaderInstructions:s}=w(t),o=O(t),a=(0,B.Dy)((0,B.VT)(B.MA,{activationConstraint:{distance:{y:1},tolerance:5}}),(0,B.VT)(B.LO,{activationConstraint:{delay:250,tolerance:5}}),(0,B.VT)(B.Lg,{coordinateGetter:L.is,keyboardCodes:{start:["Enter"],cancel:["Escape"],end:["Enter"]}})),[d,c]=(0,l.useState)(null),m=(0,l.useCallback)(e=>{let{active:i}=e;c(i.id)},[]),u=(0,l.useCallback)(e=>{let{active:i,over:r}=e;if(!i.id||!(null==r?void 0:r.id))return;let n=t.itemsKeys.indexOf(String(i.id)),s=t.itemsKeys.indexOf(String(r.id));Number.isInteger(n)&&Number.isInteger(s)&&o({from:n,to:s})},[o,t.itemsKeys]),v=(0,l.useCallback)(()=>{c(null)},[]),h=(0,l.useMemo)(()=>t.itemsKeys.indexOf(String(d)),[d,t.itemsKeys]);return t.isDragAndDropEnabled?(0,r.jsxs)(B.LB,{sensors:a,collisionDetection:B.pE,onDragStart:m,onDragEnd:u,onDragCancel:v,modifiers:[E.DL,E.F4],accessibility:{announcements:n,screenReaderInstructions:s},children:[(0,r.jsx)("div",{className:K().root,children:(0,r.jsx)(L.Fo,{items:t.itemsKeys,strategy:L.qw,children:i})}),(0,R.createPortal)((0,r.jsx)(B.y9,{dropAnimation:{duration:0},children:d?(0,r.jsx)("div",{className:K().draggableItemWrapper,children:(0,r.jsx)(U,{index:h,className:K().noHoverItem,isDragging:!0,draggingClassName:K().dots})}):null}),window.document.body)]}):i}),Y=(0,s.Pi)(e=>{var i,t,s;let{userId:u,kind:v,playlistUuid:h}=e,P=(0,l.useRef)(0),{notify:g}=(0,y.d$W)(),{playlist:p}=(0,y.oR4)(),{formatMessage:k}=(0,a.Z)(),{ref:x,offsetY:f}=(0,c.e)(),[C,S]=(0,y.zU3)(),L=(0,l.useMemo)(()=>{var e;return(0,y.XGV)(null==p?void 0:null===(e=p.meta)||void 0===e?void 0:e.averageColor)},[null==p?void 0:null===(i=p.meta)||void 0===i?void 0:i.averageColor]),[D,j]=(0,T.at)(L,f),B=null===(t=p.meta)||void 0===t?void 0:t.isOwnPlaylist,[E,R]=(0,l.useState)(!1);(0,l.useEffect)(()=>()=>{p.reset(),P.current=0},[p,h,u,v]),(0,l.useMemo)(()=>()=>{(p.isRejected||!p.meta&&!p.isLoading)&&P&&!(P.current>0)&&(g((0,r.jsx)(_.Q,{error:k({id:"playlist-errors.error-during-loading-playlist"})}),{containerId:y.W$x.ERROR}),P.current++)},[p.isRejected,p.meta,p.isLoading,g,k])(),p.loadingState===y.Gui.IDLE&&("string"==typeof h?(0,l.use)(p.getPlaylistByUuid({playlistUuid:h,resumeStream:!1})):"string"==typeof u&&"string"==typeof v&&(0,l.use)(p.getPlaylistByUserIdAndKind({userId:u,playlistKind:Number(v),resumeStream:!1}))),(0,y.NOh)(p.loadingState===y.Gui.RESOLVE),p.isNotFound&&(0,o.notFound)();let M=(0,l.useMemo)(()=>p.isLoading||!p.meta||p.isRejected?(0,r.jsx)(m.KC,{className:A().header}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.Vm,{playlist:p.meta,isDisabled:p.isDisabled,className:A().header,ref:x}),(0,r.jsx)(I,{autoFocus:!p.items.length,onChange:R})]}),[p.isDisabled,p.isLoading,p.meta,p.isRejected,x,p.items]),w=(0,l.useMemo)(()=>({Header:()=>M,Item:p.isDragAndDropEnabled?N:void 0,Footer:()=>(0,r.jsxs)("div",{className:A().footerContainer,children:[(0,r.jsx)("div",{className:A().carouselBlocks,children:p.hasSimilarPlaylists&&(0,r.jsx)(y.Ja5,{blockId:y.BEo.PLAYLISTS_SIMILAR_PLAYLIST,blockType:y.BEo.PLAYLISTS_SIMILAR_PLAYLIST,blockPosX:1,blockPosY:2,blockIdForFrom:y.BEo.PLAYLISTS_SIMILAR_PLAYLIST,objectsCount:p.similarPlaylists.length,children:(0,r.jsx)(b.VD,{isShimmerVisible:p.isLoading,isShimmerActive:!0,className:A().carouselContainer,headerClassName:(0,n.W)(A().carouselBlockHeader,A().carouselBlock),containerClassName:A().carouselBlock,title:k({id:"entity-names.similar-playlists"}),playlists:p.similarPlaylists})})}),!(p.isEmptyPlaylist&&B)&&(0,r.jsx)(_.$_,{className:A().footer})]})}),[p.isDragAndDropEnabled,p.hasSimilarPlaylists,p.similarPlaylists,p.isLoading,p.isEmptyPlaylist,M,k,B]),O=(0,l.useCallback)(e=>{p.getTracksByRange(e)},[p]),W=(0,l.useCallback)(e=>{var i;return null===(i=p.items[e])||void 0===i?void 0:i.key},[p.items]),F=(0,l.useCallback)(e=>e,[]),V=p.items.length||(B?1:0);return(0,r.jsx)(y.Lh6,{pageId:y.Rhz.PLAYLIST,children:(0,r.jsxs)(T.I7,{scrollElement:C,children:[(0,r.jsx)(_.h4,{style:j}),(0,r.jsx)("div",{className:A().averageColorBackground,style:D}),(0,r.jsx)(G,{playlist:p,children:(0,r.jsx)(_.Wv,{context:{listAriaLabel:k({id:"entity-names.playlist-tracks-list"},{playlistName:(null===(s=p.meta)||void 0===s?void 0:s.title)||""})},className:(0,n.W)(A().root,A().important),listClassName:A().content,customComponents:w,computeItemKey:p.isDragAndDropEnabled?W:F,totalCount:E?0:V,itemContentCallback:e=>(0,r.jsx)(U,{index:e}),onGetDataByRange:O,debounceDurationInMs:300,initialItemCount:p.items.length,handleRef:S,shouldTriggerRangeChangedOnTotalCountChange:!0,testId:d.Br.playlist.PLAYLIST_PAGE})})]})})})},62914:function(e){e.exports={root:"ArtistCard_root__x67BK",controls:"ArtistCard_controls__jsqqI",cover:"ArtistCard_cover__29ShU",coverBlock:"ArtistCard_coverBlock__dBL4x",image:"ArtistCard_image__pONJx",titleLink:"ArtistCard_titleLink__G8Puz",playButton:"ArtistCard_playButton__XZoTr",likeButton:"ArtistCard_likeButton__LU9TL",menuButton:"ArtistCard_menuButton__EynXG",pinButton:"ArtistCard_pinButton__G_VOi",trailerButton:"ArtistCard_trailerButton__a2NHm",control:"ArtistCard_control___qv5j"}},23178:function(e){e.exports={root:"PlaylistPage_root__ajyaP",important:"PlaylistPage_important__1Xpl5",averageColorBackground:"PlaylistPage_averageColorBackground__3wEkw",header:"PlaylistPage_header__EdIoE",content:"PlaylistPage_content__T7zOm",footerContainer:"PlaylistPage_footerContainer__8uPBx",carouselBlock:"PlaylistPage_carouselBlock__lvaKg",carouselBlockHeader:"PlaylistPage_carouselBlockHeader__asTWy",carouselContainer:"PlaylistPage_carouselContainer__TfWiI",footer:"PlaylistPage_footer__ih_cJ"}},20258:function(e){e.exports={root:"PlaylistPageDnDItemWrapper_root__eBm1E",inner:"PlaylistPageDnDItemWrapper_inner__UXQZf",dragging:"PlaylistPageDnDItemWrapper_dragging__Pl94m",dragOverlay:"PlaylistPageDnDItemWrapper_dragOverlay__tWQut"}},74502:function(e){e.exports={root:"PlaylistPageDnDList_root__6Fryw",draggableItemWrapper:"PlaylistPageDnDList_draggableItemWrapper__vvEWL",dots:"PlaylistPageDnDList_dots__F4qh2",noHoverItem:"PlaylistPageDnDList_noHoverItem__dbPTH"}},66034:function(e){e.exports={emptyBlockContainer:"PlaylistPageItem_emptyBlockContainer__K5xRV",shimmerItem:"PlaylistPageItem_shimmerItem__s_fFo"}},59048:function(e){e.exports={root:"SearchPlaylistInput_root__o14iM",content:"SearchPlaylistInput_content__iDyfU",catalog:"SearchPlaylistInput_catalog__5r6Xm",catalog_withTracks:"SearchPlaylistInput_catalog_withTracks__B2ZYF",track:"SearchPlaylistInput_track__2TGLS",shimmerItem:"SearchPlaylistInput_shimmerItem__V0cOt",emptyBlockContainer:"SearchPlaylistInput_emptyBlockContainer__NSQKG",disappearingTrack:"SearchPlaylistInput_disappearingTrack__D6ja5",disappearing:"SearchPlaylistInput_disappearing__w48Cd",appearingTrack:"SearchPlaylistInput_appearingTrack__CYHzN",appearing:"SearchPlaylistInput_appearing__SafaE"}}}]);