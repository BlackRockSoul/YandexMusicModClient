(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9598],{17295:function(e,t,i){"use strict";i.d(t,{O:function(){return o}});var n,r=i(98639),l={810:e=>{e.exports=n||(n=i.t(r,2))}},a={},s={};(()=>{Object.defineProperty(s,"__esModule",{value:!0}),s.useToggle=void 0;let e=function e(t){var i=a[t];if(void 0!==i)return i.exports;var n=a[t]={exports:{}};return l[t](n,n.exports,e),n.exports}(810);s.useToggle=t=>{let[i,n]=(0,e.useState)(t);return{state:i,toggle:(0,e.useCallback)(()=>{n(e=>!e)},[]),toggleTrue:(0,e.useCallback)(()=>{n(!0)},[]),toggleFalse:(0,e.useCallback)(()=>{n(!1)},[])}}})(),s.__esModule;var o=s.useToggle},16636:function(e,t,i){"use strict";i.d(t,{y:function(){return u}});var n,r,l=i(98639),a={5881:(e,t,i)=>{function n(){for(var e,t,i=0,n="";i<arguments.length;)(e=arguments[i++])&&(t=function e(t){var i,n,r="";if("string"==typeof t||"number"==typeof t)r+=t;else if("object"==typeof t){if(Array.isArray(t))for(i=0;i<t.length;i++)t[i]&&(n=e(t[i]))&&(r&&(r+=" "),r+=n);else for(i in t)t[i]&&(r&&(r+=" "),r+=i)}return r}(e))&&(n&&(n+=" "),n+=t);return n}i.r(t),i.d(t,{clsx:()=>n,default:()=>r});let r=n},2068:(e,t,i)=>{i.r(t),i.d(t,{default:()=>n});let n={root:"eaYyesBmJL_NbkgoYR1c",focusable:"uL1dD5rxgI4bPmfyMMe7"}},6161:(e,t,i)=>{/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=i(810),r=Symbol.for("react.element"),l=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,i){var n,l={},c=null,u=null;for(n in void 0!==i&&(c=""+i),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,n)&&!o.hasOwnProperty(n)&&(l[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===l[n]&&(l[n]=t[n]);return{$$typeof:r,type:e,key:c,ref:u,props:l,_owner:s.current}}t.Fragment=l,t.jsx=c,t.jsxs=c},9541:(e,t,i)=>{e.exports=i(6161)},2865:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SROnly=void 0;let r=i(9541),l=i(5881),a=i(810),s=n(i(2068));t.SROnly=e=>{let{className:t,focusable:i,children:n,...o}=e,c=(0,l.clsx)(s.default.root,{[s.default.focusable]:i},t);return(0,a.isValidElement)(n)?(0,a.cloneElement)(n,{...o,className:(0,l.clsx)(c,n.props.className)}):(0,r.jsx)("span",{className:c,...o,children:n})}},810:e=>{e.exports=r||(r=i.t(l,2))}},s={};function o(e){var t=s[e];if(void 0!==t)return t.exports;var i=s[e]={exports:{}};return a[e].call(i.exports,i,i.exports,o),i.exports}o.d=(e,t)=>{for(var i in t)o.o(t,i)&&!o.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var c={};Object.defineProperty(c,"__esModule",{value:!0}),c.SROnly=void 0,n=o(2865),Object.defineProperty(c,"SROnly",{enumerable:!0,get:function(){return n.SROnly}});var u=c.SROnly;c.__esModule},76351:function(e,t,i){"use strict";i.d(t,{HS:function(){return d.AfishaWidget},kb:function(){return o.ConcertCard},CS:function(){return u.ConcertDate},Z:function(){return s},m:function(){return c.ConcertsBlock},zj:function(){return r}});let n=e=>{if(e)return{value:e.value,currency:e.currency}},r=e=>{var t;return{id:e.id,dataSessionId:null!==(t=e["data-session-id"])&&void 0!==t?t:"",datetime:e.datetime,city:e.city,place:e.place,contentRating:e.contentRating,price:n(e.minPrice)}};var l=i(42288);let a=l.V5.model("Price",{value:l.V5.number,currency:l.V5.string}),s=l.V5.model("Concert",{id:l.V5.string,dataSessionId:l.V5.maybe(l.V5.string),datetime:l.V5.maybe(l.V5.string),city:l.V5.maybe(l.V5.string),place:l.V5.maybe(l.V5.string),contentRating:l.V5.maybe(l.V5.string),price:l.V5.maybe(a)});var o=i(74898),c=i(63763),u=i(33659),d=i(86306)},57217:function(e,t,i){"use strict";i.d(t,{x:function(){return a}});var n=i(98639),r=i(52122),l=i(44367);let a=e=>{let{artistId:t,viewUuid:i}=e,s=(0,l.z$)(),{hash:o}=(0,l.RQ)(),{pageId:c}=(0,l.lV)(),{objectsCount:u,objectType:d,objectId:m,objectPosX:p,objectPosY:f,objectPos:v}=(0,l.rK)(),C=(0,l.wL)(),_=(0,n.useCallback)(e=>{let i=(0,l.KO)({params:{hash:o,artistId:t,objectsCount:u,objectType:d,objectId:m,objectPosX:p,objectPosY:f,to:e},logger:C,context:a.name});s&&i&&(0,r.f7)(s.evgenInstance,i)},[s,t,o,C,m,p,f,d,u]),y=(0,n.useCallback)(e=>{let n=(0,l.KO)({params:{hash:o,artistId:t,viewUuid:i,objectId:m,objectPos:v,to:e},logger:C,context:a.name});s&&n&&i&&(0,r.Mn)(s.evgenInstance,n)},[s,t,o,C,m,v,i]);return(0,n.useCallback)(e=>{if(s&&c&&l.$P.includes(c))switch(c){case l.Rh.ARTIST:_(e);break;case l.Rh.ARTIST_CONCERTS:y(e)}},[s,c,y,_])}},86306:function(e,t,i){"use strict";i.d(t,{AfishaWidget:function(){return m}});var n=i(9753),r=i(98639),l=i(80542),a=i(39513),s=i(89352),o=i(16636),c=i(44367),u=i(83533),d=i.n(u);let m=e=>{let{dataSessionId:t,isOpened:i,onOpen:u,onClose:m}=e,p=(0,c.uK)().get(c.U5),{formatMessage:f}=(0,l.Z)(),v=(0,r.useCallback)(e=>{e.origin===p.afisha.host&&"close"===e.data.type&&m()},[m,p.afisha.host]);(0,r.useEffect)(()=>(window.addEventListener("message",v),()=>{window.removeEventListener("message",v)}),[v]);let C=(0,r.useCallback)(e=>{e?u():m()},[m,u]),_="".concat(p.afisha.host,"/w/sessions/").concat(t,"?clientKey=").concat(p.afisha.clientId);return(0,n.jsxs)(s.u,{size:"fitContent",placement:"center",open:i,onOpenChange:C,onClose:m,showHeader:!1,className:d().widget,contentClassName:d().content,children:[(0,n.jsx)(o.y,{children:(0,n.jsx)(a.z,{"aria-label":f({id:"interface-actions.close"}),onClick:m})}),(0,n.jsx)("iframe",{src:_,className:d().root,referrerPolicy:"no-referrer",sandbox:"allow-forms allow-modals allow-popups allow-scripts allow-same-origin",allow:"clipboard-read clipboard-write"})]})}},74898:function(e,t,i){"use strict";i.d(t,{ConcertCard:function(){return x}});var n=i(9753),r=i(98639),l=i(80542),a=i(52122),s=i(17295),o=i(98342),c=i(39513),u=i(12404),d=i(2570),m=i(44367),p=i(57217);let f=e=>{let{artistId:t,viewUuid:i}=e,n=(0,m.z$)(),{hash:l}=(0,m.RQ)(),{pageId:s}=(0,m.lV)(),{objectsCount:o,objectType:c,objectId:u,objectPosX:d,objectPosY:p,objectPos:v}=(0,m.rK)(),C=(0,m.wL)(),_=(0,r.useCallback)(()=>{let e=(0,m.KO)({params:{hash:l,artistId:t,objectsCount:o,objectType:c,objectId:u,objectPosX:d,objectPosY:p},logger:C,context:f.name});n&&e&&(0,a.F5)(n.evgenInstance,e)},[n,t,l,C,u,d,p,c,o]),y=(0,r.useCallback)(()=>{let e=(0,m.KO)({params:{hash:l,artistId:t,viewUuid:i,objectId:u,objectPos:v},logger:C,context:f.name});n&&e&&i&&(0,a.b5)(n.evgenInstance,e)},[n,t,l,C,u,v,i]);return(0,r.useCallback)(()=>{if(n&&s&&m.$P.includes(s))switch(s){case m.Rh.ARTIST:_();break;case m.Rh.ARTIST_CONCERTS:y()}},[n,s,y,_])};var v=i(86306),C=i(33659),_=i(91172),y=i.n(_);let x=e=>{var t,i;let{artistId:_,concert:x,viewUuid:k}=e,{formatDate:b,formatNumber:h,formatMessage:g}=(0,l.Z)(),{state:j,toggleTrue:P,toggleFalse:S}=(0,s.O)(!1),A=f({artistId:_,viewUuid:k}),N=(0,p.x)({artistId:_,viewUuid:k}),{ref:R,intersectionPropertyId:L}=(0,m.Vf)({callback:A,singleEvent:!0}),B=(0,r.useId)(),T=(0,r.useId)(),w=(0,r.useMemo)(()=>{let e=(0,n.jsx)(d.Caption,{variant:"span",size:"m",weight:"medium","aria-hidden":!0,children:"â€¢"}),t=[];return x.place&&t.push((0,n.jsx)(d.Caption,{variant:"span",size:"m",weight:"medium",lineClamp:1,children:x.place})),x.datetime&&(t.push(e),t.push((0,n.jsx)(d.Caption,{variant:"span",size:"m",weight:"medium",children:b(x.datetime,(0,m.Sv)())}))),x.contentRating&&(t.push(e),t.push((0,n.jsx)(d.Caption,{variant:"span",size:"m",weight:"medium",children:x.contentRating}))),(0,n.jsx)("div",{className:y().info,children:t.map((e,t)=>(0,r.cloneElement)(e,{key:t}))})},[x.contentRating,x.datetime,x.place,b]),E=(0,r.useMemo)(()=>{var e,t;return(null===(e=x.price)||void 0===e?void 0:e.value)?g({id:"payment.min-price"},{value:h(x.price.value,{style:"currency",currency:null===(t=x.price)||void 0===t?void 0:t.currency,maximumFractionDigits:0})}):g({id:"payment.buy"})},[null===(t=x.price)||void 0===t?void 0:t.currency,null===(i=x.price)||void 0===i?void 0:i.value,g,h]),O=(0,r.useCallback)(e=>{(0,o.m)(e,y().ripple)},[]),V=(0,r.useCallback)(e=>{P(),N(a.Ks.ConcertPurchaseScreen),e.stopPropagation()},[P,N]);return(0,n.jsxs)(u.Paper,{radius:"l",className:y().root,onClick:O,ref:R,"data-intersection-property-id":L,children:[x.datetime&&(0,n.jsx)(C.ConcertDate,{datetime:x.datetime,id:B,className:y().date,dayClassName:y().dateColor,monthClassName:y().dateColor}),(0,n.jsxs)("div",{className:y().meta,id:T,children:[(0,n.jsx)(d.Caption,{variant:"div",size:"m",weight:"medium",className:y().city,lineClamp:1,children:x.city}),w]}),x.dataSessionId&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.z,{color:"primary",radius:"xxxl",className:y().button,"aria-describedby":"".concat(B," ").concat(T),"aria-label":E,onClick:V,children:E}),(0,n.jsx)(v.AfishaWidget,{dataSessionId:x.dataSessionId,isOpened:j,onOpen:P,onClose:S})]})]})}},33659:function(e,t,i){"use strict";i.d(t,{ConcertDate:function(){return d}});var n=i(9753),r=i(60836),l=i(80542),a=i(23881),s=i(2570),o=i(44367),c=i(22778),u=i.n(c);let d=e=>{let{datetime:t,className:i,monthClassName:c,dayClassName:d,withWeekday:m=!0,...p}=e,{formatDate:f}=(0,l.Z)(),v=(0,o.KR)(t);return(0,n.jsxs)("div",{className:(0,r.W)(u().root,i),"aria-label":f(t,(0,o.YT)()),...p,...(0,a.BA)(a.FK.concerts.CONCERT_DATE),children:[(0,n.jsx)(s.Caption,{variant:"div",size:"xs",weight:"bold",className:(0,r.W)(u().month,c),children:v}),(0,n.jsx)(s.Caption,{variant:"div",className:(0,r.W)(u().day,d),children:f(t,(0,o.GL)())}),m&&(0,n.jsx)(s.Caption,{variant:"div",size:"xs",weight:"bold",className:u().weekday,children:f(t,{weekday:"short"})})]})}},63763:function(e,t,i){"use strict";i.d(t,{ConcertsBlock:function(){return v}});var n=i(9753),r=i(60836),l=i(43539),a=i(98639),s=i(52122),o=i(5993),c=i(67868),u=i(57217),d=i(80609),m=i.n(d);let p=()=>Array.from({length:2},(e,t)=>(0,n.jsx)("div",{className:m().concertsColumn,children:(0,c.M4)(2)},t)),f=e=>{let{artistId:t,forwardRef:i,isLoading:d,title:f,viewAllActionLink:v,children:C,className:_,containerClassName:y,headerClassName:x,itemClassName:k,...b}=e,h=(0,a.useId)(),g=(0,a.useRef)(null),j=(0,u.x)({artistId:t}),P=(0,a.useCallback)(()=>{j(s.Ks.ArtistConcertsScreen)},[j]),S=(0,a.useMemo)(()=>(0,l.Z)(C,2).slice(0,4).map((e,t)=>(0,n.jsx)("div",{className:m().concertsColumn,children:e},t)),[C]);return(0,n.jsxs)("section",{ref:i,className:(0,r.W)(m().root,_),...b,children:[(0,n.jsx)(c.ti,{className:x,labeledForId:h,title:f,viewAllActionLink:v,onViewAllAction:P,controls:(0,n.jsx)(c.J8,{className:m().controls,carouselRef:g})}),(0,n.jsx)(o.l,{itemClassName:(0,r.W)(m().item,{[m().item_singleColumn]:2>=a.Children.count(C)},k),className:(0,r.W)(y,{[m().preventScroll]:d}),ref:g,"aria-labelledby":h,children:d?p():S})]})},v=(0,a.forwardRef)((e,t)=>(0,n.jsx)(f,{forwardRef:t,...e}))},4491:function(e,t,i){"use strict";i.d(t,{IT:function(){return a.ArtistCard},xG:function(){return s.ArtistContextMenu},o9:function(){return l},v2:function(){return o.useArtistDisclaimer}});var n=i(42288),r=i(33589);let l=n.V5.model("ArtistMeta",{artist:r.Go,lastMonthListeners:n.V5.maybe(n.V5.number)});var a=i(99654),s=i(54864),o=i(66975)},66975:function(e,t,i){"use strict";i.d(t,{useArtistDisclaimer:function(){return a}});var n=i(98639),r=i(3429),l=i(44367);let a=e=>{let{artist:t,callback:i,shouldHistoryBack:a}=e,{disclaimer:s,modals:{disclaimerModal:o}}=(0,l.oR)(),c=(0,n.useRef)(String((0,r.Z)())),u=(0,n.useRef)(!1),d=(0,l.uK)().get(l.ce);return(0,n.useEffect)(()=>{s.isUnsafeDisclaimerConfirmed&&s.id===c.current&&!u.current&&(null==i||i(),u.current=!0)},[i,s.id,s.isUnsafeDisclaimerConfirmed]),(0,n.useCallback)(async e=>{let n=d.get(l.BU.ExEx);if((null==t?void 0:t.isUnsafeLegal)&&(null==n?void 0:n.includes("".concat(l.co.ARTIST,"_").concat(t.id)))){null==i||i();return}if((null==t?void 0:t.isLegalRejected)||(null==t?void 0:t.isUnsafeLegal)){null==e||e.preventDefault(),await s.getArtistDisclaimer({artistId:t.id}),t.isUnsafeLegal&&s.setType(l.Gq.UNSAFE),s.setId(c.current),s.setEntityId(t.id),s.setEntityType(l.co.ARTIST),s.setShouldHistoryBack(!!a),u.current=!1,o.open();return}null==e||e.preventDefault(),null==i||i()},[null==t?void 0:t.id,null==t?void 0:t.isLegalRejected,null==t?void 0:t.isUnsafeLegal,i,s,o,d,a])}},99654:function(e,t,i){"use strict";i.d(t,{ArtistCard:function(){return j}});var n=i(9753),r=i(60836),l=i(9544),a=i(98639),s=i(80542),o=i(31014),c=i(52122),u=i(23881),d=i(84338),m=i(39513),p=i(27491),f=i(28852),v=i(12404),C=i(2570),_=i(33589),y=i(44367),x=i(67868),k=i(66975),b=i(54864),h=i(62914),g=i.n(h);let j=(0,l.Pi)(e=>{let{artist:t,className:i,children:l,contentLinesCount:h}=e,{ref:j,intersectionPropertyId:P}=(0,y.Vf)(),S=(0,y.x5)(),{formatMessage:A}=(0,s.Z)(),[N,R]=(0,a.useState)(!1),[L,B]=(0,a.useState)(!1),[T,w]=(0,a.useState)(!1),{sendLikeSearchFeedback:E,sendNavigateSearchFeedback:O,sendPlaySearchFeedback:V}=(0,y.sA)(),I=(0,y.zx)(),M=(0,_.SB)(t),z=(0,_.BV)(t),{id:D,name:U,coverUri:F,isLiked:W}=t,Z=(0,y.s0)(t.url),K=(0,y.s0)(t.url,!0),[G,Y]=(0,a.useState)(!1),q=(0,a.useMemo)(()=>{let e=A({id:"entity-names.artist-name"},{artistName:U}),t=W?A({id:"entity-names.has-your-like"}):"";return"".concat(e," ").concat(t)},[U,W,A]),{isPlaying:H,togglePlay:J}=(0,y.qm)({playContextParams:{contextData:{type:d.Ak.Artist,meta:{id:Number(D)},from:S},loadContextMeta:!0}}),Q=(0,k.useArtistDisclaimer)({artist:t,callback:Z}),X=(0,k.useArtistDisclaimer)({artist:t,callback:K}),$=(0,k.useArtistDisclaimer)({artist:t,callback:J}),ee=(0,_.ik)(X,Q),et=(0,a.useCallback)(e=>{null==O||O(),I({to:c.qU.ArtistScreen}),ee(e)},[O,I,ee]),ei=(0,a.useCallback)(e=>{et(e)},[et]),en=(0,a.useCallback)(()=>{N||H||(R(!0),null==V||V()),$()},[H,N,V,$]),er=(0,a.useCallback)(()=>{L||W||(B(!0),null==E||E()),M()},[W,M,L,E]),el=(0,a.useCallback)(e=>{e.preventDefault(),e.stopPropagation()},[]),ea=(0,a.useCallback)(()=>{w(!T),Y(!T)},[T]),es=(0,a.useMemo)(()=>(0,n.jsx)(b.ArtistContextMenu,{artist:t,onOpenChange:ea,open:T,returnFocus:!1,reference:(0,n.jsx)(m.z,{onClick:el,className:(0,r.W)(g().menuButton,g().control),"aria-label":A({id:"interface-actions.context-menu"}),icon:(0,n.jsx)(f.J,{size:"xxs",variant:"more"}),size:"s",radius:"round",...(0,u.BA)(u.bG.artist.ARTIST_CONTEXT_MENU_BUTTON)})}),[t,A,el,ea,T]),eo=(0,a.useMemo)(()=>{if(t.isAvailable)return(0,n.jsx)(p.kk,{isVisible:T||G,className:g().controls,radius:"round",playControl:(0,n.jsx)(x.JM,{buttonVariant:"default",withHover:!1,className:(0,r.W)(g().playButton,g().control),iconSize:"xl",variant:"filled",onClick:en,isPlaying:H,disabled:!t.isAvailableForPlaying}),likeControl:(0,n.jsx)(x.dJ,{className:(0,r.W)(g().likeButton,g().control),isLiked:W,onClick:er,variant:"default",size:"s",iconSize:"xxs"}),menuControl:es,pinControl:(0,n.jsx)(x.RT,{onClick:z,isPinned:t.isPinned,className:(0,r.W)(g().pinButton,g().control),withRipple:!1})})},[t.isAvailable,t.isAvailableForPlaying,es,er,en,T,G,W,H,t.isPinned,z]),ec=(0,a.useMemo)(()=>(0,n.jsx)(v.Paper,{className:g().cover,radius:"round",withShadow:!0,...(0,u.BA)(u.bG.artist.ARTIST_CARD),children:(0,n.jsxs)("div",{className:g().coverBlock,onClick:ei,children:[(0,n.jsx)(x.BE,{className:g().image,src:F,size:200,fit:"cover",alt:q,withAvatarReplace:!0,isAvailable:t.isAvailable,"aria-hidden":!0}),eo]})}),[ei,F,q,t.isAvailable,eo]);return(0,n.jsx)(p.m7,{ref:j,className:(0,r.W)(g().root,i),textPosition:"center","aria-label":q,title:(0,n.jsx)(C.Caption,{variant:"div",type:"entity",size:"s",weight:"medium",lineClamp:2,children:(0,n.jsx)(x.rU,{className:g().titleLink,href:t.url,"aria-label":q,onClick:et,...(0,u.BA)(u.bG.artist.ARTIST_TITLE),children:U})}),srTitle:(0,n.jsx)(x.rU,{href:t.url,onClick:et,children:q}),"data-intersection-property-id":P,description:(0,n.jsx)(C.Caption,{variant:"div",type:"entity",size:"s",weight:"medium",...(0,u.BA)(u.bG.artist.ARTIST_SUBTITLE),children:(0,n.jsx)(o.Z,{id:"entity-names.singer"})}),contentLinesCount:h,view:ec,...(0,u.BA)(u.bG.artist.ARTIST_ITEM),children:l})})},54864:function(e,t,i){"use strict";i.d(t,{ArtistContextMenu:function(){return u}});var n=i(9753),r=i(9544),l=i(98639),a=i(385),s=i(33589),o=i(44367),c=i(67868);let u=(0,r.Pi)(e=>{var t,i,r;let{artist:u,lastMonthListeners:d,reference:m,onOpenChange:p,open:f,returnFocus:v}=e,{settings:C,experiments:_,trailer:y}=(0,o.oR)(),x=(0,s.BV)(u),k=(0,s.SB)(u),b="".concat(o.aU.ARTIST,"-").concat(null==u?void 0:u.id),h=C.layout===o.t8.Mobile,g=_.checkExperiment(o.pe.WebNextEntityTrailer,"on")&&_.checkExperiment(o.pe.WebNextSwitchToStrmWithoutEncrypt,"on")&&(null==u?void 0:null===(t=u.trailer)||void 0===t?void 0:t.isAvailable),{href:j}=(0,o.qK)(null!==(i=null==u?void 0:u.url)&&void 0!==i?i:""),{isPlaying:P,togglePlay:S}=(0,o.Qh)({seeds:null!==(r=null==u?void 0:u.seeds)&&void 0!==r?r:[],pageIdForFrom:o.Rh.RADIO,blockIdForFrom:b}),A=(0,l.useCallback)(()=>{P||S()},[P,S]),N=(0,l.useCallback)(()=>{(null==u?void 0:u.id)&&y.openArtistTrailer(null==u?void 0:u.id)},[null==u?void 0:u.id,y]);return(0,o.ZP)(f),(0,n.jsxs)(a.v2,{reference:m,isMobile:h,title:null==u?void 0:u.name,description:d,offsetOptions:10,open:f,onOpenChange:p,returnFocus:v,children:[!h&&(0,n.jsx)(c.Zd,{onClick:x,isPinned:null==u?void 0:u.isPinned}),(0,n.jsx)(c.xZ,{onClick:k,isLiked:null==u?void 0:u.isLiked,disabled:!(null==u?void 0:u.isAvailable)}),g&&(0,n.jsx)(c.NB,{onClick:N}),(0,n.jsx)(c.GQ,{onClick:A,disabled:!(null==u?void 0:u.isAvailable),variant:"artist"}),(0,n.jsx)(c.zq,{disabled:!u,shareLink:j,entityVariant:"artist",entityTitle:null==u?void 0:u.name})]})})},5293:function(e,t,i){"use strict";i.d(t,{I7:function(){return v},b4:function(){return s},at:function(){return _},zU:function(){return C}});var n=i(9753),r=i(98639),l=i.t(r,2),a=i(67868);let s=e=>{let{children:t,title:i,className:l}=e,{setTitleElement:s,setTitle:o}=(0,r.useContext)(a.pI),c=(0,r.useRef)(null);return(0,r.useEffect)(()=>{(null==c?void 0:c.current)&&s(c),i&&o(i)},[c,i,s,o]),(0,r.useEffect)(()=>()=>{o("")},[o]),(0,n.jsx)("div",{ref:c,className:l,children:t})};var o=i(9544),c={810:e=>{e.exports=l}},u={},d={};(()=>{Object.defineProperty(d,"__esModule",{value:!0}),d.useScroll=void 0;let e=function e(t){var i=u[t];if(void 0!==i)return i.exports;var n=u[t]={exports:{}};return c[t](n,n.exports,e),n.exports}(810);d.useScroll=t=>{(0,e.useEffect)(()=>(window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>{window.removeEventListener("scroll",t)}),[t])}})(),d.__esModule;var m=d.useScroll,p=i(44367);let f=e=>{let{element:t,scrollTop:i,isMobile:n}=e,r=.4*t.clientHeight;return i+(n?56:72)>=t.offsetTop+r},v=(0,o.Pi)(e=>{let{children:t,scrollElement:i,outerTitle:l="",headerElement:s,headerThreshold:o}=e,[c,u]=(0,r.useState)(l),[d,v]=(0,r.useState)(null),[C,_]=(0,r.useState)(!1),[y,x]=(0,r.useState)(!1),{settings:k}=(0,p.oR)(),b=k.layout===p.t8.Mobile;(0,r.useLayoutEffect)(()=>{u(l)},[l]);let h=(0,r.useCallback)(()=>{if(!i)return;let e=null!=o?o:10,t=s?Number(s.offsetTop)-e:e;t<0&&(t=0),x(i.scrollTop>t),(null==d?void 0:d.current)&&_(f({element:null==d?void 0:d.current,scrollTop:i.scrollTop,isMobile:b}))},[i,o,s,d,b]);(0,r.useEffect)(()=>{i&&(null==i?void 0:i.scrollTop)!==0||x(!1)},[i,null==i?void 0:i.scrollTop]),m(h);let g=(0,r.useMemo)(()=>({title:c,setTitle:u,titleElement:d,scrollElement:i,setTitleElement:v,isScrolledTitle:C,isScrolling:y}),[c,C,d,i,y]);return(0,n.jsx)(a.pI.Provider,{value:g,children:t})});i(66414);let C=()=>{let[e,t]=(0,r.useState)(null),i=(0,r.useCallback)(i=>{e!==i&&t(i)},[e]);return[e,i]},_=(e,t)=>((0,p.uK)().get(p.Xt),[(0,r.useMemo)(()=>{if(void 0!==t){let i=t-17;return{"--average-color-background":e,transform:"translateY(".concat(t>=17?0:i,"px)"),opacity:1}}return{}},[t,!1,e]),(0,r.useMemo)(()=>({"--average-color-background":e}),[e])])},55784:function(e,t,i){"use strict";i.d(t,{h:function(){return r.h},n:function(){return n.n}});var n=i(33861),r=i(34906)},31579:function(e,t,i){"use strict";i.d(t,{vY:function(){return l.EmptyPlaylistBlock},ZL:function(){return n.PlaylistCard},Nn:function(){return v},d2:function(){return c},VD:function(){return r.PlaylistsCarousel},RE:function(){return k},Q9:function(){return y},VB:function(){return x}});var n=i(22003),r=i(18921),l=i(6030),a=i(42288),s=i(33589),o=i(12090);let c=o.Cd.props({artists:a.V5.maybe(a.V5.array(s.Go))});var u=i(44367),d=i(13196),m=i(59131);let p=a.V5.model("PlaylistOwner",{uid:a.V5.number,login:a.V5.string,name:a.V5.string,sex:a.V5.enumeration(Object.values(m.oF)),verified:a.V5.boolean}),f=a.V5.model("PlaylistOwner",{userInfo:a.V5.maybeNull(p),caseForms:a.V5.maybeNull(d.S2)}),v=o.Cd.props({owner:a.V5.maybe(p),modified:a.V5.string,description:a.V5.maybe(a.V5.string),madeFor:a.V5.maybeNull(f)}).views(e=>({get seeds(){var t;return["playlist:".concat(null===(t=e.owner)||void 0===t?void 0:t.login,"_").concat(e.kind)]}})).actions(e=>({changeDescription:(0,a.ls)(function*(t){if(!(0,a.fh)(e))return u.SL.ERROR;if(e.description===t)return u.SL.OK;if(t.length>o.Zn)return u.SL.ERROR;let{usersResource:i,modelActionsLogger:n}=(0,a.dU)(e);if(e.canUserChange){let r=e.description;e.description=t;try{let n=yield i.changePlaylistDescription({description:t,userId:e.uid,playlistKind:e.kind});return e.description=n.description,u.SL.OK}catch(t){e.description=r,n.error(t)}}return u.SL.ERROR}),changePlaylistCover:(0,a.ls)(function*(t){if(!(0,a.fh)(e))return u.SL.ERROR;let{usersResource:i,modelActionsLogger:n}=(0,a.dU)(e);try{return yield i.uploadPlaylistCover({userId:e.uid,formData:t,playlistKind:e.kind}),u.SL.OK}catch(e){n.error(e)}return u.SL.ERROR})})),C=e=>({uid:e.uid,login:e.login,name:e.name,sex:e.sex,verified:e.verified}),_=e=>(0,a.pj)({userInfo:e.userInfo?C(e.userInfo):null,caseForms:e.caseForms?(0,u.GA)(e.caseForms):null}),y=e=>(0,a.pj)({...(0,o.PV)(e),owner:e.owner?C(e.owner):void 0,description:e.description,modified:e.modified,madeFor:e.madeFor?_(e.madeFor):null}),x=e=>{var t,i;return(0,a.pj)({...(0,o.PV)(e),artists:null!==(i=null==e?void 0:null===(t=e.artists)||void 0===t?void 0:t.map(s.d))&&void 0!==i?i:[]})},k=e=>{var t,i;let{playlist:n,generatedPlaylistType:r,likesCount:l}=e;return(0,a.pj)({isAvailable:null===(i=n.available)||void 0===i||i,uuid:n.playlistUuid,title:n.title,uid:n.uid,kind:n.kind,coverUri:null===(t=n.cover)||void 0===t?void 0:t.uri,generatedPlaylistType:r,likesCount:l})}},6030:function(e,t,i){"use strict";i.d(t,{EmptyPlaylistBlock:function(){return d}});var n=i(9753),r=i(60836),l=i(98639),a=i(31014),s=i(28852),o=i(2570),c=i(98746),u=i.n(c);let d=e=>{let{className:t,isEmptySearch:i}=e,c=(0,l.useMemo)(()=>i?(0,n.jsx)(a.Z,{id:"search-results.not-found-title"}):(0,n.jsx)(a.Z,{id:"error-messages.empty-collection-playlist-title"}),[i]),d=(0,l.useMemo)(()=>i?(0,n.jsx)(a.Z,{id:"search-results.not-found-description"}):(0,n.jsx)(a.Z,{id:"error-messages.empty-collection-playlist-description"}),[i]);return(0,n.jsxs)("div",{className:(0,r.W)(u().root,t),children:[(0,n.jsx)("div",{className:u().iconBackground,children:(0,n.jsx)(s.J,{variant:"search",size:"l",className:u().icon})}),(0,n.jsx)(o.Heading,{variant:"h3",size:"xs",className:u().title,children:c}),(0,n.jsx)(o.Caption,{variant:"span",size:"l",className:u().subtitle,children:d})]})}},22003:function(e,t,i){"use strict";i.d(t,{PlaylistCard:function(){return P}});var n=i(9753),r=i(60836),l=i(9544),a=i(98639),s=i(80542),o=i(52122),c=i(23881),u=i(84338),d=i(39513),m=i(27491),p=i(28852),f=i(12404),v=i(2570),C=i(33589),_=i(12090),y=i(44367),x=i(67868);let k=e=>{let{formatMessage:t}=(0,s.Z)();return(0,a.useMemo)(()=>{let i="";e.isLiked&&!e.actualLikesCount?i=t({id:"entity-names.has-your-like"}):"number"==typeof e.actualLikesCount&&(i=e.actualLikesCount>0?t({id:"entity-names.likes-counter"},{counter:e.actualLikesCount}):t({id:"entity-names.likes-counter-empty"}));let n=t({id:"entity-names.playlist-name"},{playlistName:e.title});return"".concat(n," ").concat(i)},[t,e])};var b=i(385);let h=(0,l.Pi)(e=>{var t;let{playlist:i,reference:r,onOpenChange:l,open:s,returnFocus:o}=e,{settings:c,experiments:u,trailer:d}=(0,y.oR)(),m=(0,_.SB)(i),p=(0,_.BV)(i),f=c.layout===y.t8.Mobile,v=u.checkExperiment(y.pe.WebNextEntityTrailer,"on")&&u.checkExperiment(y.pe.WebNextSwitchToStrmWithoutEncrypt,"on")&&(null===(t=i.trailer)||void 0===t?void 0:t.isAvailable);(0,y.ZP)(s);let C=(0,a.useCallback)(()=>{d.openPlaylistTrailer(i.id)},[i.id,d]);return(0,n.jsxs)(b.v2,{title:i.title,onOpenChange:l,open:s,offsetOptions:10,reference:r,isMobile:f,returnFocus:o,children:[!f&&(0,n.jsx)(x.Zd,{onClick:p,isPinned:i.isPinned}),!i.isFavouritePlaylist&&(0,n.jsx)(x.xZ,{onClick:m,isLiked:i.isLiked}),v&&(0,n.jsx)(x.NB,{onClick:C})]})});var g=i(88308),j=i.n(g);let P=(0,l.Pi)(e=>{let{className:t,playlist:i,children:l,contentLinesCount:b,customDescription:g}=e,{ref:P,intersectionPropertyId:S}=(0,y.Vf)(),A=(0,y.x5)(),{formatMessage:N}=(0,s.Z)(),{sendLikeSearchFeedback:R,sendNavigateSearchFeedback:L,sendPlaySearchFeedback:B}=(0,y.sA)(),[T,w]=(0,a.useState)(!1),[E,O]=(0,a.useState)(!1),[V,I]=(0,a.useState)(!1),M=k(i),z=(0,_.SB)(i),D=(0,_.BV)(i),U=(0,y.zx)(),F=(0,y.s0)(i.url),W=(0,y.s0)(i.url,!0),Z=(0,C.ik)(W,F),[K,G]=(0,a.useState)(!1),{isPlaying:Y,togglePlay:q}=(0,y.qm)({playContextParams:{contextData:{type:u.Ak.Playlist,meta:{id:i.id,uuid:i.uuid},from:A},loadContextMeta:!0}}),H=(0,a.useCallback)(()=>{U({to:o.qU.PlaylistScreen}),null==L||L()},[U,L]),J=(0,a.useCallback)(e=>{H(),Z(e)},[Z,H]),Q=(0,a.useCallback)(()=>{T||Y||(w(!0),null==B||B()),q()},[Y,T,B,q]),X=(0,a.useCallback)(()=>{E||i.isLiked||(O(!0),null==R||R()),z()},[z,E,i.isLiked,R]),$=(0,a.useCallback)(e=>{e.preventDefault(),e.stopPropagation()},[]),ee=(0,a.useCallback)(()=>{I(!V),G(!V)},[V]),et=(0,a.useMemo)(()=>{var e;return g?(0,n.jsx)(v.Caption,{variant:"span",type:"entity",size:"s",weight:"medium",lineClamp:2,children:g}):(null===(e=i.artists)||void 0===e?void 0:e.length)?(0,n.jsx)(C.jO,{className:j().artists,artists:i.artists,lineClamp:1,linkClassName:j().artistLink,captionSize:"s"}):void 0},[i.artists,g]),ei=(0,a.useMemo)(()=>{if(!i.isFavouritePlaylist)return(0,n.jsx)(x.dJ,{className:(0,r.W)(j().likeButton,j().control),isLiked:i.isLiked,onClick:X,variant:"default",size:"s",iconSize:"xxs"})},[X,i.isFavouritePlaylist,i.isLiked]),en=(0,a.useMemo)(()=>(0,n.jsx)(f.Paper,{className:j().cover,radius:"s",withShadow:!0,...(0,c.BA)(c.bG.playlist.PLAYLIST_CARD),children:(0,n.jsxs)("div",{className:j().coverBlock,onClick:J,children:[(0,n.jsx)(x.BE,{className:j().image,src:i.coverUri,size:200,fit:"cover",alt:M,withAvatarReplace:!0,"aria-hidden":!0}),(0,n.jsx)(m.kk,{isVisible:V||K,className:j().controls,playControl:(0,n.jsx)(x.JM,{className:(0,r.W)(j().playButton,j().control),buttonVariant:"default",withHover:!1,iconSize:"xl",variant:"filled",onClick:Q,isPlaying:Y,disabled:!i.isAvailable}),likeControl:ei,menuControl:(0,n.jsx)(h,{playlist:i,onOpenChange:ee,open:V,returnFocus:!1,reference:(0,n.jsx)(d.z,{onClick:$,className:(0,r.W)(j().menuButton,j().control),"aria-label":N({id:"interface-actions.context-menu"}),icon:(0,n.jsx)(p.J,{size:"xxs",variant:"more"}),size:"s",radius:"round",...(0,c.BA)(c.bG.playlist.PLAYLIST_CONTEXT_MENU_BUTTON)})}),pinControl:(0,n.jsx)(x.RT,{onClick:D,isPinned:i.isPinned,className:(0,r.W)(j().pinButton,j().control),withRipple:!1})})]})}),[J,i,M,V,K,Q,Y,ei,ee,$,N,D]),er=!!i.actualLikesCount&&!i.isLikesCountHidden;return(0,n.jsxs)(m.m7,{ref:P,"aria-label":M,className:(0,r.W)(j().root,t),title:(0,n.jsx)(v.Caption,{variant:"div",type:"entity",size:"s",weight:"medium",lineClamp:2,...(0,c.BA)(c.bG.playlist.PLAYLIST_TITLE),children:(0,n.jsx)(x.rU,{className:j().titleLink,href:i.url,onClick:H,children:i.title})}),srTitle:(0,n.jsx)(x.rU,{href:i.url,onClick:H,children:i.title}),"data-intersection-property-id":S,contentLinesCount:b,view:en,description:et,...(0,c.BA)(c.bG.playlist.PLAYLIST_ITEM),children:[er&&(0,n.jsx)(x.DB,{ariaLabel:N({id:"entity-names.likes-counter"},{counter:i.actualLikesCount}),likesCount:i.actualLikesCount,isLiked:i.isLiked,handleLikeClick:z}),l]})})},18921:function(e,t,i){"use strict";i.d(t,{PlaylistsCarousel:function(){return o}});var n=i(9753),r=i(98639),l=i(67868),a=i(22003);let s=e=>{let{forwardRef:t,isShimmerVisible:i,isShimmerActive:r,title:s,description:o,playlists:c,containerClassName:u,className:d,headerClassName:m,viewAllActionLink:p,...f}=e;return(0,n.jsx)(l.HY,{isShimmerVisible:i,isShimmerActive:r,className:d,headerClassName:m,containerClassName:u,ref:t,title:s,description:o,viewAllActionLink:p,...f,children:null==c?void 0:c.map(e=>(0,n.jsx)(a.PlaylistCard,{playlist:e,contentLinesCount:3},e.key))})},o=(0,r.forwardRef)((e,t)=>(0,n.jsx)(s,{forwardRef:t,...e}))},83533:function(e){e.exports={root:"AfishaWidget_root__Fu9a6",content:"AfishaWidget_content__YFmbs",widget:"AfishaWidget_widget__ZdvqS"}},91172:function(e){e.exports={root:"ConcertCard_root__fcR9B",ripple:"ConcertCard_ripple__PW4xI",date:"ConcertCard_date__ECoa3",dateColor:"ConcertCard_dateColor__muPRD",meta:"ConcertCard_meta__9uMgy",city:"ConcertCard_city__Pgt4S",info:"ConcertCard_info___mAu4",button:"ConcertCard_button__GQxNL"}},22778:function(e){e.exports={root:"ConcertDate_root__xnVG1",month:"ConcertDate_month__ti5Na",day:"ConcertDate_day__YibpP",weekday:"ConcertDate_weekday__fBZXo"}},80609:function(e){e.exports={root:"ConcertsBlock_root__d_1G3",controls:"ConcertsBlock_controls__oULxu",item:"ConcertsBlock_item__jMAX9",item_singleColumn:"ConcertsBlock_item_singleColumn__p8ilp",preventScroll:"ConcertsBlock_preventScroll__YeeZH",concertsColumn:"ConcertsBlock_concertsColumn__2M2t_"}},62914:function(e){e.exports={root:"ArtistCard_root__x67BK",controls:"ArtistCard_controls__jsqqI",cover:"ArtistCard_cover__29ShU",coverBlock:"ArtistCard_coverBlock__dBL4x",image:"ArtistCard_image__pONJx",titleLink:"ArtistCard_titleLink__G8Puz",playButton:"ArtistCard_playButton__XZoTr",likeButton:"ArtistCard_likeButton__LU9TL",menuButton:"ArtistCard_menuButton__EynXG",pinButton:"ArtistCard_pinButton__G_VOi",control:"ArtistCard_control___qv5j"}},98746:function(e){e.exports={root:"EmptyPlaylistBlock_root__wpA0j",iconBackground:"EmptyPlaylistBlock_iconBackground__pnUlz",title:"EmptyPlaylistBlock_title__pQQLf",subtitle:"EmptyPlaylistBlock_subtitle__P4Q7x"}},88308:function(e){e.exports={root:"PlaylistCard_root__i3pR4",controls:"PlaylistCard_controls__Ej8Rz",cover:"PlaylistCard_cover__tpK5L",coverBlock:"PlaylistCard_coverBlock__1slsN",image:"PlaylistCard_image__Li6oy",titleLink:"PlaylistCard_titleLink__H8qEc",artists:"PlaylistCard_artists__HtVIF",artistLink:"PlaylistCard_artistLink__jx3KB",playButton:"PlaylistCard_playButton__eaduk",likeButton:"PlaylistCard_likeButton__RYXJz",menuButton:"PlaylistCard_menuButton__jFcWr",pinButton:"PlaylistCard_pinButton__jhWnL",control:"PlaylistCard_control__73YUq"}}}]);