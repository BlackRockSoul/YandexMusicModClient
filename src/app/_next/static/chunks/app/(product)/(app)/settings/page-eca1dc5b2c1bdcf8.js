(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3555],{17215:function(e,t,i){Promise.resolve().then(i.bind(i,64732))},36084:function(e,t,i){"use strict";i.d(t,{I7:function(){return x},b4:function(){return a},at:function(){return h}});var n=i(9753),s=i(98639),o=i.t(s,2),l=i(3084);let a=e=>{let{children:t,title:i,className:o}=e,{setTitleElement:a,setTitle:r}=(0,s.useContext)(l.pI),c=(0,s.useRef)(null);return(0,s.useEffect)(()=>{(null==c?void 0:c.current)&&a(c),i&&r(i)},[c,i,a,r]),(0,s.useEffect)(()=>()=>{r("")},[r]),(0,n.jsx)("div",{ref:c,className:o,children:t})};var r=i(9544),c={810:e=>{e.exports=o}},d={},p={};(()=>{Object.defineProperty(p,"__esModule",{value:!0}),p.useScroll=void 0;let e=function e(t){var i=d[t];if(void 0!==i)return i.exports;var n=d[t]={exports:{}};return c[t](n,n.exports,e),n.exports}(810);p.useScroll=t=>{(0,e.useEffect)(()=>{let e={capture:!0,passive:!0};return window.addEventListener("scroll",t,e),()=>{window.removeEventListener("scroll",t,e)}},[t])}})(),p.__esModule;var m=p.useScroll,u=i(38527);let _=e=>{let{element:t,scrollTop:i,isMobile:n}=e,s=.4*t.clientHeight;return i+(n?56:72)>=t.offsetTop+s},x=(0,r.Pi)(e=>{let{children:t,scrollElement:i,outerTitle:o="",headerElement:a,headerThreshold:r}=e,[c,d]=(0,s.useState)(o),[p,x]=(0,s.useState)(null),[h,g]=(0,s.useState)(!1),[v,j]=(0,s.useState)(!1),{settings:C}=(0,u.oR4)(),f=C.layout===u.t8m.Mobile;(0,s.useLayoutEffect)(()=>{d(o)},[o]);let N=(0,s.useCallback)(()=>{if(!i)return;let e=null!=r?r:10,t=a?Number(a.offsetTop)-e:e;t<0&&(t=0),j(i.scrollTop>t),(null==p?void 0:p.current)&&g(_({element:null==p?void 0:p.current,scrollTop:i.scrollTop,isMobile:f}))},[i,r,a,p,f]);(0,s.useEffect)(()=>{i&&(null==i?void 0:i.scrollTop)!==0||j(!1)},[i,null==i?void 0:i.scrollTop]),m(N);let S=(0,s.useMemo)(()=>({title:c,setTitle:d,titleElement:p,scrollElement:i,setTitleElement:x,isScrolledTitle:h,isScrolling:v}),[c,h,p,i,v]);return(0,n.jsx)(l.pI.Provider,{value:S,children:t})});i(66414);let h=(e,t)=>((0,u.uK4)().get(u.Xt8),[(0,s.useMemo)(()=>{if(void 0!==t){let i=t-17;return{"--average-color-background":e,transform:"translateY(".concat(t>=17?0:i,"px)"),opacity:1}}return{}},[t,!1,e]),(0,s.useMemo)(()=>({"--average-color-background":e}),[e])])},64732:function(e,t,i){"use strict";i.d(t,{SettingsPage:function(){return Z}});var n=i(9753),s=i(9544),o=i(80542),l=i(31014),a=i(23881),r=i(41055),c=i(2570),d=i(98639),p=i(3752),m=i(38527);let u=()=>{let e=(0,m.uK4)().get(m.U5t),t=(0,m.yyu)(e.oldWebHost),{language:i}=(0,m.ZSk)();return"https://".concat(t,"/newimport?lang=").concat(i)};var _=i(89352),x=i(3084),h=i(62946),g=i.n(h);let v=(0,s.Pi)(()=>{let{formatMessage:e}=(0,o.Z)(),{location:t,modals:{aboutAppModal:i}}=(0,m.oR4)(),s=(0,m.bop)(),a=(0,m.aMu)(),{language:r}=(0,m.ZSk)();return(0,n.jsxs)(_.u,{className:g().root,headerClassName:g().modalHeader,contentClassName:g().modalContent,title:e({id:"settings.about-app"}),open:i.isOpened,onOpenChange:i.onOpenChange,onClose:i.close,size:"fitContent",placement:"center",labelClose:e({id:"interface-actions.close"}),children:[(0,n.jsxs)("ul",{className:g().list,children:[(0,n.jsx)("li",{className:g().item,children:(0,n.jsx)(x.rU,{className:g().link,target:"_blank",href:"https://yandex.".concat(t.tld,"/support/music/performers-and-copyright-holders.html?lang=").concat(r),children:(0,n.jsx)(c.Caption,{type:"controls",variant:"span",size:"l",weight:"medium",children:(0,n.jsx)(l.Z,{id:"footer.links-copyright-holders"})})})}),(0,n.jsx)("li",{className:g().item,children:(0,n.jsx)(x.rU,{className:g().link,target:"_blank",href:"https://yandex.".concat(t.tld,"/legal/music_mobile_agreement?lang=").concat(r),children:(0,n.jsx)(c.Caption,{type:"controls",variant:"span",size:"l",weight:"medium",children:(0,n.jsx)(l.Z,{id:"footer.links-terms"})})})}),(0,n.jsx)("li",{className:g().item,children:(0,n.jsx)(x.rU,{className:g().link,target:"_blank",href:"https://music.yandex.".concat(t.tld,"/legal/recommendations/ru/#music?lang=").concat(r),children:(0,n.jsx)(c.Caption,{type:"controls",variant:"span",size:"l",weight:"medium",children:(0,n.jsx)(l.Z,{id:"footer.links-recommendation-rules"})})})}),(0,n.jsx)("li",{className:g().item,children:(0,n.jsx)(x.rU,{className:g().link,target:"_blank",href:"https://yandex.".concat(t.tld,"/support/music/index.html?lang=").concat(r),children:(0,n.jsx)(c.Caption,{type:"controls",variant:"span",size:"l",weight:"medium",children:(0,n.jsx)(l.Z,{id:"footer.links-help"})})})})]}),(0,n.jsx)(c.Caption,{className:g().explicitText,type:"controls",variant:"div",size:"xs",weight:"medium",dangerouslySetInnerHTML:{__html:e({id:"about-app.explicit-content"})}}),(0,n.jsx)(c.Caption,{className:g().companyText,type:"controls",variant:"div",size:"xs",children:(0,n.jsx)(l.Z,{id:"about-app.app-name"})}),(0,n.jsx)(c.Caption,{className:g().versionText,type:"controls",variant:"div",size:"xs",children:e({id:"desktop.app-version-short"},{version:s})}),(0,n.jsx)(c.Caption,{className:g().versionText,type:"controls",variant:"div",size:"xs",children:e({id:"desktop.app-revision"},{revision:a})})]})});var j=i(60836),C=i(39513),f=i(28852),N=i(40114),S=i.n(N);let b=e=>{let{title:t,description:i,onClick:s,descriptionProps:o,...l}=e;return(0,n.jsx)(C.z,{className:(0,j.W)(S().root,S().important),iconContainerClassName:S().iconContainer,icon:(0,n.jsx)(f.J,{className:S().icon,size:"xs",variant:"arrowRight"}),iconPosition:"right",onClick:s,isBlock:!0,withRipple:!1,withHover:!1,variant:"text",size:"xs",...l,children:(0,n.jsxs)("div",{className:S().content,children:[(0,n.jsx)(c.Caption,{className:S().title,variant:"div",size:"l",weight:"bold",lineClamp:1,children:t}),i&&(0,n.jsx)(c.Caption,{variant:"div",type:"text",size:"xs",weight:"medium",className:S().description,...o,children:i})]})})};var k=i(72433),T=i.n(k);let y=e=>{let{link:t,title:i,description:s,target:o}=e;return(0,n.jsxs)(x.rU,{className:T().root,containerClassName:T().container,textClassName:T().linkText,icon:(0,n.jsx)(f.J,{className:T().icon,size:"xs",variant:"arrowRight"}),iconPosition:"right",href:t,...o?{target:o}:{},children:[(0,n.jsx)(c.Caption,{className:T().title,variant:"div",size:"l",weight:"bold",lineClamp:1,children:i}),s&&(0,n.jsx)(c.Caption,{variant:"div",type:"text",size:"xs",weight:"medium",className:T().description,children:s})]})};var I=i(10951),z=i.n(I);let L=(0,s.Pi)(()=>{let{modals:{shortcutsModal:e}}=(0,m.oR4)(),{formatMessage:t}=(0,o.Z)(),i=(0,d.useMemo)(()=>{let e=(0,n.jsx)(c.Caption,{className:z().text,variant:"div",type:"text",size:"xs",weight:"normal",children:(0,n.jsx)(l.Z,{id:"shortcuts.or"})},"or");return m.ed$.map(t=>{let{shortcutsAction:i,formattedMessage:s}=t,o=m.ftz[i].map((e,t)=>(0,n.jsx)("div",{className:z().button,children:(0,n.jsx)(c.Caption,{variant:"div",type:"text",size:"xs",weight:"normal",children:e})},t));return o.length>1&&o.splice(1,0,e),(0,n.jsx)("li",{children:(0,n.jsxs)("div",{className:z().content,children:[(0,n.jsx)(c.Caption,{className:z().text,variant:"div",type:"text",size:"xs",weight:"normal",children:s}),(0,n.jsx)("div",{className:z().buttons,children:o})]})},i)})},[]);return(0,n.jsx)(_.u,{className:z().root,headerClassName:z().modalHeader,contentClassName:z().modalContent,title:t({id:"settings.shortcuts"}),open:e.isOpened,onOpenChange:e.onOpenChange,onClose:e.close,size:"fitContent",placement:"center",labelClose:t({id:"interface-actions.close"}),children:(0,n.jsx)("ul",{className:z().list,children:i})})});var M=i(4343),w=i.n(M);let E=(0,s.Pi)(()=>{let{modals:{shortcutsModal:e,aboutAppModal:t},equalizer:i,experiments:s,wizard:l}=(0,m.oR4)(),{formatMessage:r}=(0,o.Z)(),c=(0,m.XNW)(),_=u(),x=(0,m.bop)(),h=s.checkExperiment(m.peG.WebNextEqualizer,"on"),g=i.isEnabled?r({id:"equalizer.enabled"}):r({id:"equalizer.disabled"}),j=(0,d.useMemo)(()=>r({id:"desktop.app-version-short"},{version:x}),[!0,r,x]),C=(0,d.useMemo)(()=>s.checkExperiment(m.peG.WebNextWizard,"on")?(0,n.jsx)(b,{title:r({id:"settings.preferences"}),description:r({id:"settings.preferences-description"}),onClick:l.modal.open}):(0,n.jsx)(y,{title:r({id:"settings.preferences"}),description:r({id:"settings.preferences-description"}),link:c,target:"_self"}),[s,r,l,c,!0]);return(0,n.jsxs)("ul",{className:w().root,...(0,a.BA)(a.QM.settings.SETTINGS_LIST),children:[(0,n.jsx)("li",{className:w().item,children:C}),h&&(0,n.jsxs)("li",{className:w().item,children:[(0,n.jsx)(b,{title:r({id:"equalizer.title"}),description:g,onClick:i.modal.open,descriptionProps:(0,a.BA)(a.QM.settings.SETTINGS_EQUALIZER_BUTTON_DESCRIPTION),...(0,a.BA)(a.QM.settings.SETTINGS_EQUALIZER_BUTTON)}),(0,n.jsx)(p.Qk,{})]}),(0,n.jsx)("li",{className:w().item,children:(0,n.jsx)(y,{title:r({id:"settings.import-media"}),description:r({id:"settings.import-media-description"}),link:_})}),(0,n.jsxs)("li",{className:w().item,children:[(0,n.jsx)(b,{title:r({id:"settings.shortcuts"}),onClick:e.open}),(0,n.jsx)(L,{})]}),j&&(0,n.jsxs)("li",{className:w().item,children:[(0,n.jsx)(b,{title:r({id:"settings.about-app"}),description:j,onClick:t.open}),(0,n.jsx)(v,{})]})]})});var A=i(36084),P=i(66995),B=i.n(P);let Z=(0,s.Pi)(()=>{let{formatMessage:e}=(0,o.Z)(),[t,i]=(0,m.zU3)(),s=(0,m.k67)();return(0,n.jsxs)(A.I7,{scrollElement:t,outerTitle:e({id:"page.settings"}),children:[(0,n.jsx)(x.h4,{variant:"text",withForwardControl:!1,withBackwardControl:s.canBack,children:(0,n.jsx)(c.Heading,{variant:"h2",weight:"bold",size:"xl",lineClamp:1,children:(0,n.jsx)(l.Z,{id:"page.settings"})})}),(0,n.jsx)(r.t,{ref:i,className:B().root,containerClassName:B().scrollableContainer,...(0,a.BA)(a.Br.settings.SETTINGS_PAGE),children:(0,n.jsxs)("div",{className:B().container,children:[(0,n.jsx)("div",{className:B().content,children:(0,n.jsx)(E,{})}),(0,n.jsx)(x.$_,{className:B().footer})]})})]})})},66995:function(e){e.exports={root:"SettingsPage_root__BB4lC",scrollableContainer:"SettingsPage_scrollableContainer__qD32i",container:"SettingsPage_container__bIwea",content:"SettingsPage_content__cR6Ra",footer:"SettingsPage_footer__QIqyx"}},62946:function(e){e.exports={root:"AboutAppModal_root__yBvgU",modalHeader:"AboutAppModal_modalHeader__q1NPj",modalContent:"AboutAppModal_modalContent__SHO_X",list:"AboutAppModal_list__HfB82",link:"AboutAppModal_link__i3P3P",explicitText:"AboutAppModal_explicitText__29HUD",companyText:"AboutAppModal_companyText__yroW0",versionText:"AboutAppModal_versionText__iFb8L"}},4343:function(e){e.exports={root:"Settings_root__FVVrn",item:"Settings_item__Ksa9h"}},40114:function(e){e.exports={icon:"SettingsListButtonItem_icon__WULZ1",root:"SettingsListButtonItem_root__3dtV2",important:"SettingsListButtonItem_important__AcEon",iconContainer:"SettingsListButtonItem_iconContainer__KECtv",content:"SettingsListButtonItem_content___Opuo",title:"SettingsListButtonItem_title__npCza",description:"SettingsListButtonItem_description__g8_Ba"}},72433:function(e){e.exports={icon:"SettingsListLinkItem_icon__p4P_V",root:"SettingsListLinkItem_root__rTPC9",container:"SettingsListLinkItem_container__k7bhS",linkText:"SettingsListLinkItem_linkText__0PHlQ",title:"SettingsListLinkItem_title__duJnL",description:"SettingsListLinkItem_description__xWeAD"}},10951:function(e){e.exports={root:"ShortcutsModal_root__ro7m4",modalHeader:"ShortcutsModal_modalHeader__IYJ9m",modalContent:"ShortcutsModal_modalContent__SCpYX",list:"ShortcutsModal_list__eS4ox",text:"ShortcutsModal_text__5JJ0j",content:"ShortcutsModal_content__Li9Ip",buttons:"ShortcutsModal_buttons__o_xlC",button:"ShortcutsModal_button__cTIee"}}},function(e){e.O(0,[5219,4500,3580,2498,7873,919,567,8527,3084,395,1055,9352,3752,2171,361,1744],function(){return e(e.s=17215)}),_N_E=e.O()}]);