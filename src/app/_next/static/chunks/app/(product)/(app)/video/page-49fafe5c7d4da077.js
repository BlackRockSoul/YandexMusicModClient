(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2060],{23223:function(e,t,n){Promise.resolve().then(n.bind(n,13477)),Promise.resolve().then(n.bind(n,82036)),Promise.resolve().then(n.bind(n,93422)),Promise.resolve().then(n.bind(n,89287)),Promise.resolve().then(n.bind(n,43998)),Promise.resolve().then(n.bind(n,82607)),Promise.resolve().then(n.bind(n,77670)),Promise.resolve().then(n.bind(n,81437)),Promise.resolve().then(n.bind(n,56307)),Promise.resolve().then(n.bind(n,17983)),Promise.resolve().then(n.bind(n,13508)),Promise.resolve().then(n.bind(n,23096)),Promise.resolve().then(n.bind(n,54323)),Promise.resolve().then(n.bind(n,65826)),Promise.resolve().then(n.bind(n,57134)),Promise.resolve().then(n.bind(n,42934)),Promise.resolve().then(n.bind(n,86445)),Promise.resolve().then(n.bind(n,23394)),Promise.resolve().then(n.bind(n,13736)),Promise.resolve().then(n.bind(n,74539)),Promise.resolve().then(n.bind(n,39173)),Promise.resolve().then(n.t.bind(n,83181,23)),Promise.resolve().then(n.bind(n,34486)),Promise.resolve().then(n.bind(n,26579)),Promise.resolve().then(n.bind(n,96572)),Promise.resolve().then(n.bind(n,9446)),Promise.resolve().then(n.bind(n,93992)),Promise.resolve().then(n.bind(n,95151)),Promise.resolve().then(n.bind(n,78603)),Promise.resolve().then(n.bind(n,866)),Promise.resolve().then(n.bind(n,24678)),Promise.resolve().then(n.bind(n,53922)),Promise.resolve().then(n.bind(n,5342)),Promise.resolve().then(n.bind(n,99985)),Promise.resolve().then(n.bind(n,16457)),Promise.resolve().then(n.bind(n,2870)),Promise.resolve().then(n.bind(n,4898)),Promise.resolve().then(n.bind(n,26390)),Promise.resolve().then(n.bind(n,76961)),Promise.resolve().then(n.bind(n,93139)),Promise.resolve().then(n.bind(n,90283)),Promise.resolve().then(n.bind(n,30787)),Promise.resolve().then(n.bind(n,83811)),Promise.resolve().then(n.bind(n,87712)),Promise.resolve().then(n.bind(n,15400)),Promise.resolve().then(n.bind(n,24890)),Promise.resolve().then(n.bind(n,98494)),Promise.resolve().then(n.bind(n,98583)),Promise.resolve().then(n.bind(n,3031)),Promise.resolve().then(n.bind(n,59934)),Promise.resolve().then(n.bind(n,75318)),Promise.resolve().then(n.bind(n,68768)),Promise.resolve().then(n.bind(n,87582)),Promise.resolve().then(n.bind(n,51986)),Promise.resolve().then(n.bind(n,95172)),Promise.resolve().then(n.bind(n,77112)),Promise.resolve().then(n.bind(n,22852)),Promise.resolve().then(n.bind(n,53644)),Promise.resolve().then(n.bind(n,367)),Promise.resolve().then(n.t.bind(n,72507,23)),Promise.resolve().then(n.bind(n,35196)),Promise.resolve().then(n.bind(n,17743)),Promise.resolve().then(n.bind(n,89429)),Promise.resolve().then(n.bind(n,22327)),Promise.resolve().then(n.bind(n,18801)),Promise.resolve().then(n.bind(n,75576)),Promise.resolve().then(n.bind(n,38965)),Promise.resolve().then(n.bind(n,47320)),Promise.resolve().then(n.bind(n,86784)),Promise.resolve().then(n.bind(n,37634)),Promise.resolve().then(n.bind(n,57438)),Promise.resolve().then(n.bind(n,84486)),Promise.resolve().then(n.bind(n,98757)),Promise.resolve().then(n.bind(n,40161)),Promise.resolve().then(n.bind(n,67419)),Promise.resolve().then(n.bind(n,35637)),Promise.resolve().then(n.bind(n,55044)),Promise.resolve().then(n.bind(n,97062)),Promise.resolve().then(n.bind(n,9730)),Promise.resolve().then(n.bind(n,25402)),Promise.resolve().then(n.bind(n,16228)),Promise.resolve().then(n.bind(n,46849)),Promise.resolve().then(n.bind(n,18993)),Promise.resolve().then(n.bind(n,21532)),Promise.resolve().then(n.bind(n,37850)),Promise.resolve().then(n.bind(n,62888)),Promise.resolve().then(n.bind(n,24263)),Promise.resolve().then(n.bind(n,95929)),Promise.resolve().then(n.bind(n,41783)),Promise.resolve().then(n.bind(n,20275)),Promise.resolve().then(n.bind(n,48646)),Promise.resolve().then(n.bind(n,95298)),Promise.resolve().then(n.bind(n,61481)),Promise.resolve().then(n.bind(n,78955)),Promise.resolve().then(n.bind(n,87354)),Promise.resolve().then(n.bind(n,88553)),Promise.resolve().then(n.bind(n,24827)),Promise.resolve().then(n.bind(n,80694)),Promise.resolve().then(n.bind(n,51518)),Promise.resolve().then(n.bind(n,23810)),Promise.resolve().then(n.bind(n,87823)),Promise.resolve().then(n.bind(n,18986)),Promise.resolve().then(n.bind(n,89833)),Promise.resolve().then(n.bind(n,13833)),Promise.resolve().then(n.bind(n,13731)),Promise.resolve().then(n.bind(n,82213)),Promise.resolve().then(n.bind(n,3072)),Promise.resolve().then(n.bind(n,87487)),Promise.resolve().then(n.bind(n,11370)),Promise.resolve().then(n.bind(n,47509)),Promise.resolve().then(n.bind(n,8080)),Promise.resolve().then(n.bind(n,76924)),Promise.resolve().then(n.bind(n,53864)),Promise.resolve().then(n.bind(n,66771)),Promise.resolve().then(n.bind(n,45573)),Promise.resolve().then(n.bind(n,80007)),Promise.resolve().then(n.bind(n,83482)),Promise.resolve().then(n.bind(n,50446)),Promise.resolve().then(n.bind(n,89554)),Promise.resolve().then(n.bind(n,76610)),Promise.resolve().then(n.bind(n,60933)),Promise.resolve().then(n.bind(n,70359)),Promise.resolve().then(n.bind(n,93051)),Promise.resolve().then(n.bind(n,70650)),Promise.resolve().then(n.bind(n,57704)),Promise.resolve().then(n.bind(n,43504)),Promise.resolve().then(n.bind(n,89795)),Promise.resolve().then(n.bind(n,48611)),Promise.resolve().then(n.bind(n,47822)),Promise.resolve().then(n.bind(n,96400)),Promise.resolve().then(n.bind(n,98922)),Promise.resolve().then(n.bind(n,76950)),Promise.resolve().then(n.bind(n,32650)),Promise.resolve().then(n.bind(n,20429)),Promise.resolve().then(n.bind(n,35748)),Promise.resolve().then(n.bind(n,84977)),Promise.resolve().then(n.bind(n,65424)),Promise.resolve().then(n.bind(n,24049)),Promise.resolve().then(n.bind(n,8767)),Promise.resolve().then(n.bind(n,25616)),Promise.resolve().then(n.bind(n,29833)),Promise.resolve().then(n.bind(n,45338)),Promise.resolve().then(n.bind(n,20636)),Promise.resolve().then(n.bind(n,21720)),Promise.resolve().then(n.bind(n,47771)),Promise.resolve().then(n.bind(n,46536)),Promise.resolve().then(n.bind(n,39927)),Promise.resolve().then(n.bind(n,47112)),Promise.resolve().then(n.bind(n,44338)),Promise.resolve().then(n.bind(n,2668)),Promise.resolve().then(n.bind(n,54665)),Promise.resolve().then(n.bind(n,39438)),Promise.resolve().then(n.bind(n,39099)),Promise.resolve().then(n.bind(n,94263)),Promise.resolve().then(n.bind(n,6834)),Promise.resolve().then(n.bind(n,13044)),Promise.resolve().then(n.bind(n,40510)),Promise.resolve().then(n.bind(n,61796)),Promise.resolve().then(n.bind(n,57129)),Promise.resolve().then(n.bind(n,25821)),Promise.resolve().then(n.bind(n,13487)),Promise.resolve().then(n.bind(n,82539)),Promise.resolve().then(n.bind(n,43790)),Promise.resolve().then(n.bind(n,68654)),Promise.resolve().then(n.bind(n,31603)),Promise.resolve().then(n.bind(n,6317)),Promise.resolve().then(n.bind(n,32270)),Promise.resolve().then(n.bind(n,67857)),Promise.resolve().then(n.bind(n,84422)),Promise.resolve().then(n.bind(n,97376)),Promise.resolve().then(n.bind(n,10321)),Promise.resolve().then(n.bind(n,16783)),Promise.resolve().then(n.bind(n,56541)),Promise.resolve().then(n.bind(n,85602)),Promise.resolve().then(n.bind(n,2084)),Promise.resolve().then(n.bind(n,89332)),Promise.resolve().then(n.bind(n,56590)),Promise.resolve().then(n.bind(n,48481)),Promise.resolve().then(n.bind(n,31022)),Promise.resolve().then(n.bind(n,26500)),Promise.resolve().then(n.bind(n,90334)),Promise.resolve().then(n.bind(n,86364)),Promise.resolve().then(n.bind(n,34882)),Promise.resolve().then(n.bind(n,77588)),Promise.resolve().then(n.bind(n,60731)),Promise.resolve().then(n.bind(n,5299)),Promise.resolve().then(n.bind(n,94934)),Promise.resolve().then(n.bind(n,89585)),Promise.resolve().then(n.bind(n,19219)),Promise.resolve().then(n.bind(n,38330)),Promise.resolve().then(n.bind(n,88860)),Promise.resolve().then(n.bind(n,40174)),Promise.resolve().then(n.bind(n,9323)),Promise.resolve().then(n.bind(n,45893)),Promise.resolve().then(n.bind(n,17351)),Promise.resolve().then(n.bind(n,88363)),Promise.resolve().then(n.bind(n,48781)),Promise.resolve().then(n.bind(n,82191)),Promise.resolve().then(n.bind(n,77113)),Promise.resolve().then(n.bind(n,21740)),Promise.resolve().then(n.bind(n,56381)),Promise.resolve().then(n.bind(n,90721)),Promise.resolve().then(n.bind(n,46772)),Promise.resolve().then(n.bind(n,16358)),Promise.resolve().then(n.bind(n,72918)),Promise.resolve().then(n.bind(n,1842)),Promise.resolve().then(n.bind(n,79388)),Promise.resolve().then(n.bind(n,99479)),Promise.resolve().then(n.bind(n,14697)),Promise.resolve().then(n.bind(n,49282)),Promise.resolve().then(n.bind(n,79919)),Promise.resolve().then(n.bind(n,18270)),Promise.resolve().then(n.bind(n,5019)),Promise.resolve().then(n.bind(n,4101)),Promise.resolve().then(n.bind(n,67263)),Promise.resolve().then(n.bind(n,2282)),Promise.resolve().then(n.bind(n,70872)),Promise.resolve().then(n.bind(n,4357)),Promise.resolve().then(n.bind(n,36988)),Promise.resolve().then(n.bind(n,38577)),Promise.resolve().then(n.bind(n,79828)),Promise.resolve().then(n.bind(n,50449)),Promise.resolve().then(n.bind(n,95114)),Promise.resolve().then(n.bind(n,92048)),Promise.resolve().then(n.bind(n,72563)),Promise.resolve().then(n.bind(n,14846)),Promise.resolve().then(n.bind(n,1138)),Promise.resolve().then(n.bind(n,99827)),Promise.resolve().then(n.bind(n,1254)),Promise.resolve().then(n.bind(n,55663)),Promise.resolve().then(n.bind(n,99224))},26928:function(e,t,n){"use strict";n.d(t,{Ji:function(){return h}});var i,r,o,s,l=n(72669),a=n(91207),d=n(37184);(i=o||(o={})).formatDate="FormattedDate",i.formatTime="FormattedTime",i.formatNumber="FormattedNumber",i.formatList="FormattedList",i.formatDisplayName="FormattedDisplayName",(r=s||(s={})).formatDate="FormattedDateParts",r.formatTime="FormattedTimeParts",r.formatNumber="FormattedNumberParts",r.formatList="FormattedListParts";var m=function(e){var t=(0,d.Z)(),n=e.value,i=e.children,r=(0,l.__rest)(e,["value","children"]);return i(t.formatNumberToParts(n,r))};function u(e){var t=function(t){var n=(0,d.Z)(),i=t.value,r=t.children,o=(0,l.__rest)(t,["value","children"]),s="string"==typeof i?new Date(i||0):i;return r("formatDate"===e?n.formatDateToParts(s,o):n.formatTimeToParts(s,o))};return t.displayName=s[e],t}function v(e){var t=function(t){var n=(0,d.Z)(),i=t.value,r=t.children,o=(0,l.__rest)(t,["value","children"]),s=n[e](i,o);if("function"==typeof r)return r(s);var m=n.textComponent||a.Fragment;return a.createElement(m,null,s)};return t.displayName=o[e],t}m.displayName="FormattedNumberParts",m.displayName="FormattedNumberParts";var h=v("formatDate");v("formatTime"),v("formatNumber"),v("formatList"),v("formatDisplayName"),u("formatDate"),u("formatTime")},67228:function(e,t,n){"use strict";n.d(t,{C:function(){return R},F:function(){return m}});var i,r,o=n(91207),s=n(58997);let l=e=>({serviceSessionId:e.serviceSessionId}),a=e=>{let{target:t,serviceSessionId:n,offersBatchId:i,offersPositionIds:r}=e;return{serviceSessionId:n,target:t,offersBatchId:i,offersPositionIds:r}},d=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],{frontSessionStart:n,loadOffersResulted:i}=(0,s.E_I)(t);(0,o.useEffect)(()=>{e.loadingState!==s.Gui.RESOLVE||e.isFrontSessionStartSent||(n(l(e)),e.toggleIsFrontSessionStartSentTrue())},[e,e.loadingState,e.isFrontSessionStartSent,n]),(0,o.useEffect)(()=>{e.loadingState!==s.Gui.RESOLVE||e.isLoadOffersResultSent||(i(a(e)),e.toggleIsLoadOffersResultSentTrue())},[e,e.loadingState,e.isLoadOffersResultSent,i])},m=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],{user:n,offers:i}=(0,s.oR4)(),r=i[e],{payment:{environment:l}}=(0,s.uK4)().get(s.U5t);return(0,o.useEffect)(()=>{if(t&&r.isNeededToLoad){let e="production"===l?n.account.uid:void 0;r.getData({uid:e})}},[t,r,r.isNeededToLoad,l,n]),d(r,t),r};var u=n(2685);let v=e=>(0,u.pj)(e),h=e=>{let{plans:t,...n}=e;return(0,u.pj)({...n,plans:t.map(v)})},b=e=>{let{option:t,...n}=e;return(0,u.pj)({...h(n),option:t})},P=e=>{if(!e)return null;let{tariff:t,...n}=e;return(0,u.pj)({...h(n),tariff:t})},c=e=>{let{positionId:t,silentInvoiceAvailable:n,structureType:i,tariffOffer:r,optionOffers:o}=e;return(0,u.pj)({positionId:t,silentInvoiceAvailable:n,structureType:i,tariffOffer:P(r),optionsOffers:o.map(b)})},f=e=>{let{eventSessionId:t,batchPositionId:n,offers:i}=e;return(0,u.pj)({eventSessionId:t,batchPositionId:n,offers:i.map(c)})};(i=r||(r={})).COMPOSITE="COMPOSITE",i.OPTION="OPTION",i.TARIFF="TARIFF";var p=n(36063);let g=u.V5.model({amount:u.V5.number,currency:u.V5.string}),_=u.V5.model({typename:u.V5.literal(p.f.IntroPlan),period:u.V5.string,price:g,repeatCount:u.V5.number}),S=u.V5.model({typename:u.V5.literal(p.f.IntroUntilPlan),price:g,until:u.V5.string}),x=u.V5.model({typename:u.V5.literal(p.f.TrialPlan),period:u.V5.string}),N=u.V5.model({typename:u.V5.literal(p.f.TrialUntilPlan),until:u.V5.string}),C=u.V5.union(_,S,x,N),y=u.V5.model({name:u.V5.string}),O=u.V5.model({additionText:u.V5.string,description:u.V5.string,name:u.V5.string,text:u.V5.string,title:u.V5.string,plans:u.V5.array(C),commonPeriod:u.V5.string,commonPrice:g}),V=O.props({option:y}),T=O.props({tariff:y}),j=u.V5.model({positionId:u.V5.string,silentInvoiceAvailable:u.V5.boolean,structureType:u.V5.enumeration(Object.values(r)),tariffOffer:u.V5.maybeNull(T),optionsOffers:u.V5.array(V)}),E=u.V5.model({eventSessionId:u.V5.string,batchPositionId:u.V5.string,offers:u.V5.array(j)}),I=u.V5.model({loadingState:u.V5.enumeration(Object.values(s.Gui)),isFrontSessionStartSent:u.V5.maybe(u.V5.boolean),isLoadOffersResultSent:u.V5.maybe(u.V5.boolean),data:u.V5.maybeNull(E)}).views(e=>({get isNeededToLoad(){return e.loadingState===s.Gui.IDLE},get isLoading(){return e.loadingState===s.Gui.PENDING},get isLoaded(){return e.loadingState===s.Gui.RESOLVE},get isRejected(){return e.loadingState===s.Gui.REJECT},get isShimmerVisible(){return this.isNeededToLoad||this.isLoading||this.isRejected},get isShimmerActive(){return this.isLoading},get target(){return"music"},get features(){return},get offerPosition(){return 0},get offer(){var t;return null===(t=e.data)||void 0===t?void 0:t.offers[this.offerPosition]},get offersPositionId(){var n;return(null===(n=this.offer)||void 0===n?void 0:n.positionId)||""},get tariffOffer(){var i;return null===(i=this.offer)||void 0===i?void 0:i.tariffOffer},get mainText(){var r;return null===(r=this.tariffOffer)||void 0===r?void 0:r.text},get additionText(){var o;return null===(o=this.tariffOffer)||void 0===o?void 0:o.additionText},get serviceSessionId(){var l;return(null===(l=e.data)||void 0===l?void 0:l.eventSessionId)||""},get offersBatchId(){var a;return(null===(a=e.data)||void 0===a?void 0:a.batchPositionId)||""},get offersPositionIds(){var d;return(null===(d=e.data)||void 0===d?void 0:d.offers.map(e=>e.positionId))||[]}})).actions(e=>({toggleIsFrontSessionStartSentTrue(){e.isFrontSessionStartSent=!0},toggleIsLoadOffersResultSentTrue(){e.isLoadOffersResultSent=!0},getData:(0,u.ls)(function*(t){let{uid:n}=t,{offersResource:i,modelActionsLogger:r}=(0,u.dU)(e);if(e.loadingState!==s.Gui.PENDING){e.isFrontSessionStartSent=!1,e.isLoadOffersResultSent=!1;try{e.loadingState=s.Gui.PENDING;let t=yield i.getCompositeOffers({uid:n,target:e.target,features:e.features}),r=f(t);e.data=r,e.loadingState=s.Gui.RESOLVE}catch(t){e.loadingState=s.Gui.REJECT,r.error(t)}}})})).named("MusicOffers"),R=u.V5.model("Offers",{music:I})},31316:function(e,t,n){"use strict";n.d(t,{Qw:function(){return _},_$:function(){return m},c8:function(){return r},tP:function(){return l}});var i,r,o=n(91207),s=n(58997);let l=e=>{let{target:t,tariffOfferName:n,serviceSessionId:i="",isEnabled:r=!0}=e,{paymentWidgetModal:{modal:l,setTarget:a,setTariffOfferName:d,setServiceSessionId:m}}=(0,s.oR4)();return{open:(0,o.useCallback)(()=>{r&&(a(t),m(i),n&&d(n),l.open())},[d,a,m,t,n,i,l,r]),isOpened:l.isOpened}};var a=n(2685),d=n(91694);(i=r||(r={})).IDLE="idle",i.SUCCESS="success",i.ERROR="error";let m=a.V5.model({modal:d.KL,target:a.V5.string,tariffOfferName:a.V5.string,serviceSessionId:a.V5.string,status:a.V5.enumeration(Object.values(r))}).views(e=>({get isSuccess(){return e.status===r.SUCCESS},get isError(){return e.status===r.ERROR}})).actions(e=>({setTarget(t){e.target=t},setTariffOfferName(t){e.tariffOfferName=t},setServiceSessionId(t){e.serviceSessionId=t},setStatus(t){e.status=t},reset(){e.target="",e.tariffOfferName="",e.serviceSessionId="",e.status=r.IDLE}}));var u=n(65301),v=n(9695),h=n(96233),b=n(2319),P=n(14386);let c=null,f=e=>{let{className:t,target:n,serviceSessionId:i,tariffOfferName:r,onLoad:l,onSuccess:a,onError:d,onClose:m}=e,v=(0,o.useRef)(null),{theme:h}=(0,s.FgM)(),{pwTools:b}=(0,s.N7D)(),P=(0,o.useCallback)(e=>{"purchase_data"===e.type&&(null==a||a())},[a]),f=(0,o.useCallback)(()=>{null==d||d()},[d]),p=(0,o.useCallback)(()=>{null==m||m()},[m]),g=(0,o.useCallback)(e=>{"loaded"===e.data.status&&(null==l||l())},[l]),_=(0,o.useCallback)(async()=>{if(!b||!v.current)return;let{lang:e,mode:t,platform:o,widgetServiceName:s,authMethod:l}=b.options;if(!c)try{c=await b.loadManager()}catch(e){p();return}c.send({type:"init",options:{lang:e,mode:t,platform:o,widgetServiceName:s,authMethod:l,usePlusHost:!0,theme:h,onSuccess:P,onError:f,onReport:g,onClose:p}}),c.send({type:"open",options:{target:n,eventSessionId:i,tariffOfferName:r,targetNode:v.current,isTarifficator:!0}})},[h,b,n,r,i,P,f,g,p]);return(0,o.useEffect)(()=>(_(),()=>{null==c||c.send({type:"close"})}),[_]),(0,u.jsx)("div",{className:t,ref:v})};var p=n(24546),g=n.n(p);let _=(0,h.Pi)(()=>{let{paymentWidgetModal:e,advert:t}=(0,s.oR4)(),{state:n,toggleTrue:i}=(0,b.O)(!1),l=(0,s.SB9)();(0,o.useEffect)(()=>()=>{e.reset()},[e]);let a=(0,o.useCallback)(()=>{e.setStatus(r.SUCCESS),l.track({label:"WCvtCKnr84oYEPnRuvUo"})},[e,l]),d=(0,o.useCallback)(()=>{e.modal.close(),e.isSuccess&&window.location.reload(),e.reset()},[e]),m=(0,o.useCallback)(()=>{e.setStatus(r.ERROR)},[e]);return(0,u.jsx)(P.u,{open:e.modal.isOpened,size:"fitContent",placement:"center",showHeader:!1,withAnimation:!1,className:(0,v.W)(g().root,{[g().root_loaded]:n,[g().root_level_up]:t.isAdvertShown}),contentClassName:g().content,overlayColor:"full",children:(0,u.jsx)(f,{className:g().widget,target:e.target,serviceSessionId:e.serviceSessionId,tariffOfferName:e.tariffOfferName,onLoad:i,onSuccess:a,onError:m,onClose:d})})})},87398:function(e,t,n){"use strict";n.d(t,{CS:function(){return S},xU:function(){return v}});var i=n(99678),r=n(91207),o=n(36063),s=n(67228),l=n(31316),a=n(58997);let d=e=>{let{onClick:t,offerElement:n,isEnabled:i}=e,{element:o}=n||{};(0,r.useEffect)(()=>{if(o&&i)return o.addEventListener("click",t),()=>o.removeEventListener("click",t)},[o,t,i])};var m=n(51304);let u=e=>{var t;let{onShow:n,offerElement:i,isEnabled:o=!0}=e,s=(0,r.useRef)(null),{element:l,intersectionPropertyId:a}=i||{},d=(0,r.useMemo)(()=>l?(s.current=l,[s]):[],[l]),{isIntersecting:u}=null!==(t=(0,m.S1)(d,{preflightCheck:!1},!l||!o)[null!=a?a:""])&&void 0!==t?t:{};(0,r.useEffect)(()=>{u&&n()},[u,n])},v=e=>{let{storeName:t,offerElement:n,isEnabled:m=!0}=e,v=(0,i.useRouter)(),{mainText:h,additionText:b,isShimmerVisible:P,isShimmerActive:c,target:f,tariffOffer:p,serviceSessionId:g,offerPosition:_,offersBatchId:S,offersPositionId:x}=(0,s.F)(t,m),{open:N,isOpened:C}=(0,l.tP)({target:f,serviceSessionId:g,tariffOfferName:null==p?void 0:p.name,isEnabled:m}),{offersShown:y,offersClicked:O}=(0,a.E_I)(m),V=(0,r.useCallback)(()=>{m&&y({serviceSessionId:g,offersBatchId:S,offersPositionId:x,position:_})},[y,g,S,x,_,m]),T=(0,r.useCallback)(()=>{m&&O({serviceSessionId:g,offersBatchId:S,offersPositionId:x})},[O,g,S,x,m]);u({offerElement:n,isEnabled:m,onShow:V}),d({offerElement:n,isEnabled:m,onClick:T});let j=(0,a.uK4)(),E=(0,r.useCallback)(()=>{let e=j.get(a.xit),t=j.get(a.ArX);e.authorizationUrl&&(t.set(a.BUb.Offer,{target:f,serviceSessionId:g,tariffOfferName:null==p?void 0:p.name}),v.push(e.authorizationUrl))},[j,v,f,g,p]);return{mainText:h,additionText:b,isShimmerVisible:P,isShimmerActive:c,trialPlanPeriod:(0,r.useMemo)(()=>{var e,t,n,i;if((null==p?void 0:null===(t=p.plans)||void 0===t?void 0:null===(e=t[0])||void 0===e?void 0:e.typename)===o.f.TrialPlan)return null==p?void 0:null===(i=p.plans)||void 0===i?void 0:null===(n=i[0])||void 0===n?void 0:n.period},[p]),openPaymentWidgetModal:N,offersShown:V,offersClicked:T,saveOfferAndAuthorize:E,isPaymentWidgetModalOpened:C}};var h=n(65301),b=n(96233),P=n(44729),c=n(78372),f=n(14386),p=n(81437),g=n(82607);let _=e=>{let{className:t,mainTextClassName:n,additionTextClassName:i,onClick:o,isShimmerActive:s,isShimmerVisible:l,mainText:a,additionText:d,forwardRef:m,...u}=e,v=(0,r.useCallback)(e=>{e.stopPropagation(),e.preventDefault(),null==o||o()},[o]);return l?(0,h.jsx)(g.Shimmer,{className:t,isActive:s,radius:"xxxl"}):(0,h.jsxs)(c.z,{ref:m,className:t,isBlock:!0,color:"plus",variant:"default",size:"l",radius:"xxxl",onClick:v,...u,children:[(0,h.jsx)(p.Caption,{className:n,variant:"div",size:"l",lineClamp:1,children:a}),(0,h.jsx)(p.Caption,{className:i,variant:"div",size:"xs",lineClamp:1,children:d})]})},S=(0,r.forwardRef)((e,t)=>(0,h.jsx)(_,{forwardRef:t,...e}));var x=n(17808),N=n.n(x);let C="buy-subscription-modal",y=(0,b.Pi)(()=>{let e=(0,r.useRef)(null),t=(0,i.useRouter)(),n=(0,a.uK4)().get(a.xit),{openPaymentWidgetModal:o,isShimmerActive:s,isShimmerVisible:l,mainText:d,additionText:m,saveOfferAndAuthorize:u}=v({storeName:"music",offerElement:{element:e.current,intersectionPropertyId:C}}),{modals:{buySubscriptionModal:b},user:g}=(0,a.oR4)(),_=(0,r.useCallback)(()=>{if(b.close(),!g.isAuthorized){u();return}o()},[b,o,u,g.isAuthorized]),x=(0,r.useCallback)(()=>{b.close(),n.authorizationUrl&&t.push(n.authorizationUrl)},[n.authorizationUrl,b,t]);return(0,h.jsxs)(f.u,{className:N().root,headerClassName:N().header,contentClassName:N().content,size:"fitContent",placement:"default",open:b.isOpened,onOpenChange:b.onOpenChange,onClose:b.close,lockScroll:!0,children:[(0,h.jsx)(p.Caption,{className:N().heading,variant:"div",weight:"bold",children:(0,h.jsx)(P.Z,{id:"buy-subscription.listen-without-restrictions",values:{nbsp:"\xa0"}})}),(0,h.jsxs)("div",{className:N().buttons,children:[(0,h.jsx)(S,{ref:e,"data-intersection-property-id":C,mainText:d,additionText:m,isShimmerActive:s,isShimmerVisible:l,onClick:_,className:N().button,mainTextClassName:N().buttonMainText,additionTextClassName:N().buttonAdditionText}),(0,h.jsx)(c.z,{onClick:x,className:N().button,isBlock:!0,color:"secondary",variant:"default",size:"l",radius:"xxxl",children:(0,h.jsx)(p.Caption,{className:N().buttonMainText,variant:"span",weight:"bold",children:(0,h.jsx)(P.Z,{id:"buy-subscription.already-in-plus",values:{nbsp:"\xa0"}})})})]})]})});var O=n(32907),V=n(82036),T=n(29778),j=n(29188),E=n.n(j);let I="buy-subscription-button",R=(0,b.Pi)(()=>{let e=(0,r.useRef)(null),{showBuySubscriptionModal:t}=(0,a.vLf)(),{mainText:n,isShimmerVisible:i,isShimmerActive:o}=v({storeName:"music",offerElement:{element:e.current,intersectionPropertyId:I}}),s=(0,O.V)(()=>i?(0,h.jsx)(T.AH,{className:E().titleShimmerContainer,isActive:o,textClassName:E().titleShimmer}):(0,h.jsx)(p.Caption,{className:E().title,variant:"span",size:"m",weight:"bold",children:n}));return(0,h.jsxs)("div",{ref:e,className:E().root,"data-intersection-property-id":I,children:[(0,h.jsxs)("div",{className:E().info,children:[(0,h.jsxs)("div",{className:E().titleContainer,children:[(0,h.jsx)(V.Icon,{className:E().icon,"aria-hidden":!0,variant:"plusColor",size:"xxxs"}),s]}),(0,h.jsx)(p.Caption,{className:E().subtitle,variant:"span",size:"xs",weight:"normal",children:(0,h.jsx)(P.Z,{id:"buy-subscription.music-and-films-and-other"})})]}),(0,h.jsx)(c.z,{color:"plus",variant:"default",size:"m",radius:"xxxl",onClick:t,children:(0,h.jsx)(p.Caption,{className:E().buttonText,variant:"span",size:"m",weight:"normal",children:(0,h.jsx)(P.Z,{id:"buy-subscription.activate"})})})]})});(0,b.Pi)(e=>{let{children:t}=e,{paymentWidgetModal:n}=(0,a.oR4)(),{shouldShowBuySubscriptionModal:i,showBuySubscriptionModal:o,hideBuySubscriptionModal:s}=(0,a.vLf)();return((0,r.useEffect)(()=>{if(i){if(n.modal.isOpened){s();return}o()}},[s,n.modal.isOpened,i,o]),i)?(0,h.jsxs)(h.Fragment,{children:[t,(0,h.jsx)(R,{}),(0,h.jsx)(y,{})]}):t})},36643:function(e,t,n){"use strict";n.d(t,{D:function(){return i.SomethingWentWrong}});var i=n(87407)},87407:function(e,t,n){"use strict";n.d(t,{SomethingWentWrong:function(){return P}});var i=n(65301),r=n(9695),o=n(96233),s=n(91207),l=n(44729),a=n(78372),d=n(82036),m=n(81437),u=n(58997),v=n(29778),h=n(60637),b=n.n(h);let P=(0,o.Pi)(e=>{let{className:t,withBackwardControl:n=!0}=e,o=(0,s.useCallback)(()=>{window.location.href="/"},[]),{contentRef:h}=(0,u.$Y6)();return(0,i.jsxs)("div",{className:(0,r.W)(b().root,t),children:[n&&(0,i.jsx)(v.nP,{withBackwardFallback:"/",className:(0,r.W)(b().navigation,{[b().navigation_desktop]:!h}),withForwardControl:!1}),(0,i.jsxs)("div",{className:(0,r.W)(b().content,{[b().content_shrink]:!n}),children:[(0,i.jsx)(d.Icon,{className:b().icon,variant:"attention",size:"xxl"}),(0,i.jsx)(m.Heading,{className:(0,r.W)(b().title,b().important),variant:"h3",size:"xs",children:(0,i.jsx)(l.Z,{id:"error-messages.something-went-wrong"})}),(0,i.jsxs)(m.Caption,{className:(0,r.W)(b().text,b().important),variant:"span",type:"text",size:"l",weight:"normal",children:[!1,(0,i.jsx)(l.Z,{id:"page-error.try-to-restart-app"})]}),(0,i.jsx)(a.z,{onClick:o,className:b().button,role:"link",color:"secondary",size:"l",radius:"xxxl",children:(0,i.jsxs)(m.Caption,{type:"controls",variant:"span",size:"m",children:[!1,(0,i.jsx)(l.Z,{id:"page-error.restart-app-button"})]})})]})]})})},24546:function(e){e.exports={root:"PaymentWidgetModal_root__I6Hrp",root_loaded:"PaymentWidgetModal_root_loaded__Rzltj",root_level_up:"PaymentWidgetModal_root_level_up__pj52G",content:"PaymentWidgetModal_content__ifRry",widget:"PaymentWidgetModal_widget__cu_gr"}},29188:function(e){e.exports={root:"BuySubscriptionButton_root__BdquR",info:"BuySubscriptionButton_info__qBinu",subtitle:"BuySubscriptionButton_subtitle__Ni4VS",title:"BuySubscriptionButton_title__RG_OU",buttonText:"BuySubscriptionButton_buttonText__cmJMC",titleContainer:"BuySubscriptionButton_titleContainer__h7Lmt",titleShimmer:"BuySubscriptionButton_titleShimmer___hnah",titleShimmerContainer:"BuySubscriptionButton_titleShimmerContainer__Wv82r",icon:"BuySubscriptionButton_icon__0oNi_"}},17808:function(e){e.exports={root:"BuySubscriptionModal_root__5LvlX",content:"BuySubscriptionModal_content__v06Ju",heading:"BuySubscriptionModal_heading__07nBE",buttons:"BuySubscriptionModal_buttons__wSCRP",button:"BuySubscriptionModal_button__8m6Dx",buttonMainText:"BuySubscriptionModal_buttonMainText__pyjEc",buttonAdditionText:"BuySubscriptionModal_buttonAdditionText__rdKJn",header:"BuySubscriptionModal_header__ho5hr"}},60637:function(e){e.exports={root:"SomethingWentWrong_root__d77VJ",content:"SomethingWentWrong_content__8_YkJ",content_shrink:"SomethingWentWrong_content_shrink__GOR_7",navigation:"SomethingWentWrong_navigation__a8eMG",navigation_desktop:"SomethingWentWrong_navigation_desktop__WGGBX",icon:"SomethingWentWrong_icon__f15_y",title:"SomethingWentWrong_title__Kn89B",important:"SomethingWentWrong_important__namIb",text:"SomethingWentWrong_text__KEfGc",button:"SomethingWentWrong_button__dmh7t"}},36063:function(e,t,n){"use strict";var i,r;n.d(t,{f:function(){return i}}),(r=i||(i={})).IntroPlan="IntroPlan",r.IntroUntilPlan="IntroUntilPlan",r.TrialPlan="TrialPlan",r.TrialUntilPlan="TrialUntilPlan"}},function(e){e.O(0,[3537,6072,1884,9158,9582,9123,5734,7425,145,85,5453,7873,5493,7311,2845,9778,1694,721,4709,3154,4474,6642,437,4763,1783,3504,2291,1744],function(){return e(e.s=23223)}),_N_E=e.O()}]);