(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3555],{10656:function(e,t,n){Promise.resolve().then(n.bind(n,64732))},17753:function(e,t,n){"use strict";n.d(t,{e:function(){return j},X:function(){return _}});var i=n(9753),o=n(60836),s=n(9544),a=n(80542),l=n(39513),r=n(28852),c=n(2570),d=n(67868),m=n(63394);let _=()=>{let e=(0,m.uK)(),{location:t}=(0,m.oR)(),{language:n}=(0,m.ZS)(),{theme:i}=(0,m.Fg)(),o=e.get(m.U5),s=(0,m.yy)(o.oldWebHost);return"https://".concat(s,"/wizard/?callback_url=").concat(encodeURIComponent(t.href),"&forceTheme=").concat(i,"&lang=").concat(n)};var p=n(22273),u=n.n(p),x=n(86939),h=n(12404);let g=e=>{let{active:t,coverUri:n}=e,s=t?"liked":"like",a=n?(0,i.jsx)(x.Image,{src:n,size:100,fit:"contain",withAvatarReplace:!0}):(0,i.jsx)(r.J,{size:"m",variant:s,className:(0,o.W)(u().honeycombCellIcon,{[u().honeycombCellIcon_active]:t})});return(0,i.jsx)(h.Paper,{radius:"round",className:(0,o.W)([u().honeycombCell,{[u().honeycombCell_active]:t}]),children:a})},v=e=>{let{position:t,coverUri:n}=e;return(0,i.jsxs)("div",{className:(0,o.W)(u().honeycombLine,u()["honeycomb_".concat(t)]),children:[(0,i.jsx)(g,{}),(0,i.jsx)(g,{}),"middle"===t&&(0,i.jsx)(g,{coverUri:n,active:!0}),(0,i.jsx)(g,{}),(0,i.jsx)(g,{})]})},b=(0,s.Pi)(e=>{let{className:t,coverUri:n}=e;return(0,i.jsxs)("div",{className:(0,o.W)(u().honeycomb,t),children:[(0,i.jsx)(v,{position:"top"}),(0,i.jsx)(v,{position:"middle",coverUri:n}),(0,i.jsx)(v,{position:"bottom"})]})}),j=(0,s.Pi)(e=>{let{className:t}=e,{formatMessage:n}=(0,a.Z)(),s=_();return(0,i.jsxs)("div",{className:(0,o.W)(u().root,t),children:[(0,i.jsx)(b,{className:u().honeycomb_margin}),(0,i.jsx)(c.Heading,{variant:"h3",size:"xs",className:u().title,children:n({id:"wizard.title"})}),(0,i.jsx)(c.Caption,{variant:"div",type:"text",size:"l",className:u().description,children:n({id:"wizard.description"})}),(0,i.jsx)(d.rU,{className:u().coverLink,href:s,"aria-label":n({id:"wizard.buttonText"}),target:"_self",children:(0,i.jsx)(l.z,{className:u().button,icon:(0,i.jsx)(r.J,{variant:"link",size:"xxs",className:u().buttonIcon}),color:"secondary",size:"m",iconPosition:"right",radius:"xxxl",children:n({id:"wizard.buttonText"})})})]})})},5293:function(e,t,n){"use strict";n.d(t,{I7:function(){return x},b4:function(){return l},at:function(){return g},zU:function(){return h}});var i=n(9753),o=n(98639),s=n.t(o,2),a=n(67868);let l=e=>{let{children:t,title:n,className:s}=e,{setTitleElement:l,setTitle:r}=(0,o.useContext)(a.pI),c=(0,o.useRef)(null);return(0,o.useEffect)(()=>{(null==c?void 0:c.current)&&l(c),n&&r(n)},[c,n,l,r]),(0,o.useEffect)(()=>()=>{r("")},[r]),(0,i.jsx)("div",{ref:c,className:s,children:t})};var r=n(9544),c={810:e=>{e.exports=s}},d={},m={};(()=>{Object.defineProperty(m,"__esModule",{value:!0}),m.useScroll=void 0;let e=function e(t){var n=d[t];if(void 0!==n)return n.exports;var i=d[t]={exports:{}};return c[t](i,i.exports,e),i.exports}(810);m.useScroll=t=>{(0,e.useEffect)(()=>(window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>{window.removeEventListener("scroll",t)}),[t])}})(),m.__esModule;var _=m.useScroll,p=n(63394);let u=e=>{let{element:t,scrollTop:n,isMobile:i}=e,o=.4*t.clientHeight;return n+(i?56:72)>=t.offsetTop+o},x=(0,r.Pi)(e=>{let{children:t,scrollElement:n,outerTitle:s="",headerElement:l,headerThreshold:r}=e,[c,d]=(0,o.useState)(s),[m,x]=(0,o.useState)(null),[h,g]=(0,o.useState)(!1),[v,b]=(0,o.useState)(!1),{settings:j}=(0,p.oR)(),C=j.layout===p.t8.Mobile;(0,o.useLayoutEffect)(()=>{d(s)},[s]);let f=(0,o.useCallback)(()=>{if(!n)return;let e=null!=r?r:10,t=l?Number(l.offsetTop)-e:e;t<0&&(t=0),b(n.scrollTop>t),(null==m?void 0:m.current)&&g(u({element:null==m?void 0:m.current,scrollTop:n.scrollTop,isMobile:C}))},[n,r,l,m,C]);(0,o.useEffect)(()=>{(null==n?void 0:n.scrollTop)===0&&b(!1)},[null==n?void 0:n.scrollTop]),_(f);let N=(0,o.useMemo)(()=>({title:c,setTitle:d,titleElement:m,scrollElement:n,setTitleElement:x,isScrolledTitle:h,isScrolling:v}),[c,h,m,n,v]);return(0,i.jsx)(a.pI.Provider,{value:N,children:t})});n(66414);let h=()=>{let[e,t]=(0,o.useState)(null),n=(0,o.useCallback)(n=>{e!==n&&t(n)},[e]);return[e,n]},g=(e,t)=>((0,p.uK)().get(p.Xt),[(0,o.useMemo)(()=>{if(void 0!==t){let n=t-17;return{"--average-color-background":e,transform:"translateY(".concat(t>=17?0:n,"px)"),opacity:1}}return{}},[t,!1,e]),(0,o.useMemo)(()=>({"--average-color-background":e}),[e])])},64732:function(e,t,n){"use strict";n.d(t,{SettingsPage:function(){return U}});var i=n(9753),o=n(9544),s=n(74717),a=n(80542),l=n(31014),r=n(23881),c=n(41055),d=n(2570),m=n(98639),_=n(17753),p=n(63394);let u=()=>{let e=(0,p.uK)().get(p.U5),t=(0,p.yy)(e.oldWebHost),{language:n}=(0,p.ZS)();return"https://".concat(t,"/newimport?lang=").concat(n)};var x=n(89352),h=n(67868),g=n(62946),v=n.n(g);let b=(0,o.Pi)(()=>{let{formatMessage:e}=(0,a.Z)(),{location:t,modals:{aboutAppModal:n}}=(0,p.oR)(),o=(0,p.bo)(),s=(0,p.aM)(),{language:r}=(0,p.ZS)();return(0,i.jsxs)(x.u,{className:v().root,headerClassName:v().modalHeader,contentClassName:v().modalContent,title:e({id:"settings.about-app"}),open:n.isOpened,onOpenChange:n.onOpenChange,onClose:n.close,size:"fitContent",placement:"center",labelClose:e({id:"interface-actions.close"}),children:[(0,i.jsxs)("ul",{className:v().list,children:[(0,i.jsx)("li",{className:v().item,children:(0,i.jsx)(h.rU,{className:v().link,target:"_blank",href:"https://yandex.".concat(t.tld,"/support/music/performers-and-copyright-holders.html?lang=").concat(r),children:(0,i.jsx)(d.Caption,{type:"controls",variant:"span",size:"l",weight:"medium",children:(0,i.jsx)(l.Z,{id:"footer.links-copyright-holders"})})})}),(0,i.jsx)("li",{className:v().item,children:(0,i.jsx)(h.rU,{className:v().link,target:"_blank",href:"https://yandex.".concat(t.tld,"/legal/music_mobile_agreement?lang=").concat(r),children:(0,i.jsx)(d.Caption,{type:"controls",variant:"span",size:"l",weight:"medium",children:(0,i.jsx)(l.Z,{id:"footer.links-terms"})})})}),(0,i.jsx)("li",{className:v().item,children:(0,i.jsx)(h.rU,{className:v().link,target:"_blank",href:"https://music.yandex.".concat(t.tld,"/legal/recommendations/ru/#music?lang=").concat(r),children:(0,i.jsx)(d.Caption,{type:"controls",variant:"span",size:"l",weight:"medium",children:(0,i.jsx)(l.Z,{id:"footer.links-recommendation-rules"})})})}),(0,i.jsx)("li",{className:v().item,children:(0,i.jsx)(h.rU,{className:v().link,target:"_blank",href:"https://yandex.".concat(t.tld,"/support/music/index.html?lang=").concat(r),children:(0,i.jsx)(d.Caption,{type:"controls",variant:"span",size:"l",weight:"medium",children:(0,i.jsx)(l.Z,{id:"footer.links-help"})})})})]}),(0,i.jsx)(d.Caption,{className:v().explicitText,type:"controls",variant:"div",size:"xs",weight:"medium",dangerouslySetInnerHTML:{__html:e({id:"about-app.explicit-content"})}}),(0,i.jsx)(d.Caption,{className:v().companyText,type:"controls",variant:"div",size:"xs",children:(0,i.jsx)(l.Z,{id:"about-app.app-name"})}),(0,i.jsx)(d.Caption,{className:v().versionText,type:"controls",variant:"div",size:"xs",children:e({id:"desktop.app-version-short"},{version:o})}),(0,i.jsx)(d.Caption,{className:v().versionText,type:"controls",variant:"div",size:"xs",children:e({id:"desktop.app-revision"},{revision:s})})]})});var j=n(60836),C=n(39513),f=n(28852),N=n(40114),y=n.n(N);let z=e=>{let{title:t,description:n,onClick:o}=e;return(0,i.jsx)(C.z,{className:(0,j.W)(y().root,y().important),iconContainerClassName:y().iconContainer,icon:(0,i.jsx)(f.J,{className:y().icon,size:"xs",variant:"arrowRight"}),iconPosition:"right",onClick:o,isBlock:!0,withRipple:!1,withHover:!1,variant:"text",size:"xs",children:(0,i.jsxs)("div",{className:y().content,children:[(0,i.jsx)(d.Caption,{className:y().title,variant:"div",size:"l",weight:"bold",lineClamp:1,children:t}),n&&(0,i.jsx)(d.Caption,{variant:"div",type:"text",size:"xs",weight:"medium",className:y().description,children:n})]})})};var k=n(72433),S=n.n(k);let w=e=>{let{link:t,title:n,description:o}=e;return(0,i.jsxs)(h.rU,{className:S().root,containerClassName:S().container,textClassName:S().linkText,icon:(0,i.jsx)(f.J,{className:S().icon,size:"xs",variant:"arrowRight"}),iconPosition:"right",href:t,children:[(0,i.jsx)(d.Caption,{className:S().title,variant:"div",size:"l",weight:"bold",lineClamp:1,children:n}),o&&(0,i.jsx)(d.Caption,{variant:"div",type:"text",size:"xs",weight:"medium",className:S().description,children:o})]})};var I=n(10951),L=n.n(I);let T=(0,o.Pi)(()=>{let{modals:{shortcutsModal:e}}=(0,p.oR)(),{formatMessage:t}=(0,a.Z)(),n=(0,m.useMemo)(()=>{let e=(0,i.jsx)(d.Caption,{className:L().text,variant:"div",type:"text",size:"xs",weight:"normal",children:(0,i.jsx)(l.Z,{id:"shortcuts.or"})});return p.ed.map(t=>{let{shortcutsAction:n,formattedMessage:o}=t,s=p.ft[n].map((e,t)=>(0,i.jsx)("div",{className:L().button,children:(0,i.jsx)(d.Caption,{variant:"div",type:"text",size:"xs",weight:"normal",children:e})},t));return s.length>1&&s.splice(1,0,e),(0,i.jsx)("li",{children:(0,i.jsxs)("div",{className:L().content,children:[(0,i.jsx)(d.Caption,{className:L().text,variant:"div",type:"text",size:"xs",weight:"normal",children:o}),(0,i.jsx)("div",{className:L().buttons,children:s})]})},n)})},[]);return(0,i.jsx)(x.u,{className:L().root,headerClassName:L().modalHeader,contentClassName:L().modalContent,title:t({id:"settings.shortcuts"}),open:e.isOpened,onOpenChange:e.onOpenChange,onClose:e.close,size:"fitContent",placement:"center",labelClose:t({id:"interface-actions.close"}),children:(0,i.jsx)("ul",{className:L().list,children:n})})});var M=n(4343),P=n.n(M);let W=(0,o.Pi)(()=>{let{modals:{shortcutsModal:e,aboutAppModal:t}}=(0,p.oR)(),{formatMessage:n}=(0,a.Z)(),o=(0,_.X)(),s=u(),l=(0,p.bo)(),r=(0,m.useMemo)(()=>n({id:"desktop.app-version-short"},{version:l}),[n,l]);return(0,i.jsxs)("ul",{className:P().root,children:[(0,i.jsx)("li",{className:P().item,children:(0,i.jsx)(w,{title:n({id:"settings.preferences"}),description:n({id:"settings.preferences-description"}),link:o})}),(0,i.jsx)("li",{className:P().item,children:(0,i.jsx)(w,{title:n({id:"settings.import-media"}),description:n({id:"settings.import-media-description"}),link:s})}),(0,i.jsxs)("li",{className:P().item,children:[(0,i.jsx)(z,{title:n({id:"settings.shortcuts"}),onClick:e.open}),(0,i.jsx)(T,{})]}),r&&(0,i.jsxs)("li",{className:P().item,children:[(0,i.jsx)(z,{title:n({id:"settings.about-app"}),description:r,onClick:t.open}),(0,i.jsx)(b,{})]})]})});var A=n(5293),B=n(66995),H=n.n(B);let U=(0,o.Pi)(()=>{let{formatMessage:e}=(0,a.Z)(),{experiments:t}=(0,p.oR)(),[n,o]=(0,A.zU)(),m=(0,p.k6)();return t.checkExperiment(p.pe.WebNextSettingsPage,"on")||(0,s.notFound)(),(0,i.jsxs)(A.I7,{scrollElement:n,outerTitle:e({id:"page.settings"}),children:[(0,i.jsx)(h.h4,{variant:"text",withForwardControl:!1,withBackwardControl:m.canBack,children:(0,i.jsx)(d.Heading,{variant:"h2",weight:"bold",size:"xl",lineClamp:1,children:(0,i.jsx)(l.Z,{id:"page.settings"})})}),(0,i.jsx)(c.t,{ref:o,className:H().root,containerClassName:H().scrollableContainer,...(0,r.BA)(r.Br.settings.SETTINGS_PAGE),children:(0,i.jsxs)("div",{className:H().container,children:[(0,i.jsx)("div",{className:H().content,children:(0,i.jsx)(W,{})}),(0,i.jsx)(h.$_,{className:H().footer})]})})]})})},22273:function(e){e.exports={root:"Wizard_root__tdJUC",honeycomb:"Wizard_honeycomb__V5R2T",honeycomb_top:"Wizard_honeycomb_top__GrCzL",honeycomb_bottom:"Wizard_honeycomb_bottom___68Sv",honeycomb_margin:"Wizard_honeycomb_margin__WBS_f",title:"Wizard_title__nmtSz",description:"Wizard_description__MffSk",button:"Wizard_button__dFQio",buttonIcon:"Wizard_buttonIcon__M2FxQ",honeycombLine:"Wizard_honeycombLine__LANJL",honeycombCell:"Wizard_honeycombCell__noC5n",honeycombCell_active:"Wizard_honeycombCell_active__fm4i0",honeycombCellIcon:"Wizard_honeycombCellIcon__oegQy",honeycombCellIcon_active:"Wizard_honeycombCellIcon_active__Cbka4"}},66995:function(e){e.exports={root:"SettingsPage_root__BB4lC",scrollableContainer:"SettingsPage_scrollableContainer__qD32i",container:"SettingsPage_container__bIwea",content:"SettingsPage_content__cR6Ra",footer:"SettingsPage_footer__QIqyx"}},62946:function(e){e.exports={root:"AboutAppModal_root__yBvgU",modalHeader:"AboutAppModal_modalHeader__q1NPj",modalContent:"AboutAppModal_modalContent__SHO_X",list:"AboutAppModal_list__HfB82",link:"AboutAppModal_link__i3P3P",explicitText:"AboutAppModal_explicitText__29HUD",companyText:"AboutAppModal_companyText__yroW0",versionText:"AboutAppModal_versionText__iFb8L"}},4343:function(e){e.exports={root:"Settings_root__FVVrn",item:"Settings_item__Ksa9h"}},40114:function(e){e.exports={icon:"SettingsListButtonItem_icon__WULZ1",root:"SettingsListButtonItem_root__3dtV2",important:"SettingsListButtonItem_important__AcEon",iconContainer:"SettingsListButtonItem_iconContainer__KECtv",content:"SettingsListButtonItem_content___Opuo",title:"SettingsListButtonItem_title__npCza",description:"SettingsListButtonItem_description__g8_Ba"}},72433:function(e){e.exports={icon:"SettingsListLinkItem_icon__p4P_V",root:"SettingsListLinkItem_root__rTPC9",container:"SettingsListLinkItem_container__k7bhS",linkText:"SettingsListLinkItem_linkText__0PHlQ",title:"SettingsListLinkItem_title__duJnL",description:"SettingsListLinkItem_description__xWeAD"}},10951:function(e){e.exports={root:"ShortcutsModal_root__ro7m4",modalHeader:"ShortcutsModal_modalHeader__IYJ9m",modalContent:"ShortcutsModal_modalContent__SCpYX",list:"ShortcutsModal_list__eS4ox",text:"ShortcutsModal_text__5JJ0j",content:"ShortcutsModal_content__Li9Ip",buttons:"ShortcutsModal_buttons__o_xlC",button:"ShortcutsModal_button__cTIee"}}},function(e){e.O(0,[8609,481,3580,2498,7873,2138,3621,3394,7868,1055,9352,2171,361,1744],function(){return e(e.s=10656)}),_N_E=e.O()}]);