(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4466,154],{9530:function(e,t,a){"use strict";a.d(t,{UrlInitializer:function(){return n}});var i=a(9544),l=a(74717),s=a(38527);let n=(0,i.Pi)(e=>{let{host:t}=e,{location:a}=(0,s.oR4)(),i=(0,l.usePathname)(),n=(0,l.useSearchParams)().toString(),r=window.location.host,o=t||r,u="https://".concat(o),d="https://".concat(o).concat(i).concat(n?"?":"").concat(n);u=o,d="".concat(o).concat(i).concat(n?"?":"").concat(n),a.setPathname(i),a.setSearchParams(n),a.setHost(o),a.setTld((0,s.p$)(o)||"ru"),a.setOrigin(u),a.setHref(d)})},99340:function(e,t,a){"use strict";a.d(t,{ContainerProvider:function(){return o}});var i=a(9753),l=a(98639),s=a(38527);let n=async e=>{let{hostTld:t,forwardedForY:a,changeLanguageToken:i,tracestate:l,traceparent:n,serverDetectedLocale:r,env:o}=e,u=await (0,s.ZO0)({tld:t,forwardedForY:a,changeLanguageToken:i,tracestate:l,traceparent:n,serverDetectedLocale:r,env:o});return await u.get(s.SLO).loadDictionary(),u},r=e=>{let{children:t,containerLoader:a}=e,n=(0,l.use)(a);return(0,i.jsx)(s.Xld.Provider,{value:n,children:t})},o=e=>{let{children:t,hostTld:a,env:l,forwardedForY:s,tracestate:o,traceparent:u,changeLanguageToken:d,serverDetectedLocale:c}=e,g=n({hostTld:a,forwardedForY:s,changeLanguageToken:d,tracestate:o,traceparent:u,serverDetectedLocale:c,env:l});return(0,i.jsx)(r,{containerLoader:g,children:t})}},68116:function(e,t,a){"use strict";a.d(t,{StoreProvider:function(){return eO}});var i=a(9753),l=a(9544),s=a(42288),n=a(74717),r=a(98639);a(45919);var o=a(40350),u=a(38527),d=a(76894),c=a(87181),g=a(15419);let m={experiments:{loadingState:u.Gui.IDLE,experiments:{}},user:{account:{loadingState:u.Gui.IDLE},settings:{loadingState:u.Gui.IDLE,showWizard:!0}},wizard:{loadingState:u.Gui.IDLE,modal:{},savedLikedArtists:[],likedArtists:[],unlikedArtists:[]},collection:{albums:{loadingState:u.Gui.IDLE,upcomingAlbumsLoadingState:u.Gui.IDLE,items:[]},playlistsCreated:{loadingState:u.Gui.IDLE,items:[]},playlistsLiked:{loadingState:u.Gui.IDLE,items:[]},artists:{loadingState:u.Gui.IDLE,items:[]},landing:{loadingState:u.Gui.IDLE,tabs:{loadingState:u.Gui.IDLE,data:[]}},shelf:{recentlyPlayed:{loadingState:u.Gui.IDLE},liked:{loadingState:u.Gui.IDLE}},nonMusicLiked:{loadingState:u.Gui.IDLE,items:[]},dislikes:{artists:{loadingState:u.Gui.IDLE},tracks:{loadingState:u.Gui.IDLE}}},main:{landing:{loadingState:u.Gui.IDLE,tabs:{loadingState:u.Gui.IDLE,data:[]}}},nonMusic:{landing:{loadingState:u.Gui.IDLE,tabs:{loadingState:u.Gui.IDLE,data:[]}}},settings:{layout:null},currentTrackInfo:{trackLoadingState:u.Gui.IDLE,creditsLoadingState:u.Gui.IDLE,descriptionLoadingState:u.Gui.IDLE,id:null,albumId:null,isUGC:null,fullTrack:null,credits:null,modal:{}},trackLyrics:{loadingState:u.Gui.IDLE,lyrics:null,lyricId:null,externalLyricId:null,track:null,modal:{}},album:{loadingState:u.Gui.IDLE,items:[],meta:null,otherAlbumVersions:[],donations:{loadingState:u.Gui.IDLE,items:[]},latestGenreAlbums:{loadingState:u.Gui.IDLE,items:[]},otherArtistAlbums:{loadingState:u.Gui.IDLE,items:[]},relatedContent:{loadingState:u.Gui.IDLE,items:[]}},artist:{loadingState:u.Gui.IDLE,meta:null,popularTracks:[],similarArtists:[],albums:[],discography:[],compilations:[],playlists:[],fullTracksListSubpage:{loadingState:u.Gui.IDLE},albumsSubpage:{loadingState:u.Gui.IDLE},concertsSubpage:{loadingState:u.Gui.IDLE},similarArtistsSubPage:{loadingState:u.Gui.IDLE},familiarInfo:{loadingState:u.Gui.IDLE},familiarSubpage:{loadingState:u.Gui.IDLE}},library:{loadingState:u.Gui.IDLE,tracks:{},artists:{},playlists:{},albums:{}},sonataState:{contextId:null,contextType:null,entityMeta:null,status:g.Xz.IDLE,canMoveBackward:!1,canMoveForward:!1,canSpeed:!1,canChangeRepeatMode:!0,repeatMode:c.zq.NONE,quality:d.nJ.HQ,canShuffle:!0,shuffle:!1},playlist:{loadingState:u.Gui.IDLE,searchLoadingState:u.Gui.IDLE,meta:null,items:[],searchItems:{},similarPlaylists:[]},slides:{userSlidesLoadingState:u.Gui.IDLE,artistSlidesLoadingState:u.Gui.IDLE,userItems:[],artistItems:[]},vibe:{getLastLoadingState:u.Gui.IDLE,vibeResetLoadingState:u.Gui.IDLE,isLoading:!1},search:{searchCorrectedText:null,loadingState:u.Gui.IDLE,results:[],history:{loadingState:u.Gui.IDLE,items:[]},mixes:{loadingState:u.Gui.IDLE,items:[]}},vibeSettings:{loadingState:u.Gui.IDLE},pinsCollection:{loadingState:u.Gui.IDLE,index:{}},genre:{loadingState:u.Gui.IDLE,albumsSubpage:{loadingState:u.Gui.IDLE},artistsSubpage:{loadingState:u.Gui.IDLE},playlistsSubpage:{loadingState:u.Gui.IDLE}},genres:{title:null,loadingState:u.Gui.IDLE,items:[]},mixes:{loadingState:u.Gui.IDLE,items:[]},tag:{tagLoadingState:u.Gui.IDLE,playlistsLoadingState:u.Gui.IDLE,playlistsData:[],playlists:[]},chart:{title:null,playlistMeta:null,loadingState:u.Gui.IDLE,items:[]},post:{loadingState:u.Gui.IDLE},landingBlockEntities:{loadingState:u.Gui.IDLE},contextMenuPlaylists:{loadingState:u.Gui.IDLE,items:[]},musicHistory:{loadingState:u.Gui.IDLE,tabs:null},createPlaylist:{},location:{},disclaimer:{loadingState:u.Gui.IDLE},trailer:{loadingState:u.Gui.IDLE,withAnimation:!0,shouldAutoStartPlaying:!0,modal:{},sonataStatusBeforeTrailerStart:g.Xz.IDLE,isManuallyPaused:!0,state:{contextId:null,contextType:null,entityMeta:null,status:g.Xz.IDLE}},communication:{loadingState:u.Gui.IDLE},modals:{disclaimerModal:{},releaseNotesModal:{},shortcutsModal:{},aboutAppModal:{},overviewModal:{},paywallModal:{}},landing:{loadingState:u.Gui.IDLE,tabs:{loadingState:u.Gui.IDLE,data:[]}},fullscreenPlayer:{modal:{},syncLyrics:{loadingState:u.Gui.IDLE}},equalizer:{modal:{},presets:{}}};var S=a(78601),E=a(96290),p=a(93438),h=a(84799),y=a(93490),G=a(395);let N=s.V5.model("CollectionAlbumsPage",{loadingState:s.V5.enumeration(Object.values(u.Gui)),sort:s.V5.maybeNull(G.$4),items:s.V5.array(s.V5.maybeNull(y.ug)),pager:s.V5.maybeNull(G.Vn),alreadyRequestedPages:s.V5.map(s.V5.number),pendingPages:s.V5.map(s.V5.number),requestsCount:s.V5.maybeNull(s.V5.number),upcomingAlbumsLoadingState:s.V5.enumeration(Object.values(u.Gui)),upcomingAlbums:s.V5.maybeNull(s.V5.array(y.W9))}).views(e=>({get isAlbumsLoading(){return e.loadingState===u.Gui.IDLE||e.loadingState===u.Gui.PENDING&&0===e.items.length},get isLoading(){return this.isAlbumsLoading||e.upcomingAlbumsLoadingState===u.Gui.IDLE||e.upcomingAlbumsLoadingState===u.Gui.PENDING},get isUpcomingAlbumsLoading(){return e.upcomingAlbumsLoadingState===u.Gui.IDLE||e.upcomingAlbumsLoadingState===u.Gui.PENDING},get isUpcomingAlbumsEmpty(){var t;return!this.isUpcomingAlbumsLoading&&(!e.upcomingAlbums||(null===(t=e.upcomingAlbums)||void 0===t?void 0:t.length)===0)},get isAlbumsEmpty(){var a;return!this.isAlbumsLoading&&(!e.items||(null===(a=e.items)||void 0===a?void 0:a.length)===0)}})).actions(e=>({getData:(0,s.ls)(function*(t){let{userId:a,page:i=0,pageSize:l=20,sortBy:n,sortOrder:r,metaType:o}=t,{usersResource:d,modelActionsLogger:c}=(0,s.dU)(e);if(!(e.loadingState===u.Gui.PENDING&&e.pendingPages.has("".concat(i))||e.alreadyRequestedPages.has("".concat(i)))){"number"==typeof i&&e.alreadyRequestedPages.set("".concat(i),i),e.sort=null,n&&r&&(e.sort={sortBy:n,sortOrder:r});try{var g,m,S;e.loadingState=u.Gui.PENDING,e.pendingPages.set("".concat(i),i);let t=yield d.getLikedAlbums({userId:a,page:i,pageSize:l,sortBy:n,sortOrder:r,metaType:o}),c={page:i,perPage:l,total:t.pager.total};0===e.items.length&&(e.items=(0,s.pj)(Array.from({length:c.total},()=>null)));let E=null!==(m=null===(g=t.albums)||void 0===g?void 0:g.map(e=>{let{album:t}=e;return(0,y.ym)(t)}))&&void 0!==m?m:[];(0,u.AG_)({items:e.items,mappedRawItems:E,page:i,pageSize:l}),e.pager=c,e.requestsCount=(null!==(S=e.requestsCount)&&void 0!==S?S:0)+1,e.loadingState!==u.Gui.IDLE&&(e.loadingState=u.Gui.RESOLVE)}catch(t){c.error(t),e.loadingState=u.Gui.REJECT}finally{e.pendingPages.delete("".concat(i))}}}),getPresaves:(0,s.ls)(function*(t){let{userId:a}=t,{usersResource:i,modelActionsLogger:l}=(0,s.dU)(e);if(e.upcomingAlbumsLoadingState!==u.Gui.PENDING)try{var n;e.upcomingAlbumsLoadingState=u.Gui.PENDING;let t=yield i.getPresaves({userId:a,includeReleased:!1,includeUpcoming:!0});e.upcomingAlbums=(0,s.pj)(null===(n=t.upcomingAlbums)||void 0===n?void 0:n.map(y.wq)),e.upcomingAlbumsLoadingState!==u.Gui.IDLE&&(e.upcomingAlbumsLoadingState=u.Gui.RESOLVE)}catch(t){l.error(t),e.upcomingAlbumsLoadingState!==u.Gui.IDLE&&(e.upcomingAlbumsLoadingState=u.Gui.REJECT)}}),reset(){e.loadingState=u.Gui.IDLE,e.sort=null,e.items=(0,s.pj)([]),e.pendingPages.clear(),e.pager=null,e.alreadyRequestedPages.clear(),e.upcomingAlbumsLoadingState=u.Gui.IDLE,e.upcomingAlbums=null}}));var v=a(33589);let b=s.V5.model("CollectionArtistsPage",{loadingState:s.V5.enumeration(Object.values(u.Gui)),sort:s.V5.maybeNull(G.$4),items:s.V5.array(s.V5.maybeNull(v.Go)),pager:s.V5.maybeNull(G.Vn),alreadyRequestedPages:s.V5.map(s.V5.number),pendingPages:s.V5.map(s.V5.number),requests:s.V5.maybeNull(s.V5.number)}).actions(e=>({getData:(0,s.ls)(function*(t){let{userId:a,page:i=0,pageSize:l=20,sortBy:n,sortOrder:r}=t,{usersResource:o,modelActionsLogger:d}=(0,s.dU)(e);if(!(e.loadingState===u.Gui.PENDING&&e.pendingPages.has("".concat(i))||e.alreadyRequestedPages.has("".concat(i)))){"number"==typeof i&&e.alreadyRequestedPages.set("".concat(i),i),e.sort=null,n&&r&&(e.sort={sortBy:n,sortOrder:r});try{var c,g,m;e.loadingState=u.Gui.PENDING,e.pendingPages.set("".concat(i),i);let t=yield o.getLikedArtists({userId:a,page:i,pageSize:l,sortBy:n,sortOrder:r}),d={page:i,perPage:l,total:t.pager.total};0===e.items.length&&(e.items=(0,s.pj)(Array.from({length:d.total},()=>null))),e.loadingState=u.Gui.RESOLVE;let S=null!==(g=null===(c=t.artists)||void 0===c?void 0:c.map(v.d))&&void 0!==g?g:[];(0,u.AG_)({items:e.items,mappedRawItems:S,page:i,pageSize:l}),e.pager=d,e.requests=(null!==(m=e.requests)&&void 0!==m?m:0)+1,e.loadingState!==u.Gui.IDLE&&(e.loadingState=u.Gui.RESOLVE)}catch(t){d.error(t),e.loadingState=u.Gui.REJECT}finally{e.pendingPages.delete("".concat(i))}}}),reset(){e.loadingState=u.Gui.IDLE,e.sort=null,e.pendingPages.clear(),e.pager=null,e.alreadyRequestedPages.clear(),e.items=(0,s.pj)([])}})),C=s.V5.model("CollectionNonMusicPage",{loadingState:s.V5.enumeration(Object.values(u.Gui)),items:s.V5.array(s.V5.maybeNull(y.ug)),pager:s.V5.maybeNull(G.Vn),alreadyRequestedPages:s.V5.map(s.V5.number),pendingPages:s.V5.map(s.V5.number),requestsCount:s.V5.maybeNull(s.V5.number)}).views(e=>({get isAlbumsLoading(){return e.loadingState===u.Gui.IDLE||e.loadingState===u.Gui.PENDING&&0===e.items.length},get isLoading(){return this.isAlbumsLoading},get isRejected(){return e.loadingState===u.Gui.REJECT},get isResolved(){return e.loadingState===u.Gui.RESOLVE},get isEmptyItems(){var t;return!!(!(null===(t=e.items)||void 0===t?void 0:t.length)&&e.requestsCount)}})).actions(e=>({getData:(0,s.ls)(function*(t){let{userId:a,page:i=0,pageSize:l=20,metaType:n}=t,{usersResource:r,modelActionsLogger:o}=(0,s.dU)(e);if(!(e.loadingState===u.Gui.PENDING&&e.pendingPages.has("".concat(i))||e.alreadyRequestedPages.has("".concat(i)))){"number"==typeof i&&e.alreadyRequestedPages.set("".concat(i),i);try{var d,c,g;e.loadingState=u.Gui.PENDING,e.pendingPages.set("".concat(i),i);let t=yield r.getLikedAlbums({userId:a,page:i,pageSize:l,metaType:n}),o={page:i,perPage:l,total:t.pager.total};0===e.items.length&&(e.items=(0,s.pj)(Array.from({length:o.total},()=>null)));let m=null!==(c=null===(d=t.albums)||void 0===d?void 0:d.map(e=>{let{album:t}=e;return(0,y.ym)(t)}))&&void 0!==c?c:[];(0,u.AG_)({items:e.items,mappedRawItems:m,page:i,pageSize:l}),e.pager=o,e.requestsCount=(null!==(g=e.requestsCount)&&void 0!==g?g:0)+1,e.loadingState!==u.Gui.IDLE&&(e.loadingState=u.Gui.RESOLVE)}catch(t){o.error(t),e.loadingState=u.Gui.REJECT}finally{e.pendingPages.delete("".concat(i))}}}),reset(){e.loadingState=u.Gui.IDLE,e.items=(0,s.pj)([]),e.pendingPages.clear(),e.pager=null,e.alreadyRequestedPages.clear(),e.requestsCount=0}}));var L=a(73276),P=a(10668);let _=s.V5.model("CollectionPlaylistsCreatedPage",{loadingState:s.V5.enumeration(Object.values(u.Gui)),sort:s.V5.maybeNull(G.$4),items:s.V5.array(s.V5.maybeNull(P.$h)),pager:s.V5.maybeNull(G.Vn),alreadyRequestedPages:s.V5.map(s.V5.number),pendingPages:s.V5.map(s.V5.number),kinds:s.V5.array(s.V5.number),requests:s.V5.maybeNull(s.V5.number)}).views(e=>({get isLoading(){return e.loadingState===u.Gui.IDLE||e.loadingState===u.Gui.PENDING},get isLoaded(){return e.loadingState===u.Gui.RESOLVE},get isEmpty(){return this.isLoaded&&(!e.pager||0===e.pager.total)}})).actions(e=>{let t={getKinds:(0,s.ls)(function*(t){let a=[],{usersResource:i}=(0,s.dU)(e);a=yield i.getPlaylistsKinds({userId:t,addPlaylistWithLikes:!0}),e.kinds=(0,s.pj)(a)}),getData:(0,s.ls)(function*(a){let{userId:i,page:l=0,pageSize:n=20,withLikesCount:r}=a,{usersResource:o,modelActionsLogger:d}=(0,s.dU)(e);if(!(e.loadingState===u.Gui.PENDING&&e.pendingPages.has("".concat(l))||e.alreadyRequestedPages.has("".concat(l)))){"number"==typeof l&&e.alreadyRequestedPages.set("".concat(l),l);try{var c;e.isLoaded||(e.loadingState=u.Gui.PENDING),e.pendingPages.set("".concat(l),l),0===e.kinds.length&&(yield t.getKinds(i));let a=l*n,d=e.kinds.slice(a,a+n),g=yield o.getPlaylistsByKinds({userId:i,kinds:d,withLikesCount:r,withTracks:!0});e.requests=(null!==(c=e.requests)&&void 0!==c?c:0)+1;let m={page:l,perPage:n,total:e.kinds.length};0===e.items.length&&(e.items=(0,s.pj)(Array.from({length:m.total},()=>null)));let S=g.map(L.PB);(0,u.AG_)({items:e.items,mappedRawItems:S,page:l,pageSize:n}),e.pager=m,e.loadingState=u.Gui.RESOLVE}catch(t){d.error(t),e.loadingState=u.Gui.REJECT}finally{e.pendingPages.delete("".concat(l))}}}),reset(){e.loadingState=u.Gui.IDLE,e.sort=null,e.items=(0,s.pj)([]),e.pager=null,e.alreadyRequestedPages.clear(),e.pendingPages.clear(),e.kinds=(0,s.pj)([]),e.requests=null}};return t}),I=s.V5.model("CollectionPlaylistsLikedPage",{loadingState:s.V5.enumeration(Object.values(u.Gui)),sort:s.V5.maybeNull(G.$4),items:s.V5.array(s.V5.maybeNull(P.Cd)),pager:s.V5.maybeNull(G.Vn),alreadyRequestedPages:s.V5.map(s.V5.number),pendingPages:s.V5.map(s.V5.number),requests:s.V5.maybeNull(s.V5.number)}).views(e=>({get isLoading(){return e.loadingState===u.Gui.IDLE||e.loadingState===u.Gui.PENDING},get isLoaded(){return e.loadingState===u.Gui.RESOLVE},get isEmpty(){return this.isLoaded&&(!e.pager||0===e.pager.total)}})).actions(e=>({getData:(0,s.ls)(function*(t){let{userId:a,page:i=0,pageSize:l=20,sortBy:n,sortOrder:r,metaType:o,withTracks:d}=t;if(e.loadingState===u.Gui.PENDING&&e.pendingPages.has("".concat(i))||e.alreadyRequestedPages.has("".concat(i)))return;"number"==typeof i&&e.alreadyRequestedPages.set("".concat(i),i);let{usersResource:c,modelActionsLogger:g}=(0,s.dU)(e);e.sort=null,n&&r&&(e.sort={sortBy:n,sortOrder:r});try{var m;e.loadingState=u.Gui.PENDING,e.pendingPages.set("".concat(i),i);let{likedPlaylists:t,pager:g}=yield c.getLikedPlaylists({userId:a,page:i,pageSize:l,sortBy:n,sortOrder:r,metaType:o,withTracks:d});e.requests=(null!==(m=e.requests)&&void 0!==m?m:0)+1,0===e.items.length&&(e.items=(0,s.pj)(Array.from({length:g.total},()=>null)));let S=t.map(e=>{let{playlist:t}=e;return(0,P.PV)(t)});(0,u.AG_)({items:e.items,mappedRawItems:S,page:i,pageSize:l}),e.pager=g,e.loadingState=u.Gui.RESOLVE}catch(t){g.error(t),"number"==typeof i&&e.alreadyRequestedPages.delete("".concat(i)),e.requests="number"==typeof e.requests?e.requests-1:0,e.loadingState=u.Gui.REJECT}finally{e.pendingPages.delete("".concat(i))}}),reset(){e.loadingState=u.Gui.IDLE,e.sort=null,e.items=(0,s.pj)([]),e.pager=null,e.alreadyRequestedPages.clear(),e.pendingPages.clear(),e.requests=null}}));var f=a(10542),V=a(44023);let D=e=>(0,s.pj)({type:e.type,track:(0,V.Vt)(e.track)}),T=e=>(0,s.pj)({type:e.type,album:e.album&&(0,y.ym)(e.album),playlist:e.playlist&&(0,L.Q9)(e.playlist),track:(0,V.Vt)(e.track)}),R=s.V5.model("ShelfLikedItem",{type:s.V5.string,track:V.le}),x=s.V5.model("ShelfRecentlyPlayedItem",{type:s.V5.string,album:s.V5.maybe(y.ug),playlist:s.V5.maybe(L.d2),track:V.le}),A=s.V5.model("CollectionShelfLiked",{loadingState:s.V5.enumeration(Object.values(u.Gui)),title:s.V5.maybeNull(s.V5.string),typeForFrom:s.V5.maybeNull(s.V5.string),entities:s.V5.maybeNull(s.V5.array(R)),pager:s.V5.maybeNull(G.Vn)}).views(e=>({get isLoading(){return e.loadingState===u.Gui.IDLE||e.loadingState===u.Gui.PENDING},get isRejected(){return e.loadingState===u.Gui.REJECT},get isResolved(){return e.loadingState===u.Gui.RESOLVE},get isEmpty(){var t;return this.isResolved&&(null===(t=e.entities)||void 0===t?void 0:t.length)===0}})).actions(e=>({getData:(0,s.ls)(function*(){let{nonMusicResource:t,logger:a}=(0,s.dU)(e);if(e.loadingState!==u.Gui.PENDING)try{var i,l;e.loadingState=u.Gui.PENDING;let a=yield t.getShelfLiked();e.title=a.title,e.typeForFrom=null!==(i=a.typeForFrom)&&void 0!==i?i:null,e.pager=null!==(l=a.pager)&&void 0!==l?l:null,e.entities=(0,s.pj)(a.entities?a.entities.map(D):[]),e.loadingState=u.Gui.RESOLVE}catch(t){!(t instanceof f.eY)&&(t instanceof Error||"string"==typeof t)&&a.error(t),e.loadingState=u.Gui.REJECT}}),reset(){e.entities=null,e.title=null,e.typeForFrom=null,e.pager=null,e.loadingState=u.Gui.IDLE}})),k=s.V5.model("CollectionShelfRecentlyPlayed",{loadingState:s.V5.enumeration(Object.values(u.Gui)),title:s.V5.maybeNull(s.V5.string),typeForFrom:s.V5.maybeNull(s.V5.string),entities:s.V5.maybeNull(s.V5.array(x)),pager:s.V5.maybeNull(G.Vn)}).views(e=>({get isLoading(){return e.loadingState===u.Gui.IDLE||e.loadingState===u.Gui.PENDING},get isRejected(){return e.loadingState===u.Gui.REJECT},get isResolved(){return e.loadingState===u.Gui.RESOLVE},get isEmpty(){return!!(this.isResolved&&e.entities&&0===e.entities.length)}})).actions(e=>({getData:(0,s.ls)(function*(){let{nonMusicResource:t,logger:a}=(0,s.dU)(e);if(e.loadingState!==u.Gui.PENDING)try{var i,l;e.loadingState=u.Gui.PENDING;let a=yield t.getShelfRecentlyPlayed();e.title=a.title,e.typeForFrom=null!==(i=a.typeForFrom)&&void 0!==i?i:null,e.pager=null!==(l=a.pager)&&void 0!==l?l:null,e.entities=(0,s.pj)(a.entities.map(T)),e.loadingState=u.Gui.RESOLVE}catch(t){!(t instanceof f.eY)&&(t instanceof Error||"string"==typeof t)&&a.error(t),e.loadingState=u.Gui.REJECT}}),reset(){e.entities=null,e.title=null,e.typeForFrom=null,e.pager=null,e.loadingState=u.Gui.IDLE}})),j=s.V5.model("CollectionShelfPage",{recentlyPlayed:k,liked:A}).views(e=>({get isLoading(){return e.recentlyPlayed.isLoading&&e.liked.isLoading},get isRejected(){return e.recentlyPlayed.isRejected&&e.liked.isRejected},get isResolved(){return e.recentlyPlayed.isResolved&&e.liked.isResolved},get isIdle(){return e.recentlyPlayed.loadingState===u.Gui.IDLE&&e.liked.loadingState===u.Gui.IDLE},get hasRecentlyPlayed(){var t;return e.recentlyPlayed.isLoading||((null===(t=e.recentlyPlayed.entities)||void 0===t?void 0:t.length)||0)>0},get hasLiked(){var a;return e.liked.isLoading||((null===(a=e.liked.entities)||void 0===a?void 0:a.length)||0)>0}})).actions(e=>({reset(){e.recentlyPlayed.reset(),e.liked.reset()}})),O=s.V5.model("CollectionDislikesPageArtists",{loadingState:s.V5.enumeration(Object.values(u.Gui)),items:s.V5.maybeNull(s.V5.array(v.Go))}).views(e=>({get isIdle(){return e.loadingState===u.Gui.IDLE},get isPending(){return e.loadingState===u.Gui.PENDING},get isResolved(){return e.loadingState===u.Gui.RESOLVE},get isLoading(){return this.isPending||this.isIdle},get isRejected(){return e.loadingState===u.Gui.REJECT},get isEmpty(){var t;return!this.isLoading&&(null===(t=e.items)||void 0===t?void 0:t.length)===0}})).actions(e=>({getData:(0,s.ls)(function*(){let{usersResource:t,modelActionsLogger:a}=(0,s.dU)(e);if(!(0,s.fh)(e))return null;let{user:i}=(0,s.yj)(e);if(e.loadingState===u.Gui.PENDING)return null;if(e.loadingState=u.Gui.PENDING,i.account.uid)try{let a=yield t.getDislikedArtists({userId:i.account.uid});return e.items=(0,s.pj)((a||[]).map(v.d)),e.loadingState!==u.Gui.IDLE&&(e.loadingState=u.Gui.RESOLVE),a}catch(t){a.error(t),e.loadingState!==u.Gui.IDLE&&(e.loadingState=u.Gui.REJECT)}return e.loadingState=u.Gui.REJECT,null}),reset(){e.loadingState=u.Gui.IDLE,e.items=null}}));var w=a(75191);let U=(e,t)=>t.map(t=>{let a=e[t];return String(null==a?void 0:a.id)}),F=(e,t,a)=>{let i=[];for(let n=t;n<=a;n++){var l,s;((null===(l=e[n])||void 0===l?void 0:l.loadingState)===u.Gui.IDLE||(null===(s=e[n])||void 0===s?void 0:s.loadingState)===u.Gui.REJECT)&&i.push(n)}return i},B=s.V5.model("CollectionDislikesPageTracksItem",{id:s.V5.string,loadingState:s.V5.enumeration(Object.values(u.Gui)),data:s.V5.maybeNull(V.le)}),M=s.V5.model("CollectionDislikesPageTracks",{loadingState:s.V5.enumeration(Object.values(u.Gui)),items:s.V5.maybeNull(s.V5.array(B))}).views(e=>({get isIdle(){return e.loadingState===u.Gui.IDLE},get isPending(){return e.loadingState===u.Gui.PENDING},get isResolved(){return e.loadingState===u.Gui.RESOLVE},get isLoading(){return this.isPending||this.isIdle},get isEmpty(){var t;return!this.isLoading&&(null===(t=e.items)||void 0===t?void 0:t.length)===0},get isRejected(){return e.loadingState===u.Gui.REJECT},get sonataEntitiesData(){var a,i;return null!==(i=null===(a=e.items)||void 0===a?void 0:a.map(e=>(0,w.RN)(e.id)))&&void 0!==i?i:[]}})).actions(e=>({getData:(0,s.ls)(function*(){let{modelActionsLogger:t}=(0,s.dU)(e);if(e.loadingState===u.Gui.PENDING)return;if(e.loadingState=u.Gui.PENDING,!(0,s.fh)(e)){e.loadingState=u.Gui.REJECT;return}let{library:a,user:i}=(0,s.yj)(e);try{if(i.isAuthorized&&(yield a.getData(),a.loadingState===u.Gui.RESOLVE)){e.loadingState=u.Gui.RESOLVE;let t=[...a.tracks.keys()].filter(e=>a.isTrackDisliked(e)).map(e=>({id:e,loadingState:u.Gui.IDLE}));e.items=(0,s.pj)(t);return}}catch(a){t.error(a),e.loadingState!==u.Gui.IDLE&&(e.loadingState=u.Gui.REJECT)}e.loadingState=u.Gui.REJECT}),getTracksByRange:(0,s.ls)(function*(t,a){var i;let{tracksResource:l,modelActionsLogger:n}=(0,s.dU)(e);if(!(null===(i=e.items)||void 0===i?void 0:i.length))return null;t=Math.max(0,t),a=Math.min(a,e.items.length);let r=F(e.items,t,a);try{let t=U(e.items,r);if(!t.length)return null;r.forEach(t=>{var a;let i=null===(a=e.items)||void 0===a?void 0:a[t];i&&(i.loadingState=u.Gui.PENDING)});let a=yield l.getTracksMeta({trackIds:t,withProgress:!0});r.forEach((t,i)=>{var l;let s=null==a?void 0:a[i];(null===(l=e.items)||void 0===l?void 0:l[t])&&s&&(e.items[t]={id:String(s.id),data:(0,V.Vt)(s),loadingState:u.Gui.RESOLVE})})}catch(t){n.error(t),r.forEach(t=>{var a;let i=null===(a=e.items)||void 0===a?void 0:a[t];i&&(i.loadingState=u.Gui.REJECT)})}return null}),reset(){e.loadingState=u.Gui.IDLE,e.items=null}})),q=s.V5.model("CollectionDislikesPage",{artists:O,tracks:M}).views(e=>({get isIdle(){return e.tracks.isIdle&&e.artists.isIdle},get isLoading(){return e.tracks.isLoading&&e.artists.isLoading},get isResolved(){return e.tracks.isResolved&&e.artists.isResolved}})).actions(e=>({reset(){e.artists.reset(),e.tracks.reset()}})),J=s.V5.model("CollectionPage",{landing:h.d5,albums:N,playlistsLiked:I,playlistsCreated:_,artists:b,shelf:j,nonMusicLiked:C,dislikes:q});a(27539),a(54267),a(25906),a(47139),a(74680),a(35141),a(55742),a(70640),a(69069),a(20297),a(50971),a(36832),a(34590);var z=a(95946),W=a(72636);a(58101);let H=s.V5.model("MainPage",{landing:h.d5});a(38525);var Q=a(95695),Z=a(61134),Y=a(40029);let K=e=>e.reduce((e,t)=>{let a="".concat(t.type,"_").concat(t.id);if(a in e){var i;null===(i=e[a])||void 0===i||i.push(t)}else e[a]=[t];return e},{}),X=e=>{switch(e.type){case Q.EW.ALBUM:return"".concat(e.type,"_").concat((0,Z.un)(e));case Q.EW.TRACK:return"".concat(e.type,"_").concat((0,Z.LV)(e));case Q.EW.WAVE:return"".concat(e.type,"_").concat((0,Z.R3)(e));case Q.EW.PLAYLIST:return"".concat(e.type,"_").concat((0,Z.aQ)(e));case Q.EW.ARTIST:return"".concat(e.type,"_").concat((0,Z.H5)(e))}},$=e=>{let t={historyTabs:[]},a=0;for(let s of e.historyTabs){var i,l;if(a>1e3)break;let e={...s,items:[]};for(let t of null!==(i=s.items)&&void 0!==i?i:[]){if(a>1e3)break;let i={...t,tracks:[]};for(let e of t.tracks){if(a>1e3)break;i.tracks.push(e),++a}null===(l=e.items)||void 0===l||l.push(i)}e.items&&e.items.length>0&&t.historyTabs.push(e)}return t},ee=e=>e.map(e=>{switch(e.type){case Q.EW.ARTIST:case Q.EW.ALBUM:return{type:e.type,data:{itemId:{id:e.id}}};case Q.EW.PLAYLIST:{let[t,a]=e.id.split(":");return{type:e.type,data:{itemId:{uid:Number(t),kind:Number(a)}}}}case Q.EW.WAVE:return{type:e.type,data:{itemId:{seeds:e.id.split(",")}}};case Q.EW.TRACK:{let[t,a]=e.id.split(":");return{type:e.type,data:{itemId:{trackId:String(t),albumId:a}}}}default:return null}}).filter(e=>e),et=s.V5.model("MusicHistoryPage",{loadingState:s.V5.enumeration(Object.values(u.Gui)),indexesMap:s.V5.map(s.V5.number),items:s.V5.maybeNull(s.V5.array(Z.Mf)),datesMap:s.V5.map(s.V5.boolean),tabs:s.V5.maybeNull(s.V5.array(Z.t9))}).views(e=>({get isNeededToLoad(){return e.loadingState===u.Gui.IDLE},get isLoading(){return e.loadingState===u.Gui.PENDING},get isLoaded(){return e.loadingState===u.Gui.RESOLVE},get isRejected(){return e.loadingState===u.Gui.REJECT},get isEmpty(){var t;return(this.isLoaded||this.isRejected)&&(null===(t=e.tabs)||void 0===t?void 0:t.length)===0},get isShimmerVisible(){return this.isNeededToLoad||this.isLoading||this.isRejected},get isShimmerActive(){return this.isLoading},getStartAndEndIndexes(t){var a,i;let l=t,s=t+1;return(null===(a=e.items)||void 0===a?void 0:a.slice(t-25+1,t).some(e=>!e.isLoaded))&&(l=t-25+1),(null===(i=e.items)||void 0===i?void 0:i.slice(t,t+25).some(e=>!e.isLoaded))&&(s=t+25),[l,s]},getItemsToLoad(t){var a,i;let[l,s]=this.getStartAndEndIndexes(t);return null!==(i=null===(a=e.items)||void 0===a?void 0:a.slice(l,s).filter(e=>!e.isLoaded))&&void 0!==i?i:[]},isInObservationRange(t){var a;return 0!==t&&t%25==0||e.items&&t===(null===(a=e.items)||void 0===a?void 0:a.length)-1},get dates(){var a,i;return null!==(i=null===(a=e.tabs)||void 0===a?void 0:a.map(e=>e.date))&&void 0!==i?i:[]}})).actions(e=>{let t={fillItemsAndIndexes(){var t;let a=0;e.items=(0,s.pj)([]),null===(t=e.tabs)||void 0===t||t.forEach((t,i)=>{var l;e.datesMap.set(t.date,!1),null===(l=t.blocks)||void 0===l||l.forEach((t,l)=>{var s;let n=t.id;e.indexesMap.set("".concat(i,"_").concat(l,"_").concat(n),a),null===(s=e.items)||void 0===s||s.push({id:n,type:t.type,tabIndex:i,blockIndex:l,trackIndex:null,loadingState:a<25?u.Gui.RESOLVE:u.Gui.IDLE}),++a,t.tracks.forEach((t,s)=>{var n;e.indexesMap.set("".concat(i,"_").concat(l,"_").concat(s,"_").concat(t.id),a),null===(n=e.items)||void 0===n||n.push({id:t.id,type:t.type,tabIndex:i,blockIndex:l,trackIndex:s,loadingState:a<25?u.Gui.RESOLVE:u.Gui.IDLE}),++a})})})},setTrack(t,a){var i,l,s,n;let{tabIndex:r,blockIndex:o,trackIndex:d}=t,{fullModel:c}=a.data;if(null===d)return;let g=null===(n=e.tabs)||void 0===n?void 0:null===(s=n[r])||void 0===s?void 0:null===(l=s.blocks)||void 0===l?void 0:null===(i=l[o])||void 0===i?void 0:i.tracks[d];g&&(g.data=(0,V.Vt)(c),g.loadingState=u.Gui.RESOLVE)},setAlbum(t,a){var i,l,s;let{tabIndex:n,blockIndex:r}=t,{fullModel:o}=a.data,d=null===(s=e.tabs)||void 0===s?void 0:null===(l=s[n])||void 0===l?void 0:null===(i=l.blocks)||void 0===i?void 0:i[r];(0,Z.Ql)(d)&&(d.meta=(0,y.cO)({album:o.album,artists:o.artists}),d.loadingState=u.Gui.RESOLVE)},setArtist(t,a){var i,l,s;let{tabIndex:n,blockIndex:r}=t,{fullModel:o}=a.data,d=null===(s=e.tabs)||void 0===s?void 0:null===(l=s[n])||void 0===l?void 0:null===(i=l.blocks)||void 0===i?void 0:i[r];(0,Z.DF)(d)&&(d.meta=(0,v.tR)({artist:o.artist}),d.loadingState=u.Gui.RESOLVE)},setPlaylist(t,a){var i,l,s;let{tabIndex:n,blockIndex:r}=t,{fullModel:o}=a.data,d=null===(s=e.tabs)||void 0===s?void 0:null===(l=s[n])||void 0===l?void 0:null===(i=l.blocks)||void 0===i?void 0:i[r];(0,Z.v3)(d)&&(d.meta={...(0,L.RE)({playlist:o.playlist}),tracksCount:o.tracksCount},d.loadingState=u.Gui.RESOLVE)},setVibe(t,a){var i,l,s;let{tabIndex:n,blockIndex:r}=t,{fullModel:o}=a.data,d=null===(s=e.tabs)||void 0===s?void 0:null===(l=s[n])||void 0===l?void 0:null===(i=l.blocks)||void 0===i?void 0:i[r];(0,Z.eE)(d)&&(d.meta={...(0,Y.FF)(o.wave),imageUrl:o.simpleWaveForegroundImageUrl,backgroundColor:o.simpleWaveBackgroundColor},d.loadingState=u.Gui.RESOLVE)},getMusicHistory:(0,s.ls)(function*(){let{musicHistoryResource:a,modelActionsLogger:i}=(0,s.dU)(e);if(e.loadingState!==u.Gui.PENDING)try{e.loadingState=u.Gui.PENDING;let i=yield a.getMusicHistory({fullModelsCount:25}),l=$(i);e.tabs=(0,s.pj)(l.historyTabs.map(Z.OE)),t.fillItemsAndIndexes(),e.loadingState=u.Gui.RESOLVE}catch(t){i.error(t),e.loadingState=u.Gui.REJECT}}),getItems:(0,s.ls)(function*(a){let{musicHistoryResource:i,modelActionsLogger:l}=(0,s.dU)(e);try{let l=e.getItemsToLoad(a);l.forEach(e=>{e.loadingState=u.Gui.RESOLVE});let s=yield i.getMusicHistoryItems({items:ee(l)}),n=K(l);s.items.forEach(e=>{var a;let i=X(e);null===(a=n[i])||void 0===a||a.forEach(a=>{switch(e.type){case Q.EW.ALBUM:t.setAlbum(a,e);break;case Q.EW.TRACK:t.setTrack(a,e);break;case Q.EW.WAVE:t.setVibe(a,e);break;case Q.EW.PLAYLIST:t.setPlaylist(a,e);break;case Q.EW.ARTIST:t.setArtist(a,e)}a.loadingState=u.Gui.RESOLVE})})}catch(e){l.error(e)}}),setDatesMap(t,a){e.datesMap.set(t,a)},reset(){e.items=null,e.tabs=null,e.indexesMap.clear(),e.datesMap.clear(),e.loadingState=u.Gui.IDLE}};return t});a(23948),a(55549);let ea=s.V5.model("NonMusicPage",{landing:h.d5});a(34790);var ei=a(61533),el=a(23976);a(55805);var es=a(21901),en=a(23194);let er=[Q.Sc.ARTIST,Q.Sc.ALBUM,Q.Sc.TRACK,Q.Sc.PLAYLIST,Q.Sc.WAVE,Q.Sc.PODCAST,Q.Sc.PODCAST_EPISODE],eo=(e,t)=>{let a=[...er];return(0,u.Z7G)(e)||t.checkExperiment(u.peG.WebNextPodcastSearch,"on")||(a=a.filter(e=>![Q.Sc.PODCAST,Q.Sc.PODCAST_EPISODE].includes(e))),a},eu=[Q.Sc.ALBUM,Q.Sc.ARTIST,Q.Sc.PLAYLIST,Q.Sc.TRACK,Q.Sc.UGC_TRACK,Q.Sc.WAVE,Q.Sc.PODCAST,Q.Sc.PODCAST_EPISODE],ed=(e,t,a)=>{let i=[...eu];return e===Q.ay.TOP&&(i=i.filter(e=>e!==Q.Sc.UGC_TRACK)),(0,u.Z7G)(t)||(a.checkExperiment(u.peG.WebNextBookSearch,"on")||(i=i.filter(e=>![Q.Sc.PODCAST].includes(e))),a.checkExperiment(u.peG.WebNextPodcastSearch,"on")||(i=i.filter(e=>![Q.Sc.PODCAST,Q.Sc.PODCAST_EPISODE].includes(e)))),i},ec=e=>{let{wave:t}=e,a="".concat(t.id.type,":").concat(t.id.tag);return(0,s.pj)({title:t.title,subtitle:t.subTitle,stationId:a,seeds:[a],backgroundColor:t.color,imageUrl:t.image})},eg=e=>{let{type:t}=e;switch(t){case Q.Sc.UGC_TRACK:return{type:t,data:(0,V.Z2)(e.track)};case Q.Sc.TRACK:return{type:t,data:(0,V.Vt)(e.track)};case Q.Sc.ARTIST:return{type:t,data:(0,v.d)(e.artist)};case Q.Sc.PLAYLIST:return{type:t,data:(0,L.VB)({...e.playlist,artists:[]})};case Q.Sc.ALBUM:return{type:t,data:(0,y.ym)(e.album)};case Q.Sc.WAVE:return{type:t,data:ec(e)};case Q.Sc.PODCAST:return{type:t,data:(0,y.ym)(e.podcast)};case Q.Sc.PODCAST_EPISODE:return{type:t,data:(0,V.Vt)(e.podcast_episode)};default:return null}},em=e=>e.map(e=>{switch(e.type){case Q.Sc.ALBUM:return{type:Q.Sc.ALBUM,data:(0,y.ym)(e.album)};case Q.Sc.ARTIST:return{type:Q.Sc.ARTIST,data:(0,v.d)(e.artist)};case Q.Sc.PLAYLIST:return{type:Q.Sc.PLAYLIST,data:(0,L.VB)({...e.playlist,artists:[]})};case Q.Sc.UGC_TRACK:return{type:Q.Sc.UGC_TRACK,data:(0,V.Z2)(e.track)};case Q.Sc.TRACK:return{type:Q.Sc.TRACK,data:(0,V.Vt)(e.track)};case Q.Sc.WAVE:return{type:Q.Sc.WAVE,data:ec(e)};case Q.Sc.PODCAST:return{type:Q.Sc.PODCAST,data:(0,y.ym)(e.podcast)};case Q.Sc.PODCAST_EPISODE:return{type:Q.Sc.PODCAST_EPISODE,data:(0,V.Vt)(e.podcast_episode)}}}),eS=s.V5.model("SearchHistoryPage",{items:s.V5.array(en.Iv),loadingState:s.V5.enumeration(Object.values(u.Gui))}),eE=s.V5.model("SearchPage",{searchCorrectedText:s.V5.maybeNull(s.V5.string),loadingState:s.V5.enumeration(Object.values(u.Gui)),searchRequestId:s.V5.optional(s.V5.string,""),results:s.V5.array(en.Iv),history:eS,mixes:es.ZP}).views(e=>({get isLoading(){return e.loadingState===u.Gui.IDLE||e.loadingState===u.Gui.PENDING},get isEmpty(){return(e.loadingState===u.Gui.RESOLVE||e.loadingState===u.Gui.REJECT)&&0===e.results.length},get isHistoryLoading(){return e.history.loadingState===u.Gui.IDLE||e.history.loadingState===u.Gui.PENDING},get isHistoryReady(){return e.history.loadingState===u.Gui.IDLE},get isEmptyHistory(){return!e.history.items.length&&e.history.loadingState===u.Gui.RESOLVE}})).actions(e=>({getSearchResults:(0,s.ls)(function*(t){let{text:a,filter:i,config:l,experiments:n}=t,{searchResource:r}=(0,s.dU)(e);try{e.loadingState=u.Gui.PENDING;let t=yield r.getInstantMixedSearch({text:a,type:ed(i,l,n),filter:i===Q.ay.TOP?void 0:i,withLikesCount:!0,page:0,pageSize:36});t.misspellResult&&(e.searchCorrectedText=t.misspellResult),t.results&&t.results.length>0&&(e.results=(0,s.pj)(em(t.results).filter(e=>e)),e.searchRequestId=t.searchRequestId),e.loadingState=u.Gui.RESOLVE}catch(t){e.loadingState=u.Gui.REJECT}}),getHistory:(0,s.ls)(function*(t){let{userId:a,config:i,experiments:l}=t;if(e.history.loadingState===u.Gui.PENDING)return;let{usersResource:n}=(0,s.dU)(e);try{e.history.loadingState=u.Gui.PENDING;let t=yield n.getSearchHistory({userId:a,supportedTypes:eo(i,l)});e.history.items=(0,s.pj)(t.map(eg).filter(e=>e)),e.history.loadingState=u.Gui.RESOLVE}catch(t){console.error(t),e.history.loadingState=u.Gui.REJECT}}),clearHistory:(0,s.ls)(function*(t){let{userId:a}=t,{usersResource:i}=(0,s.dU)(e);if(e.loadingState!==u.Gui.PENDING)try{e.loadingState=u.Gui.PENDING,yield i.clearSearchHistory({userId:a}),e.loadingState=u.Gui.RESOLVE}catch(t){console.error(t),e.loadingState=u.Gui.REJECT}}),resetHistoryItems(){e.history.items=(0,s.pj)([])},resetHistoryStateRequest(){e.history.loadingState=u.Gui.IDLE,e.history.items=(0,s.pj)([])},resetResults(){e.results=(0,s.pj)([])},resetSearchCorrectedText(){e.searchCorrectedText=null},reset(){e.searchCorrectedText=null,e.loadingState=u.Gui.IDLE,e.results=(0,s.pj)([])},sendFeedback:(0,s.ls)(function*(t){let{searchResource:a,modelActionsLogger:i}=(0,s.dU)(e);try{yield a.sendFeedback(t)}catch(e){i.error(e)}})}));a(17777);var ep=a(20070),eh=a(80757),ey=a(69088);let eG=e=>{let t=[],a=[];return e.triggers.forEach(e=>{switch(e.meta.notificationId){case Q.Mx.BAR_BELOW:t.push((0,eh.ho)(e));return;case Q.Mx.FULLSCREEN:a.push((0,ey.QZ)(e));return}}),(0,s.pj)({barBelow:{list:t},modal:{list:a}})},eN=s.V5.model("CommunicationList",{barBelow:eh.Xv,modal:ey.FM}),ev=s.V5.model("Communication",{loadingState:s.V5.enumeration(Object.values(u.Gui)),list:s.V5.maybe(eN),errorStatusCode:s.V5.maybeNull(s.V5.number)}).actions(e=>{let t={getData:(0,s.ls)(function*(){let{dynamicPagesResource:a,modelActionsLogger:i}=(0,s.dU)(e);if(e.loadingState!==u.Gui.PENDING&&e.loadingState!==u.Gui.RESOLVE)try{e.loadingState=u.Gui.PENDING;let i=yield a.getTriggers({anchorIds:Object.values(Q.o1)});if(e.list=eG(i),e.loadingState!==u.Gui.IDLE&&(e.loadingState=u.Gui.RESOLVE),!e.list)return;let{barBelow:l,modal:s}=e.list;l.setAnchorId(Q.o1.ON_START_BAR_BELOW),l.barBelowItem&&(l.show(),t.shown(l.barBelowItem.anchorId,l.barBelowItem.screenId)),s.setAnchorId(Q.o1.ON_START_FULLSCREEN),s.modalItem&&(s.open(),t.shown(s.modalItem.anchorId,s.modalItem.screenId))}catch(t){i.error(t),t instanceof f.du&&(t.statusCode===f.CN.NOT_FOUND||t.statusCode===f.CN.BAD_REQUEST)&&(e.errorStatusCode=f.CN.NOT_FOUND),e.loadingState!==u.Gui.IDLE&&(e.loadingState=u.Gui.REJECT)}}),shown:(0,s.ls)(function*(t,a){let{dynamicPagesResource:i,modelActionsLogger:l}=(0,s.dU)(e);try{yield i.shown({anchorIds:[t],screenId:a})}catch(e){l.error(e)}}),action:(0,s.ls)(function*(t,a,i){let{dynamicPagesResource:l,modelActionsLogger:n}=(0,s.dU)(e);try{yield l.action({anchorIds:[t],screenId:a,actionId:i})}catch(e){n.error(e)}})};return t});var eb=a(51952),eC=a(93099),eL=a(68478),eP=a(92324),e_=a(52852),eI=a(3752),ef=a(88909),eV=a(20121),eD=a(61602),eT=a(2959);let eR=s.V5.model("Root",{experiments:G.i_,user:eT.T_,wizard:e_.k,collection:J,main:H,settings:G.ao,currentTrackInfo:V.Jx,album:S.Lf,artist:E.Od,library:G.f8,sonataState:w.ps,playlist:ei.nb,slides:eD.iV,vibe:eP.a,search:eE,vibeSettings:ef.Ux,pinsCollection:eb.Lc,genre:z.Kx,genres:W.EU,mixes:es.ZP,tag:ep.tS,chart:p._,post:el.vU,landingBlockEntities:h.oT,contextMenuPlaylists:_,musicHistory:et,createPlaylist:P.b_,location:G.CU,nonMusic:ea,disclaimer:eV.nU,communication:ev,trailer:eL.L,modals:G.dC,landing:h.d5,fullscreenPlayer:eC.Oe,equalizer:eI.wi,trackLyrics:V.Nl}),ex=(e,t)=>eR.create(e,t);var eA=a(26965);let ek=["settings","sonataState"],ej=(e,t)=>ek.reduce((t,a)=>(t[a]=e[a],t),(0,eA.Z)(t));(0,l.DT)(!1);let eO=e=>{let{children:t,nonce:a}=e;(0,r.useRef)([]),(0,r.useContext)(n.ServerInsertedHTMLContext);let l=(0,u.YSg)(),d=(0,u.wLl)(),c=(0,u.dE6)(),g=new o.JC,[S]=(0,r.useState)(()=>{var e;let t={...l,logger:d,modelActionsLogger:c,localStorage:g};return(null===(e=window.__STATE_SNAPSHOT__)||void 0===e?void 0:e.length)?ex(window.__STATE_SNAPSHOT__[window.__STATE_SNAPSHOT__.length-1],t):ex(m,t)});return(0,r.useLayoutEffect)(()=>{function e(){var e;let t=null===(e=window.__STATE_SNAPSHOT__)||void 0===e?void 0:e[window.__STATE_SNAPSHOT__.length-1];t&&(0,s.Xx)(S,ej(S,t)),delete window.__STATE_SNAPSHOT__}return e(),window.addEventListener("yMusicStateSnapshotUpdated",e),()=>window.removeEventListener("yMusicStateSnapshotUpdated",e)},[S]),(0,i.jsx)(u.xfX.Provider,{value:S,children:t})}},76154:function(e,t,a){"use strict";a.d(t,{mH:function(){return n.Genre},fm:function(){return s},uG:function(){return r}});var i=a(42288);let l=i.V5.model("GenreListItemSubGenreModel",{tag:i.V5.string,title:i.V5.string}),s=i.V5.model("GenreListItemModel",{tag:i.V5.string,title:i.V5.string,subGenres:i.V5.array(l)});var n=a(86555);let r=e=>({tag:e.tag,title:e.title,subGenres:(0,i.pj)((e.leaves||[]).map(e=>({tag:e.tag,title:e.title})))})},86555:function(e,t,a){"use strict";a.d(t,{Genre:function(){return u}});var i=a(9753),l=a(9544),s=a(2570),n=a(3084),r=a(78914),o=a.n(r);let u=(0,l.Pi)(e=>{let{tag:t,title:a,subGenres:l}=e;return(0,i.jsxs)("div",{className:o().root,children:[(0,i.jsx)(n.rU,{className:o().link,href:"/genre/".concat(t),children:(0,i.jsx)(s.Heading,{variant:"h2",size:"m",lineClamp:1,className:o().linkTitle,children:a})}),l.length>0&&(0,i.jsx)("div",{className:o().list,children:l.map(e=>(0,i.jsx)("div",{className:o().item,children:(0,i.jsx)(n.rU,{className:o().link,href:"/genre/".concat(e.tag),children:(0,i.jsx)(s.Caption,{variant:"span",size:"l",lineClamp:1,className:o().linkTitle,children:e.title})})},e.tag))})]})})},96290:function(e,t,a){"use strict";a.d(t,{pr:function(){return n.ArtistAlbumsPage},MX:function(){return o.M},aG:function(){return r.ArtistConcertsPage},vQ:function(){return A.ArtistFamiliarPage},xA:function(){return i.ArtistPage},Od:function(){return x},x3:function(){return s.ArtistSimilarPage},hD:function(){return l.ArtistTracksPage}});var i=a(72244),l=a(55908),s=a(99931),n=a(84292),r=a(65295),o=a(38007);a(98171);var u=a(42288),d=a(10542),c=a(95695),g=a(93490),m=a(4491),S=a(73276),E=a(44023),p=a(33589),h=a(76351),y=a(38527);let G=(e,t)=>(0,u.pj)({artist:(0,p.d)(e),lastMonthListeners:null==t?void 0:t.lastMonthListeners}),N=e=>{let t=e.artists.map(e=>(0,p.tR)({artist:e}));return(0,u.pj)({playlist:(0,S.RE)({playlist:e.playlist}),artists:t})};var v=a(395);let b=u.V5.model("ArtistAlbumsPage",{loadingState:u.V5.enumeration(Object.values(y.Gui)),pager:u.V5.maybeNull(v.Vn),variant:u.V5.maybeNull(u.V5.enumeration(Object.values(o.M))),alreadyRequestedPages:u.V5.map(u.V5.number),pendingPages:u.V5.map(u.V5.number),requests:u.V5.maybeNull(u.V5.number),errorStatusCode:u.V5.maybeNull(u.V5.number),items:u.V5.array(u.V5.maybeNull(g.ug))}).views(e=>({get isNotFound(){var t;let a=e.loadingState===y.Gui.RESOLVE&&(null===(t=e.pager)||void 0===t?void 0:t.total)===0,i=e.errorStatusCode===d.CN.NOT_FOUND||e.errorStatusCode===d.CN.BAD_REQUEST;return e.loadingState===y.Gui.REJECT&&i||a}})).actions(e=>({setVariant:t=>{e.variant=t},getData:(0,u.ls)(function*(t){let{artistId:a,page:i=0,pageSize:l=20,sort:s}=t,{artistsResource:n,modelActionsLogger:r}=(0,u.dU)(e);if(!(e.loadingState===y.Gui.PENDING&&e.pendingPages.has("".concat(i))||e.alreadyRequestedPages.has("".concat(i)))){"number"==typeof i&&e.alreadyRequestedPages.set("".concat(i),i);try{var c;let t;e.loadingState=y.Gui.PENDING,e.pendingPages.set("".concat(i),i);let r={artistId:a,page:i,pageSize:l,sort:{sortBy:null==s?void 0:s.sortBy}};switch(e.variant){case o.M.COMPILATIONS:t=yield n.getAlsoAlbums(r);break;case o.M.DISCOGRAPHY:t=yield n.getDiscographyAlbums(r);break;default:t=yield n.getDirectAlbums(r)}let d={page:i,perPage:l,total:t.pager.total};0===e.items.length&&(e.items=(0,u.pj)(Array.from({length:d.total},()=>null)));let m=t.albums.map(g.ym);(0,y.AG_)({items:e.items,mappedRawItems:m,page:i,pageSize:l}),e.pager=d,e.requests=(null!==(c=e.requests)&&void 0!==c?c:0)+1,e.loadingState=y.Gui.RESOLVE}catch(t){r.error(t),t instanceof d.du&&(t.statusCode===d.CN.NOT_FOUND||t.statusCode===d.CN.BAD_REQUEST)&&(e.errorStatusCode=d.CN.NOT_FOUND),e.loadingState!==y.Gui.IDLE&&(e.loadingState=y.Gui.REJECT)}finally{e.pendingPages.delete("".concat(i))}}}),reset(){e.loadingState=y.Gui.IDLE,e.pendingPages.clear(),e.pager=null,e.variant=null,e.alreadyRequestedPages.clear(),e.errorStatusCode=null,e.items=(0,u.pj)([])}})),C=u.V5.model("ArtistConcertsPage",{loadingState:u.V5.enumeration(Object.values(y.Gui)),errorStatusCode:u.V5.maybeNull(u.V5.number),concerts:u.V5.maybeNull(u.V5.array(h.Z))}).views(e=>({get isLoading(){return e.loadingState===y.Gui.IDLE||e.loadingState===y.Gui.PENDING},get isNotFound(){var t;let a=e.loadingState===y.Gui.RESOLVE&&(null===(t=e.concerts)||void 0===t?void 0:t.length)===0,i=e.errorStatusCode===d.CN.NOT_FOUND||e.errorStatusCode===d.CN.BAD_REQUEST;return e.loadingState===y.Gui.REJECT&&i||a}})).actions(e=>({getData:(0,u.ls)(function*(t){let{artistId:a}=t,{artistsResource:i,modelActionsLogger:l}=(0,u.dU)(e);if(e.loadingState!==y.Gui.PENDING)try{e.loadingState=y.Gui.PENDING;let{concerts:t}=yield i.getConcerts({artistId:a});e.concerts=(0,u.pj)(t.map(h.zj)),e.loadingState=y.Gui.RESOLVE}catch(t){l.error(t),t instanceof d.du&&(t.statusCode===d.CN.NOT_FOUND||t.statusCode===d.CN.BAD_REQUEST)&&(e.errorStatusCode=d.CN.NOT_FOUND),e.loadingState!==y.Gui.IDLE&&(e.loadingState=y.Gui.REJECT)}}),reset(){e.loadingState=y.Gui.IDLE,e.errorStatusCode=null,e.concerts=null}})),L=e=>(0,u.pj)({...(0,g.cO)({album:e,artists:e.artists}),version:e.version}),P=u.V5.model("ArtistFamiliarPage",{loadingState:u.V5.enumeration(Object.values(y.Gui)),errorStatusCode:u.V5.maybeNull(u.V5.number),vibeTracks:u.V5.maybeNull(u.V5.array(E.le)),collectionTracks:u.V5.maybeNull(u.V5.array(E.le)),collectionAlbums:u.V5.maybeNull(u.V5.array(g.ug))}).views(e=>({get isLoading(){return e.loadingState===y.Gui.IDLE||e.loadingState===y.Gui.PENDING},get isLoaded(){return e.loadingState===y.Gui.RESOLVE},get isRejected(){return e.loadingState===y.Gui.REJECT},get isNotFound(){let t=e.errorStatusCode===d.CN.NOT_FOUND||e.errorStatusCode===d.CN.BAD_REQUEST;return e.loadingState===y.Gui.REJECT&&t},get hasCollectionEntities(){var t,a;return this.isLoaded&&Number(null===(t=e.collectionTracks)||void 0===t?void 0:t.length)>0||Number(null===(a=e.collectionAlbums)||void 0===a?void 0:a.length)>0},get shouldShowTitleBlocks(){var i,l;if(this.isLoading)return!0;return Number(null===(i=e.collectionTracks)||void 0===i?void 0:i.length)>0&&Number(null===(l=e.collectionAlbums)||void 0===l?void 0:l.length)>0},get hasVibeTracks(){var s;return Number(null===(s=e.vibeTracks)||void 0===s?void 0:s.length)>0},get collectionEntitiesData(){var n,r;return null!==(r=null===(n=e.collectionTracks)||void 0===n?void 0:n.map(E.E5))&&void 0!==r?r:[]},get vibeEntitiesData(){var o,u;return null!==(u=null===(o=e.vibeTracks)||void 0===o?void 0:o.map(E.E5))&&void 0!==u?u:[]}})).actions(e=>({getData:(0,u.ls)(function*(t){let{artistId:a}=t,{artistsResource:i,modelActionsLogger:l}=(0,u.dU)(e);if(e.loadingState!==y.Gui.PENDING)try{var s,n,r,o,c,g;e.loadingState=y.Gui.PENDING;let t=yield i.getFamiliarYou({artistId:a,waveTracksLimit:100,collectionTracksLimit:100,collectionAlbumsLimit:20});e.vibeTracks=(0,u.pj)(null===(n=t.wave)||void 0===n?void 0:null===(s=n.tracks)||void 0===s?void 0:s.map(e=>(0,E.Vt)(e))),e.collectionTracks=(0,u.pj)(null===(o=t.collection)||void 0===o?void 0:null===(r=o.tracks)||void 0===r?void 0:r.map(e=>(0,E.Vt)(e))),e.collectionAlbums=(0,u.pj)(null===(g=t.collection)||void 0===g?void 0:null===(c=g.albums)||void 0===c?void 0:c.map(L)),e.loadingState=y.Gui.RESOLVE}catch(t){l.error(t),t instanceof d.du&&(t.statusCode===d.CN.NOT_FOUND||t.statusCode===d.CN.BAD_REQUEST)&&(e.errorStatusCode=d.CN.NOT_FOUND),e.loadingState!==y.Gui.IDLE&&(e.loadingState=y.Gui.REJECT)}}),reset(){e.loadingState=y.Gui.IDLE,e.errorStatusCode=null,e.vibeTracks=null,e.collectionTracks=null}}));var _=a(10668);let I=u.V5.model("ArtistPick",{playlist:_.Cd,artists:u.V5.array(p.Go)}),f=u.V5.model("ArtistSimilarArtistsPage",{loadingState:u.V5.enumeration(Object.values(y.Gui)),errorStatusCode:u.V5.maybeNull(u.V5.number),similarArtists:u.V5.maybeNull(u.V5.array(p.Go))}).views(e=>({get isLoading(){return e.loadingState===y.Gui.IDLE||e.loadingState===y.Gui.PENDING},get isNotFound(){var t;let a=e.loadingState===y.Gui.RESOLVE&&(null===(t=e.similarArtists)||void 0===t?void 0:t.length)===0,i=e.errorStatusCode===d.CN.NOT_FOUND||e.errorStatusCode===d.CN.BAD_REQUEST;return e.loadingState===y.Gui.REJECT&&i||a}})).actions(e=>({getData:(0,u.ls)(function*(t){let{artistId:a}=t,{artistsResource:i,modelActionsLogger:l}=(0,u.dU)(e);try{e.loadingState=y.Gui.PENDING;let t=yield i.getSimilarArtists({artistId:a});e.similarArtists=(0,u.pj)(t.similarArtists.map(p.d)),e.loadingState!==y.Gui.IDLE&&(e.loadingState=y.Gui.RESOLVE)}catch(t){l.error(t),t instanceof d.du&&(t.statusCode===d.CN.NOT_FOUND||t.statusCode===d.CN.BAD_REQUEST)&&(e.errorStatusCode=d.CN.NOT_FOUND),e.loadingState!==y.Gui.IDLE&&(e.loadingState=y.Gui.REJECT)}}),reset(){e.loadingState=y.Gui.IDLE,e.errorStatusCode=null,e.similarArtists=(0,u.pj)([])}}));var V=a(72587);let D=u.V5.model("FamiliarInfo",{loadingState:u.V5.enumeration(Object.values(y.Gui)),vibeTrackCount:u.V5.optional(u.V5.number,0),collectionTrackCount:u.V5.optional(u.V5.number,0),collectionAlbumCount:u.V5.optional(u.V5.number,0)}).views(e=>({get isLoaded(){return e.loadingState===y.Gui.RESOLVE},get hasTracks(){return this.isLoaded&&(e.collectionTrackCount>0||e.vibeTrackCount>0)},get hasFamiliarInfo(){return this.isLoaded&&(this.hasTracks||e.collectionAlbumCount>0)},get tracksCount(){return e.collectionTrackCount+e.vibeTrackCount},get hasCollectionEntities(){return this.isLoaded&&(e.collectionTrackCount>0||e.collectionAlbumCount>0)},get hasVibeEntities(){return this.isLoaded&&e.vibeTrackCount>0},href(e){return e?this.hasCollectionEntities?"/artist/".concat(e,"/familiar?tab=").concat(V.g.COLLECTION):this.hasVibeEntities?"/artist/".concat(e,"/familiar?tab=").concat(V.g.VIBE):"/artist/".concat(e,"/familiar"):""}})).actions(e=>({getData:(0,u.ls)(function*(t){let{artistId:a}=t,{artistsResource:i,modelActionsLogger:l}=(0,u.dU)(e);if(e.loadingState!==y.Gui.PENDING)try{e.loadingState=y.Gui.PENDING;let t=yield i.getFamiliarYouInfo({artistId:a,withWaveInfo:!0,withCollectionInfo:!0});t.collection&&(e.collectionTrackCount=t.collection.trackCount,e.collectionAlbumCount=t.collection.albumCount),t.wave&&(e.vibeTrackCount=t.wave.trackCount),e.loadingState!==y.Gui.IDLE&&(e.loadingState=y.Gui.RESOLVE)}catch(t){l.error(t),e.loadingState!==y.Gui.IDLE&&(e.loadingState=y.Gui.REJECT)}}),reset(){e.loadingState=y.Gui.IDLE,e.vibeTrackCount=0,e.collectionTrackCount=0,e.collectionAlbumCount=0}}));var T=a(75191);let R=u.V5.model("FullTracksList",{loadingState:u.V5.enumeration(Object.values(y.Gui)),errorStatusCode:u.V5.maybeNull(u.V5.number),ids:u.V5.maybeNull(u.V5.array(u.V5.string)),tracks:u.V5.optional(u.V5.map(E.le),{})}).views(e=>({getTrackByIndex(t){if(!e.ids||!e.ids.length)return null;let a=e.ids[t];return a&&e.tracks.get(a)||null},get isNotFound(){var t;let a=e.loadingState===y.Gui.RESOLVE&&(null===(t=e.ids)||void 0===t?void 0:t.length)===0,i=e.errorStatusCode===d.CN.NOT_FOUND||e.errorStatusCode===d.CN.BAD_REQUEST;return e.loadingState===y.Gui.REJECT&&i||a}})).actions(e=>({getTracksIds:(0,u.ls)(function*(t){let{artistId:a}=t,{artistsResource:i,modelActionsLogger:l}=(0,u.dU)(e);try{e.loadingState=y.Gui.PENDING;let t=yield i.getArtistTrackIds({artistId:a}),{sonataState:l}=(0,u.yj)(e);l.setUnloadedEntitiesData(t.map(e=>(0,T.RN)(e))),e.ids=(0,u.pj)(t),e.loadingState!==y.Gui.IDLE&&(e.loadingState=y.Gui.RESOLVE)}catch(t){l.error(t),t instanceof d.du&&(t.statusCode===d.CN.NOT_FOUND||t.statusCode===d.CN.BAD_REQUEST)&&(e.errorStatusCode=d.CN.NOT_FOUND),e.loadingState!==y.Gui.IDLE&&(e.loadingState=y.Gui.REJECT)}}),getTracks:(0,u.ls)(function*(t){let{trackIds:a}=t,{tracksResource:i,modelActionsLogger:l}=(0,u.dU)(e);try{let t=yield i.getTracksMeta({trackIds:a,withProgress:!0});e.tracks.merge(t.reduce((e,t)=>(e[t.id]=(0,E.Vt)(t),e),{}))}catch(e){l.error(e)}}),reset(){let{sonataState:t}=(0,u.yj)(e);t.resetUnloadedEntitiesData(),e.loadingState=y.Gui.IDLE,e.ids=(0,u.pj)([]),e.tracks.clear()}})),x=u.V5.model("ArtistPage",{loadingState:u.V5.enumeration(Object.values(y.Gui)),id:u.V5.maybeNull(u.V5.string),meta:u.V5.maybeNull(m.o9),popularTracks:u.V5.array(E.le),lastRelease:u.V5.maybeNull(g.ug),upcomingAlbum:u.V5.maybeNull(g.W9),concerts:u.V5.maybeNull(u.V5.array(h.Z)),similarArtists:u.V5.array(p.Go),playlists:u.V5.array(S.d2),errorStatusCode:u.V5.maybeNull(u.V5.number),deprecationTargetArtistId:u.V5.maybeNull(u.V5.number),albums:u.V5.array(g.ug),discography:u.V5.array(g.ug),compilations:u.V5.array(g.ug),artistPick:u.V5.maybeNull(I),familiarInfo:D,albumsSubpage:b,fullTracksListSubpage:R,concertsSubpage:C,similarArtistsSubPage:f,familiarSubpage:P}).views(e=>({get isLoading(){return e.loadingState===y.Gui.IDLE||e.loadingState===y.Gui.PENDING},get hasPopularTracks(){return e.loadingState===y.Gui.IDLE||e.loadingState===y.Gui.PENDING||e.popularTracks.length>0},get hasAlbums(){return e.loadingState===y.Gui.IDLE||e.loadingState===y.Gui.PENDING||e.albums.length>0},get hasDiscography(){return e.loadingState===y.Gui.IDLE||e.loadingState===y.Gui.PENDING||e.discography.length>0},get hasCompilations(){return e.loadingState===y.Gui.IDLE||e.loadingState===y.Gui.PENDING||e.compilations.length>0},get hasSimilarArtists(){return e.loadingState===y.Gui.IDLE||e.loadingState===y.Gui.PENDING||e.similarArtists.length>0},get hasPlaylists(){return e.loadingState===y.Gui.IDLE||e.loadingState===y.Gui.PENDING||e.playlists&&e.playlists.length>0},get hasConcerts(){let{experiments:t}=(0,u.yj)(e);return e.loadingState===y.Gui.IDLE||e.loadingState===y.Gui.PENDING||e.concerts&&e.concerts.length>0&&t.checkExperiment(y.peG.WebNewBlockConcerts,"on")},get concertsLink(){var t,a;let{experiments:i}=(0,u.yj)(e);if(i.checkExperiment(y.peG.WebNewConcertsList,"on")&&(null===(t=e.meta)||void 0===t?void 0:t.artist.id)&&e.concerts&&e.concerts.length>3)return"/artist/".concat(null===(a=e.meta)||void 0===a?void 0:a.artist.id,"/concerts");return null},get isNotFound(){return e.loadingState===y.Gui.REJECT&&e.errorStatusCode===d.CN.NOT_FOUND},get isLoaded(){return e.loadingState===y.Gui.RESOLVE},get isRejected(){return e.loadingState===y.Gui.REJECT},get hasReleaseBlock(){return!!(this.isLoading||e.upcomingAlbum||e.lastRelease)}})).actions(e=>({getData:(0,u.ls)(function*(t){let{artistId:a}=t,{slides:i,experiments:l,disclaimer:s}=(0,u.yj)(e),{artistsResource:n,modelActionsLogger:r}=(0,u.dU)(e),o=l.checkExperiment(y.peG.WebNextArtistDisableLastReleases,"on"),m=l.checkExperiment(y.peG.WebNextArtistDisablePopularTracks,"on"),v=l.checkExperiment(y.peG.WebNextArtistDisableSimilarArtists,"on"),b=l.checkExperiment(y.peG.WebNextArtistDisablePopularAlbums,"on"),C=l.checkExperiment(y.peG.WebNextArtistDisableDiscography,"on"),L=l.checkExperiment(y.peG.WebNextArtistDisableCompilations,"on"),P=l.checkExperiment(y.peG.WebNextArtistDisablePlaylists,"on"),_=l.checkExperiment(y.peG.WebNextLegalRejectArtist,"on");if(e.id=a,e.loadingState!==y.Gui.PENDING)try{var I,f;e.loadingState=y.Gui.PENDING;let{popularTracks:t,error:l,artist:r,stats:V,albums:D,playlists:T,alsoAlbums:R,similarArtists:x,lastReleases:A,concerts:k,upcomingAlbum:j,discography:O,artistPick:w}=yield n.getBriefInfo({artistId:a,popularTracksCount:5,fetchPlaylistLikesCounts:!0,discographyBlockEnabled:!0});if("not-found"===l||(null==r?void 0:r.error)==="not-found"){e.errorStatusCode=d.CN.NOT_FOUND,e.loadingState=y.Gui.REJECT;return}if(null===(I=r.deprecation)||void 0===I?void 0:I.targetArtistId){e.deprecationTargetArtistId=r.deprecation.targetArtistId,e.loadingState=y.Gui.RESOLVE;return}e.meta=(0,u.pj)(G(r,V));let U=(null!==(f=r.disclaimers)&&void 0!==f?f:[]).includes(c.em.MODAL);if(!r.available&&U&&_&&(yield s.getArtistDisclaimer({artistId:a})),!o&&A&&A.length>0){let t=A[0];t&&D&&D.length>1&&(e.lastRelease=(0,u.pj)((0,g.ym)(t)))}j&&(e.upcomingAlbum=(0,u.pj)((0,g.wq)(j))),k&&(e.concerts=(0,u.pj)(k.map(h.zj))),!m&&t&&t.length>0&&(e.popularTracks=(0,u.pj)(t.slice(0,5).map(e=>(0,E.Vt)(e)))),!v&&x&&x.length>0&&(e.similarArtists=(0,u.pj)(x.slice(0,9).map(p.d))),!b&&Number(null==D?void 0:D.length)>0&&(e.albums=(0,u.pj)(null==D?void 0:D.map(g.ym))),!C&&Number(null==O?void 0:O.length)>0&&(e.discography=(0,u.pj)(null==O?void 0:O.map(g.ym).slice(0,9))),!L&&Number(null==R?void 0:R.length)>0&&(e.compilations=(0,u.pj)(null==R?void 0:R.map(g.ym).slice(0,9))),!P&&T&&T.length>0&&(e.playlists=(0,u.pj)(T.map(S.Q9).slice(0,9))),w&&(e.artistPick=N(w)),i.resetArtist(),e.loadingState!==y.Gui.IDLE&&(e.loadingState=y.Gui.RESOLVE)}catch(t){r.error(t),t instanceof d.du&&(t.statusCode===d.CN.NOT_FOUND||t.statusCode===d.CN.BAD_REQUEST)&&(e.errorStatusCode=d.CN.NOT_FOUND),e.loadingState!==y.Gui.IDLE&&(e.loadingState=y.Gui.REJECT)}}),reset(){e.loadingState=y.Gui.IDLE,e.id=null,e.meta=null,e.errorStatusCode=null,e.deprecationTargetArtistId=null,e.lastRelease=null,e.upcomingAlbum=null,e.concerts=null,e.artistPick=null,e.popularTracks=(0,u.pj)([]),e.similarArtists=(0,u.pj)([]),e.playlists=(0,u.pj)([]),e.albums=(0,u.pj)([]),e.discography=(0,u.pj)([]),e.compilations=(0,u.pj)([])}}));var A=a(60325)},93438:function(e,t,a){"use strict";a.d(t,{D:function(){return G},_:function(){return b}});var i=a(9753),l=a(60836),s=a(9544),n=a(98639),r=a(80542),o=a(23881),u=a(84338),d=a(90679),c=a(2570),g=a(68106),m=a(36084),S=a(44023),E=a(38527),p=a(3084),h=a(10929),y=a.n(h);let G=(0,s.Pi)(()=>{let{formatMessage:e}=(0,r.Z)(),{chart:t}=(0,E.oR4)(),a=(0,E.k67)(),[s,h]=(0,E.zU3)(),G=(0,E.x5)({pageId:E.Rhz.CHART});t.loadingState===E.Gui.IDLE&&(0,n.use)(t.getTracks()),(0,E.NOh)(t.loadingState===E.Gui.RESOLVE);let N=(0,n.useCallback)(e=>{let a=t.items[e];return a&&!t.isLoading&&t.playlistMeta?(0,i.jsx)(S._3,{track:a,playContextParams:{contextData:{type:u.Ak.Playlist,meta:{id:"".concat(t.playlistMeta.uid,":").concat(t.playlistMeta.kind)},from:G},queueParams:{index:e},loadContextMeta:!0}}):(0,i.jsx)(p.DX,{isActive:!0,className:y().shimmerItem,variant:E.Lxt.PLAYLIST})},[G,t.items,t.isLoading,t.playlistMeta]),v=(0,n.useMemo)(()=>({Footer:()=>(0,i.jsx)(p.$_,{className:y().footer})}),[]),b=(0,n.useMemo)(()=>t.title?(0,i.jsx)(c.Heading,{id:"collection-artists-header",variant:"h2",weight:"bold",size:"xl",lineClamp:1,children:t.title}):(0,i.jsx)(d.Shimmer,{className:y().shimmerTitle,radius:"l"}),[t.title]);return t.loadingState===E.Gui.REJECT?(0,i.jsx)(g.D,{}):(0,i.jsx)(E.Lh6,{pageId:E.Rhz.CHART,children:(0,i.jsx)(m.I7,{scrollElement:s,...t.title&&{outerTitle:t.title},children:(0,i.jsxs)("div",{className:y().root,...(0,o.BA)(o.Br.chart.CHART_PAGE),children:[(0,i.jsx)(p.h4,{variant:"text",withForwardControl:!1,withBackwardControl:a.canBack,children:b}),(0,i.jsx)(p.Wv,{className:(0,l.W)(y().scrollContainer,y().important),listClassName:y().content,customComponents:v,totalCount:t.items.length,itemContentCallback:N,debounceDurationInMs:300,handleRef:h,context:{listAriaLabel:e({id:"entity-names.chart-tracks-list"})}})]})})})});var N=a(42288);let v=N.V5.model("ChartPagePlaylistModel",{uuid:N.V5.string,uid:N.V5.number,kind:N.V5.number}),b=N.V5.model("ChartPageModel",{title:N.V5.maybeNull(N.V5.string),playlistMeta:N.V5.maybeNull(v),items:N.V5.array(S.le),loadingState:N.V5.enumeration(Object.values(E.Gui))}).actions(e=>({getTracks:(0,N.ls)(function*(){let{chartResource:t,modelActionsLogger:a}=(0,N.dU)(e);if(e.loadingState!==E.Gui.PENDING)try{e.loadingState=E.Gui.PENDING;let a=yield t.getChart();e.title=a.title,e.playlistMeta=(0,N.pj)({uuid:a.playContext.playlistUuid,uid:a.playContext.uid,kind:a.playContext.kind}),e.items=(0,N.pj)(a.chartPositions.map(e=>(0,S.S7)(e.track,e.chartPosition))),e.loadingState!==E.Gui.IDLE&&(e.loadingState=E.Gui.RESOLVE)}catch(t){a.error(t),e.loadingState!==E.Gui.IDLE&&(e.loadingState=E.Gui.REJECT)}})})).views(e=>({get isLoading(){return e.loadingState===E.Gui.PENDING||e.loadingState===E.Gui.IDLE},get isLoadingError(){return e.loadingState===E.Gui.REJECT}}))},95946:function(e,t,a){"use strict";a.d(t,{rT:function(){return l.GenreAlbumsPage},eq:function(){return s.GenreArtistsPage},a0:function(){return i.GenrePage},Kx:function(){return y},Fe:function(){return n.GenrePlaylistsPage}});var i=a(5112),l=a(70660),s=a(12788),n=a(91477);a(20806);var r=a(42288),o=a(10542),u=a(93490),d=a(73276),c=a(33589),g=a(38527),m=a(395);let S=r.V5.model("GenreAlbumsPage",{loadingState:r.V5.enumeration(Object.values(g.Gui)),pager:r.V5.maybeNull(m.Vn),alreadyRequestedPages:r.V5.map(r.V5.number),pendingPages:r.V5.map(r.V5.number),requests:r.V5.maybeNull(r.V5.number),errorStatusCode:r.V5.maybeNull(r.V5.number),fullTitle:r.V5.maybeNull(r.V5.string),items:r.V5.array(r.V5.maybeNull(u.ug))}).views(e=>({get isNotFound(){var t;let a=e.loadingState===g.Gui.RESOLVE&&(null===(t=e.pager)||void 0===t?void 0:t.total)===0,i=e.errorStatusCode===o.CN.NOT_FOUND||e.errorStatusCode===o.CN.BAD_REQUEST;return e.loadingState===g.Gui.REJECT&&i||a},get isSomethingWrong(){return e.loadingState===g.Gui.REJECT&&!this.isNotFound}})).actions(e=>({getData:(0,r.ls)(function*(t){let{metatagId:a,page:i=0,pageSize:l=20}=t,{metatagsResource:s,modelActionsLogger:n}=(0,r.dU)(e);if(!(e.loadingState===g.Gui.PENDING&&e.pendingPages.has("".concat(i))||e.alreadyRequestedPages.has("".concat(i)))){"number"==typeof i&&e.alreadyRequestedPages.set("".concat(i),i);try{var d;e.loadingState=g.Gui.PENDING,e.pendingPages.set("".concat(i),i);let t=yield s.getMetatagAlbums({id:a,offset:i,limit:l});e.fullTitle=t.title.fullTitle;let n={page:i,perPage:l,total:t.pager.total};0===e.items.length&&(e.items=(0,r.pj)(Array.from({length:n.total},()=>null)));let o=t.albums.map(u.ym);(0,g.AG_)({items:e.items,mappedRawItems:o,page:i,pageSize:l}),e.pager=n,e.requests=(null!==(d=e.requests)&&void 0!==d?d:0)+1,e.loadingState!==g.Gui.IDLE&&(e.loadingState=g.Gui.RESOLVE)}catch(t){n.error(t),t instanceof o.du&&(t.statusCode===o.CN.NOT_FOUND||t.statusCode===o.CN.BAD_REQUEST)&&(e.errorStatusCode=o.CN.NOT_FOUND),e.loadingState!==g.Gui.IDLE&&(e.loadingState=g.Gui.REJECT)}finally{e.pendingPages.delete("".concat(i))}}}),reset(){e.loadingState=g.Gui.IDLE,e.pendingPages.clear(),e.pager=null,e.alreadyRequestedPages.clear(),e.errorStatusCode=null,e.items=(0,r.pj)([])}})),E=r.V5.model("GenreArtistsPage",{loadingState:r.V5.enumeration(Object.values(g.Gui)),pager:r.V5.maybeNull(m.Vn),alreadyRequestedPages:r.V5.map(r.V5.number),pendingPages:r.V5.map(r.V5.number),requests:r.V5.maybeNull(r.V5.number),errorStatusCode:r.V5.maybeNull(r.V5.number),fullTitle:r.V5.maybeNull(r.V5.string),items:r.V5.array(r.V5.maybeNull(c.Go))}).views(e=>({get isNotFound(){var t;let a=e.loadingState===g.Gui.RESOLVE&&(null===(t=e.pager)||void 0===t?void 0:t.total)===0,i=e.errorStatusCode===o.CN.NOT_FOUND||e.errorStatusCode===o.CN.BAD_REQUEST;return e.loadingState===g.Gui.REJECT&&i||a},get isSomethingWrong(){return e.loadingState===g.Gui.REJECT&&!this.isNotFound}})).actions(e=>({getData:(0,r.ls)(function*(t){let{metatagId:a,page:i=0,pageSize:l=20}=t,{metatagsResource:s,modelActionsLogger:n}=(0,r.dU)(e);if(!(e.loadingState===g.Gui.PENDING&&e.pendingPages.has("".concat(i))||e.alreadyRequestedPages.has("".concat(i)))){"number"==typeof i&&e.alreadyRequestedPages.set("".concat(i),i);try{var u;e.loadingState=g.Gui.PENDING,e.pendingPages.set("".concat(i),i);let t=yield s.getMetatagArtists({id:a,offset:i,limit:l,period:"week"});e.fullTitle=t.title.fullTitle;let n={page:i,perPage:l,total:t.pager.total};0===e.items.length&&(e.items=(0,r.pj)(Array.from({length:n.total},()=>null)));let o=t.artists.map(e=>(0,c.d)(e.artist));(0,g.AG_)({items:e.items,mappedRawItems:o,page:i,pageSize:l}),e.pager=n,e.requests=(null!==(u=e.requests)&&void 0!==u?u:0)+1,e.loadingState!==g.Gui.IDLE&&(e.loadingState=g.Gui.RESOLVE)}catch(t){n.error(t),t instanceof o.du&&(t.statusCode===o.CN.NOT_FOUND||t.statusCode===o.CN.BAD_REQUEST)&&(e.errorStatusCode=o.CN.NOT_FOUND),e.loadingState!==g.Gui.IDLE&&(e.loadingState=g.Gui.REJECT)}finally{e.pendingPages.delete("".concat(i))}}}),reset(){e.loadingState=g.Gui.IDLE,e.pendingPages.clear(),e.pager=null,e.alreadyRequestedPages.clear(),e.errorStatusCode=null,e.items=(0,r.pj)([])}}));var p=a(10668);let h=r.V5.model("GenrePlaylistsPage",{loadingState:r.V5.enumeration(Object.values(g.Gui)),pager:r.V5.maybeNull(m.Vn),alreadyRequestedPages:r.V5.map(r.V5.number),pendingPages:r.V5.map(r.V5.number),requests:r.V5.maybeNull(r.V5.number),errorStatusCode:r.V5.maybeNull(r.V5.number),fullTitle:r.V5.maybeNull(r.V5.string),items:r.V5.array(r.V5.maybeNull(p.Cd))}).views(e=>({get isNotFound(){var t;let a=e.loadingState===g.Gui.RESOLVE&&(null===(t=e.pager)||void 0===t?void 0:t.total)===0,i=e.errorStatusCode===o.CN.NOT_FOUND||e.errorStatusCode===o.CN.BAD_REQUEST;return e.loadingState===g.Gui.REJECT&&i||a},get isSomethingWrong(){return!this.isNotFound&&e.loadingState===g.Gui.REJECT&&0===e.alreadyRequestedPages.size}})).actions(e=>({getData:(0,r.ls)(function*(t){let{metatagId:a,page:i=0,pageSize:l=20}=t,{metatagsResource:s,modelActionsLogger:n}=(0,r.dU)(e);if(!(e.loadingState===g.Gui.PENDING&&e.pendingPages.has("".concat(i))||e.alreadyRequestedPages.has("".concat(i)))){"number"==typeof i&&e.alreadyRequestedPages.set("".concat(i),i);try{var o;e.loadingState=g.Gui.PENDING,e.pendingPages.set("".concat(i),i);let t=yield s.getMetatagPlaylists({id:a,offset:i,limit:l,withLikesCount:!0});e.fullTitle=t.title.fullTitle;let n={page:i,perPage:l,total:t.pager.total};0===e.items.length&&(e.items=(0,r.pj)(Array.from({length:n.total},()=>null)));let u=t.playlists.map(p.PV);(0,g.AG_)({items:e.items,mappedRawItems:u,page:i,pageSize:l}),e.pager=n,e.requests=(null!==(o=e.requests)&&void 0!==o?o:0)+1,e.loadingState!==g.Gui.IDLE&&(e.loadingState=g.Gui.RESOLVE)}catch(t){n.error(t),e.alreadyRequestedPages.delete("".concat(i)),e.loadingState!==g.Gui.IDLE&&(e.loadingState=g.Gui.REJECT)}finally{e.pendingPages.delete("".concat(i))}}}),reset(){e.loadingState=g.Gui.IDLE,e.pendingPages.clear(),e.pager=null,e.alreadyRequestedPages.clear(),e.errorStatusCode=null,e.items=(0,r.pj)([])}})),y=r.V5.model("GenrePage",{id:r.V5.maybeNull(r.V5.string),errorStatusCode:r.V5.maybeNull(r.V5.number),loadingState:r.V5.enumeration(Object.values(g.Gui)),fullTitle:r.V5.maybeNull(r.V5.string),artists:r.V5.array(c.Go),albums:r.V5.array(u.ug),playlists:r.V5.array(d.d2),albumsSubpage:S,artistsSubpage:E,playlistsSubpage:h}).views(e=>({get isLoading(){return e.loadingState===g.Gui.IDLE||e.loadingState===g.Gui.PENDING},get hasAlbums(){return e.loadingState===g.Gui.IDLE||e.loadingState===g.Gui.PENDING||e.albums.length>0},get hasArtists(){return e.loadingState===g.Gui.IDLE||e.loadingState===g.Gui.PENDING||e.artists.length>0},get hasPlaylists(){return e.loadingState===g.Gui.IDLE||e.loadingState===g.Gui.PENDING||e.playlists.length>0},get isNotFound(){let t=e.loadingState===g.Gui.RESOLVE&&!this.hasAlbums&&!this.hasArtists&&!this.hasPlaylists,a=e.errorStatusCode===o.CN.NOT_FOUND||e.errorStatusCode===o.CN.BAD_REQUEST;return e.loadingState===g.Gui.REJECT&&a||t}})).actions(e=>({getData:(0,r.ls)(function*(t){let{id:a}=t,{metatagsResource:i,modelActionsLogger:l}=(0,r.dU)(e);if(e.loadingState!==g.Gui.PENDING)try{e.loadingState=g.Gui.PENDING;let t=yield i.getMetatagById({id:a});e.id=t.id,e.fullTitle=t.title.fullTitle,e.artists=(0,r.pj)(t.artists.map(c.d)),e.albums=(0,r.pj)(t.albums.map(u.ym)),e.playlists=(0,r.pj)(t.playlists.map(d.Q9)),e.loadingState!==g.Gui.IDLE&&(e.loadingState=g.Gui.RESOLVE)}catch(t){l.error(t),t instanceof o.du&&(t.statusCode===o.CN.NOT_FOUND||t.statusCode===o.CN.BAD_REQUEST)&&(e.errorStatusCode=o.CN.NOT_FOUND),e.loadingState!==g.Gui.IDLE&&(e.loadingState=g.Gui.REJECT)}}),reset(){e.loadingState=g.Gui.IDLE,e.fullTitle=null,e.artists=(0,r.pj)([]),e.albums=(0,r.pj)([]),e.playlists=(0,r.pj)([])}}))},70660:function(e,t,a){"use strict";a.d(t,{GenreAlbumsPage:function(){return h}});var i=a(9753),l=a(60836),s=a(9544),n=a(74717),r=a(98639),o=a(80542),u=a(2570),d=a(68106),c=a(93490),g=a(36084),m=a(38527),S=a(3084),E=a(40489),p=a.n(E);let h=(0,s.Pi)(e=>{var t,a,s;let{metatagId:E}=e,{genre:{albumsSubpage:h}}=(0,m.oR4)(),{formatMessage:y}=(0,o.Z)(),[G,N]=(0,m.zU3)(),v=(0,m.k67)();E&&h.loadingState===m.Gui.IDLE&&(0,r.use)(h.getData({metatagId:E,page:0,pageSize:20}));let b=(0,r.useCallback)(e=>{E&&h.getData({metatagId:E,page:e,pageSize:20})},[h,E]);(0,r.useEffect)(()=>()=>{h.reset()},[h]),h.isNotFound&&(0,n.notFound)(),(0,m.NOh)(h.loadingState===m.Gui.RESOLVE);let C=(0,r.useMemo)(()=>({Footer:()=>(0,i.jsx)(S.$_,{className:p().footer})}),[]);return h.isSomethingWrong?(0,i.jsx)(d.D,{}):(0,i.jsx)(m.Lh6,{pageId:m.Rhz.GENRE_ALBUMS,children:(0,i.jsx)(g.I7,{scrollElement:G,outerTitle:h.fullTitle,children:(0,i.jsxs)("div",{className:p().root,children:[(0,i.jsx)(S.h4,{variant:"text",withForwardControl:!1,withBackwardControl:v.canBack,children:(0,i.jsx)(u.Heading,{variant:"h2",weight:"bold",size:"xl",lineClamp:1,children:h.fullTitle})}),(0,i.jsx)(S.Wv,{className:(0,l.W)(p().scrollContainer,p().important),customComponents:C,itemContentCallback:e=>{var t;let a=null==h?void 0:null===(t=h.items)||void 0===t?void 0:t[e],l=y({id:"loading-messages.entity-is-loading"},{entityName:y({id:"entity-names.album"})});return a?(0,i.jsx)(c.rf,{album:a,contentLinesCount:3},a.id):(0,i.jsx)(S.hi,{"aria-label":l})},totalCount:null!==(a=null==h?void 0:null===(t=h.pager)||void 0===t?void 0:t.total)&&void 0!==a?a:0,onGetDataByPage:b,pageSize:20,totalRequests:null!==(s=h.requests)&&void 0!==s?s:0,listClassName:p().content,itemClassName:p().item,handleRef:N,context:{listAriaLabel:y({id:"mixes.albums-list"},{genreName:h.fullTitle||""})}})]})})})})},12788:function(e,t,a){"use strict";a.d(t,{GenreArtistsPage:function(){return h}});var i=a(9753),l=a(60836),s=a(9544),n=a(74717),r=a(98639),o=a(80542),u=a(2570),d=a(68106),c=a(4491),g=a(36084),m=a(38527),S=a(3084),E=a(6380),p=a.n(E);let h=(0,s.Pi)(e=>{var t,a,s;let{metatagId:E}=e,{genre:{artistsSubpage:h}}=(0,m.oR4)(),{formatMessage:y}=(0,o.Z)(),[G,N]=(0,m.zU3)(),v=(0,m.k67)();E&&h.loadingState===m.Gui.IDLE&&(0,r.use)(h.getData({metatagId:E,page:0,pageSize:20}));let b=(0,r.useCallback)(e=>{E&&h.getData({metatagId:E,page:e,pageSize:20})},[h,E]);(0,r.useEffect)(()=>()=>{h.reset()},[h]),h.isNotFound&&(0,n.notFound)(),(0,m.NOh)(h.loadingState===m.Gui.RESOLVE);let C=(0,r.useMemo)(()=>({Footer:()=>(0,i.jsx)(S.$_,{className:p().footer})}),[]);return h.isSomethingWrong?(0,i.jsx)(d.D,{}):(0,i.jsx)(m.Lh6,{pageId:m.Rhz.GENRE_ARTISTS,children:(0,i.jsx)(g.I7,{scrollElement:G,outerTitle:h.fullTitle,children:(0,i.jsxs)("div",{className:p().root,children:[(0,i.jsx)(S.h4,{variant:"text",withForwardControl:!1,withBackwardControl:v.canBack,children:(0,i.jsx)(u.Heading,{variant:"h2",weight:"bold",size:"xl",lineClamp:1,children:h.fullTitle})}),(0,i.jsx)(S.Wv,{className:(0,l.W)(p().scrollContainer,p().important),customComponents:C,itemContentCallback:e=>{var t;let a=null==h?void 0:null===(t=h.items)||void 0===t?void 0:t[e],l=y({id:"loading-messages.entity-is-loading"},{entityName:y({id:"entity-names.artist"})});return a?(0,i.jsx)(c.IT,{artist:a,contentLinesCount:3},a.id):(0,i.jsx)(S.hi,{"aria-label":l,round:!0,centered:!0})},totalCount:null!==(a=null==h?void 0:null===(t=h.pager)||void 0===t?void 0:t.total)&&void 0!==a?a:0,onGetDataByPage:b,pageSize:20,totalRequests:null!==(s=h.requests)&&void 0!==s?s:0,listClassName:p().content,itemClassName:p().item,handleRef:N,context:{listAriaLabel:y({id:"mixes.artists-list"},{genreName:h.fullTitle||""})}})]})})})})},20806:function(e,t,a){"use strict";a.d(t,{GenreNotFoundPage:function(){return n}});var i=a(9753),l=a(9544),s=a(23948);let n=(0,l.Pi)(()=>(0,i.jsx)(s.T,{}))},5112:function(e,t,a){"use strict";a.d(t,{GenrePage:function(){return N}});var i=a(9753),l=a(60836),s=a(9544),n=a(74717),r=a(98639),o=a(80542),u=a(41055),d=a(2570),c=a(68106),g=a(93490),m=a(4491),S=a(36084),E=a(73276),p=a(38527),h=a(3084),y=a(60015),G=a.n(y);let N=(0,s.Pi)(e=>{let{metatagId:t}=e,{genre:a}=(0,p.oR4)(),{formatMessage:s}=(0,o.Z)(),[y,N]=(0,p.zU3)(),v=(0,p.k67)();return(t&&a.loadingState===p.Gui.IDLE&&(0,r.use)(a.getData({id:t})),a.isNotFound&&(0,n.notFound)(),(0,r.useEffect)(()=>()=>{a.reset()},[a]),(0,p.NOh)(a.loadingState===p.Gui.RESOLVE),a.loadingState!==p.Gui.REJECT||a.isNotFound)?(0,i.jsx)(p.Lh6,{pageId:p.Rhz.GENRE,children:(0,i.jsxs)(S.I7,{scrollElement:y,outerTitle:a.fullTitle,children:[(0,i.jsx)(h.h4,{variant:"text",withForwardControl:!1,withBackwardControl:v.canBack,children:(0,i.jsx)(d.Heading,{variant:"h2",weight:"bold",size:"xl",lineClamp:1,children:a.fullTitle})}),(0,i.jsx)(u.t,{className:G().root,containerClassName:G().content,ref:N,children:(0,i.jsxs)("div",{className:G().carouselBlocks,children:[a.hasPlaylists&&(0,i.jsx)(p.Ja5,{blockId:p.BEo.PLAYLISTS_CAROUSEL,blockType:p.BEo.PLAYLISTS_CAROUSEL,blockPosX:1,blockPosY:1,blockIdForFrom:p.BEo.PLAYLISTS_CAROUSEL,objectsCount:a.albums.length,children:(0,i.jsx)(E.VD,{isShimmerVisible:a.isLoading,isShimmerActive:!0,headerClassName:(0,l.W)(G().carouselBlockHeader,G().carouselBlock),containerClassName:G().carouselBlock,playlists:a.playlists,title:s({id:"entity-names.popular-playlists"}),viewAllActionLink:"/genre/".concat(a.id,"/playlists")})}),a.hasAlbums&&(0,i.jsx)(p.Ja5,{blockId:p.BEo.ALBUMS_CAROUSEL,blockType:p.BEo.ALBUMS_CAROUSEL,blockPosX:1,blockPosY:2,blockIdForFrom:p.BEo.ALBUMS_CAROUSEL,objectsCount:a.albums.length,children:(0,i.jsx)(g.wk,{isShimmerVisible:a.isLoading,isShimmerActive:!0,headerClassName:(0,l.W)(G().carouselBlockHeader,G().carouselBlock),containerClassName:G().carouselBlock,albums:a.albums,title:s({id:"entity-names.new-albums"}),viewAllActionLink:"/genre/".concat(a.id,"/albums")})}),a.hasArtists&&(0,i.jsx)(p.Ja5,{blockId:p.BEo.ARTISTS_CAROUSEL,blockType:p.BEo.ARTISTS_CAROUSEL,blockPosX:1,blockPosY:3,blockIdForFrom:p.BEo.ARTISTS_CAROUSEL,objectsCount:a.albums.length,children:(0,i.jsx)(h.HY,{isShimmerVisible:a.isLoading,isShimmerActive:!0,headerClassName:(0,l.W)(G().carouselBlockHeader,G().carouselBlock),containerClassName:G().carouselBlock,title:s({id:"entity-names.popular-artists"}),viewAllActionLink:"/genre/".concat(a.id,"/artists"),children:a.artists.map(e=>(0,i.jsx)(m.IT,{artist:e,contentLinesCount:3},e.id))})})]})})]})}):(0,i.jsx)(c.D,{})})},91477:function(e,t,a){"use strict";a.d(t,{GenrePlaylistsPage:function(){return h}});var i=a(9753),l=a(60836),s=a(9544),n=a(74717),r=a(98639),o=a(80542),u=a(2570),d=a(68106),c=a(36084),g=a(73276),m=a(38527),S=a(3084),E=a(15874),p=a.n(E);let h=(0,s.Pi)(e=>{var t,a,s;let{metatagId:E}=e,{genre:{playlistsSubpage:h}}=(0,m.oR4)(),{formatMessage:y}=(0,o.Z)(),[G,N]=(0,m.zU3)(),v=(0,m.k67)();E&&h.loadingState===m.Gui.IDLE&&(0,r.use)(h.getData({metatagId:E,page:0,pageSize:20}));let b=(0,r.useCallback)(e=>{E&&h.getData({metatagId:E,page:e,pageSize:20})},[h,E]);(0,r.useEffect)(()=>()=>{h.reset()},[h]),h.isNotFound&&(0,n.notFound)(),(0,m.NOh)(h.loadingState===m.Gui.RESOLVE);let C=(0,r.useMemo)(()=>({Footer:()=>(0,i.jsx)(S.$_,{className:p().footer})}),[]);return h.isSomethingWrong?(0,i.jsx)(d.D,{}):(0,i.jsx)(m.Lh6,{pageId:m.Rhz.GENRE_PLAYLISTS,children:(0,i.jsx)(c.I7,{scrollElement:G,outerTitle:h.fullTitle,children:(0,i.jsxs)("div",{className:p().root,children:[(0,i.jsx)(S.h4,{variant:"text",withForwardControl:!1,withBackwardControl:v.canBack,children:(0,i.jsx)(u.Heading,{variant:"h2",weight:"bold",size:"xl",lineClamp:1,children:h.fullTitle})}),(0,i.jsx)(S.Wv,{className:(0,l.W)(p().scrollContainer,p().important),customComponents:C,itemContentCallback:e=>{var t;let a=null==h?void 0:null===(t=h.items)||void 0===t?void 0:t[e],l=y({id:"loading-messages.entity-is-loading"},{entityName:y({id:"entity-names.playlist"})});return a?(0,i.jsx)(g.ZL,{playlist:a,contentLinesCount:3},a.key):(0,i.jsx)(S.hi,{"aria-label":l})},totalCount:null!==(a=null==h?void 0:null===(t=h.pager)||void 0===t?void 0:t.total)&&void 0!==a?a:0,onGetDataByPage:b,pageSize:20,totalRequests:null!==(s=h.requests)&&void 0!==s?s:0,listClassName:p().content,itemClassName:p().item,handleRef:N,context:{listAriaLabel:y({id:"mixes.playlists-list"},{genreName:h.fullTitle||""})}})]})})})})},72636:function(e,t,a){"use strict";a.d(t,{rx:function(){return i.GenresPage},EU:function(){return o}});var i=a(95002);a(49535);var l=a(42288),s=a(10542),n=a(76154),r=a(38527);let o=l.V5.model("GenresPageModel",{title:l.V5.maybeNull(l.V5.string),items:l.V5.array(n.fm),loadingState:l.V5.enumeration(Object.values(r.Gui)),errorStatusCode:l.V5.maybeNull(l.V5.number)}).views(e=>({get isLoading(){return e.loadingState===r.Gui.IDLE||e.loadingState===r.Gui.PENDING},get isNotFound(){let t=e.loadingState===r.Gui.RESOLVE&&0===e.items.length;return e.errorStatusCode===s.CN.NOT_FOUND||t}})).actions(e=>({getData:(0,l.ls)(function*(t){let{landing3Resource:a,modelActionsLogger:i}=(0,l.dU)(e);if(e.loadingState!==r.Gui.PENDING)try{e.loadingState=r.Gui.PENDING;let i=(yield a.getMetatags({})).trees.find(e=>e.navigationId===t);if(!i){e.errorStatusCode=s.CN.NOT_FOUND;return}e.title=i.title,e.items=(0,l.pj)(i.leaves.map(n.uG)),e.loadingState!==r.Gui.IDLE&&(e.loadingState=r.Gui.RESOLVE)}catch(t){i.error(t),t instanceof s.du&&(t.statusCode===s.CN.NOT_FOUND||t.statusCode===s.CN.BAD_REQUEST)&&(e.errorStatusCode=s.CN.NOT_FOUND),e.loadingState!==r.Gui.IDLE&&(e.loadingState=r.Gui.REJECT)}}),reset(){e.loadingState=r.Gui.IDLE,e.title=null,e.items=(0,l.pj)([]),e.errorStatusCode=null}}))},49535:function(e,t,a){"use strict";a.d(t,{GenresNotFoundPage:function(){return s}});var i=a(9753),l=a(23948);let s=()=>(0,i.jsx)(l.T,{})},95002:function(e,t,a){"use strict";a.d(t,{GenresPage:function(){return p}});var i=a(9753),l=a(9544),s=a(74717),n=a(98639),r=a(41055),o=a(2570),u=a(68106),d=a(36084),c=a(76154),g=a(38527),m=a(3084),S=a(69836),E=a.n(S);let p=(0,l.Pi)(e=>{let{navigationId:t}=e,{genres:a}=(0,g.oR4)(),[l,S]=(0,g.zU3)(),p=(0,g.k67)();return((0,n.useEffect)(()=>()=>{a.reset()},[a,t]),a.isNotFound&&(0,s.notFound)(),t&&a.loadingState===g.Gui.IDLE&&(0,n.use)(a.getData(t)),(0,g.NOh)(a.loadingState===g.Gui.RESOLVE),a.loadingState===g.Gui.REJECT)?(0,i.jsx)(u.D,{}):(0,i.jsxs)(d.I7,{scrollElement:l,outerTitle:a.title,children:[(0,i.jsx)(m.h4,{variant:"text",withForwardControl:!1,withBackwardControl:p.canBack,children:(0,i.jsx)(o.Heading,{variant:"h2",weight:"bold",size:"xl",lineClamp:1,children:a.title})}),(0,i.jsx)(r.t,{className:E().root,containerClassName:E().content,ref:S,children:(0,i.jsx)("div",{className:E().list,children:a.items.map(e=>(0,i.jsx)(c.mH,{tag:e.tag,title:e.title,subGenres:e.subGenres},e.tag))})})]})})},34790:function(e,t,a){"use strict";a.d(t,{NonMusicNotFoundPage:function(){return o}});var i=a(9753),l=a(9544),s=a(98639),n=a(23948),r=a(38527);let o=(0,l.Pi)(()=>{let{nonMusic:e}=(0,r.oR4)();return(0,s.useEffect)(()=>()=>{e.landing.reset()},[e.landing]),(0,i.jsx)(n.T,{})})},55549:function(e,t,a){"use strict";a.d(t,{NonMusicPage:function(){return v}});var i=a(9753),l=a(60836),s=a(9544),n=a(74717),r=a(98639),o=a(80542),u=a(31014),d=a(23881),c=a(95695),g=a(41055),m=a(2570),S=a(84799),E=a(68106),p=a(36084),h=a(38527),y=a(3084),G=a(35857),N=a.n(G);let v=(0,s.Pi)(()=>{let{nonMusic:e,user:t}=(0,h.oR4)(),{formatMessage:a}=(0,o.Z)(),[s,G]=(0,h.zU3)();(0,h.RVp)()||(0,n.notFound)(),e.landing.loadingState===h.Gui.IDLE&&(0,r.use)(e.landing.getSkeleton({id:c.jB.WEB_NON_MUSIC,showWizard:t.settings.showWizard},{preloadBlocks:3})),(0,r.useEffect)(()=>()=>e.landing.reset(),[e.landing]),(0,h.NOh)(e.landing.loadingState===h.Gui.RESOLVE);let v=(0,S._B)(e.landing);return(0,i.jsx)(h.Lh6,{pageId:h.Rhz.NON_MUSIC,children:(0,i.jsxs)(p.I7,{scrollElement:s,outerTitle:a({id:"entity-names.podcasts"}),children:[(0,i.jsx)(y.h4,{variant:"text",showControls:!1,children:(0,i.jsx)("div",{className:N().header,children:(0,i.jsx)(m.Heading,{variant:"h2",weight:"bold",size:"xl",children:(0,i.jsx)(u.Z,{id:"entity-names.podcasts"})})})}),(0,i.jsxs)(g.t,{className:N().root,containerClassName:N().content,ref:G,...(0,d.BA)(d.Br.nonMusic.NON_MUSIC_PAGE),children:[(0,i.jsx)("div",{className:(0,l.W)(N().landing,{[N().landing_onlyWizard]:v}),children:(0,i.jsx)(S.Od,{landing:e.landing,errorComponent:(0,i.jsx)(E.D,{className:N().error,withBackwardControl:!1})})}),(0,i.jsx)(y.$_,{className:N().footer})]})]})})})},23976:function(e,t,a){"use strict";a.d(t,{s6:function(){return i.PostPage},vU:function(){return g}});var i=a(18211);a(45833);var l=a(42288),s=a(10542),n=a(99287),r=a(93490),o=a(73276),u=a(33589),d=a(10668),c=a(38527);let g=l.V5.model("PostPage",{errorStatusCode:l.V5.maybe(l.V5.number),loadingState:l.V5.enumeration(Object.values(c.Gui)),title:l.V5.maybeNull(l.V5.string),promotionType:l.V5.maybeNull(l.V5.enumeration(Object.values(n.qe))),artists:l.V5.maybe(l.V5.array(u.Go)),albums:l.V5.maybe(l.V5.array(r.ug)),playlists:l.V5.maybe(l.V5.array(o.d2))}).views(e=>({get isLoading(){return e.loadingState===c.Gui.IDLE||e.loadingState===c.Gui.PENDING},get isNotFound(){let t=e.errorStatusCode===s.CN.NOT_FOUND||e.errorStatusCode===s.CN.BAD_REQUEST;return e.loadingState===c.Gui.REJECT&&t},get isSomethingWrong(){return e.loadingState===c.Gui.REJECT&&!this.isNotFound}})).actions(e=>({getData:(0,l.ls)(function*(t){let{promoId:a}=t,{feedResource:i,modelActionsLogger:n}=(0,l.dU)(e);if(e.loadingState!==c.Gui.PENDING)try{e.loadingState=c.Gui.PENDING;let t=yield i.getPromotionsById({promoId:a});e.title=t.title,e.promotionType=t.promotionType,t.artists&&t.artists.length>0&&(e.artists=(0,l.pj)(t.artists.map(u.d))),t.albums&&t.albums.length>0&&(e.albums=(0,l.pj)(t.albums.map(r.ym))),t.playlists&&t.playlists.length>0&&(e.playlists=(0,l.pj)(t.playlists.map(e=>{let{playlist:t}=e;return(0,d.PV)(t)}))),e.loadingState!==c.Gui.IDLE&&(e.loadingState=c.Gui.RESOLVE)}catch(t){n.error(t),t instanceof s.du&&(t.statusCode===s.CN.NOT_FOUND||t.statusCode===s.CN.BAD_REQUEST)&&(e.errorStatusCode=s.CN.NOT_FOUND),e.loadingState!==c.Gui.IDLE&&(e.loadingState=c.Gui.REJECT)}}),reset(){e.loadingState=c.Gui.IDLE,e.title=null,e.artists=(0,l.pj)([]),e.albums=(0,l.pj)([])}}))},45833:function(e,t,a){"use strict";a.d(t,{PostNotFoundPage:function(){return n}});var i=a(9753),l=a(9544),s=a(23948);let n=(0,l.Pi)(()=>(0,i.jsx)(s.T,{}))},18211:function(e,t,a){"use strict";a.d(t,{PostPage:function(){return R}});var i=a(9753),l=a(9544),s=a(74717),n=a(98639),r=a(95695),o=a(41055),u=a(90679),d=a(2570),c=a(68106),g=a(36084),m=a(38527),S=a(3084),E=a(41949),p=a.n(E);let h=()=>(0,i.jsxs)("div",{className:p().root,children:[(0,i.jsx)(u.Shimmer,{radius:"l",className:p().top}),(0,i.jsx)(u.Shimmer,{radius:"l",className:p().bottom})]});var y=a(90978),G=a.n(y),N=a(93490),v=a(12903),b=a.n(v);let C=(0,l.Pi)(e=>{let{albums:t=[]}=e;return(0,i.jsx)("div",{className:b().root,children:(0,i.jsx)("div",{className:b().content,"aria-labelledby":"post-page-header",tabIndex:0,children:t.map(e=>(0,i.jsx)(N.rf,{className:b().item,album:e,contentLinesCount:3},e.id))})})});var L=a(4491),P=a(13209),_=a.n(P);let I=(0,l.Pi)(e=>{let{artists:t=[]}=e;return(0,i.jsx)("div",{className:_().root,children:(0,i.jsx)("div",{className:_().content,"aria-labelledby":"post-page-header",tabIndex:0,children:t.map(e=>(0,i.jsx)(L.IT,{className:_().item,artist:e,contentLinesCount:3},e.id))})})});var f=a(73276),V=a(39679),D=a.n(V);let T=(0,l.Pi)(e=>{let{playlists:t=[]}=e;return(0,i.jsx)("div",{className:D().root,children:(0,i.jsx)("div",{className:D().content,"aria-labelledby":"post-page-header",tabIndex:0,children:t.map(e=>(0,i.jsx)(f.ZL,{className:D().item,playlist:e,contentLinesCount:3},e.id))})})}),R=(0,l.Pi)(e=>{let{promoId:t}=e,{post:a}=(0,m.oR4)(),l=(0,m.k67)(),[E,p]=(0,m.zU3)();if(t&&a.loadingState===m.Gui.IDLE&&(0,n.use)(a.getData({promoId:t})),(0,n.useEffect)(()=>()=>{a.reset()},[a]),a.isNotFound&&(0,s.notFound)(),(0,m.NOh)(a.loadingState===m.Gui.RESOLVE),a.isSomethingWrong)return(0,i.jsx)(c.D,{});let y=(0,n.useMemo)(()=>{if(a.isLoading)return(0,i.jsx)(h,{});switch(a.promotionType){case r.qe.ARTISTS:return(0,i.jsx)(I,{artists:a.artists});case r.qe.ALBUMS:return(0,i.jsx)(C,{albums:a.albums});case r.qe.PLAYLISTS:return(0,i.jsx)(T,{playlists:a.playlists});default:(0,s.notFound)()}},[a.albums,a.artists,a.isLoading,a.playlists,a.promotionType]);return(0,i.jsx)(m.Lh6,{pageId:m.Rhz.POST,children:(0,i.jsxs)(g.I7,{scrollElement:E,outerTitle:a.title||void 0,children:[(0,i.jsx)(S.h4,{variant:"text",withForwardControl:!1,withBackwardControl:l.canBack,children:a.title?(0,i.jsx)(d.Heading,{id:"post-header",variant:"h2",weight:"bold",size:"xl",lineClamp:1,children:a.title}):(0,i.jsx)(u.Shimmer,{className:G().shimmerTitle,radius:"l"})}),(0,i.jsx)(o.t,{className:G().scrollableContainer,ref:p,children:(0,i.jsx)("div",{className:G().container,children:y})})]})})})},17777:function(e,t,a){"use strict";a.d(t,{SearchHistoryPage:function(){return y}});var i=a(9753),l=a(98780),s=a(9544),n=a(98639),r=a(80542),o=a(31014),u=a(23881),d=a(39513),c=a(28852),g=a(41055),m=a(2570),S=a(23194),E=a(38527),p=a(15739),h=a.n(p);let y=(0,s.Pi)(()=>{var e;let t=(0,E.uK4)().get(E.U5t),{search:a,user:s,settings:p,experiments:y}=(0,E.oR4)(),{formatMessage:G}=(0,r.Z)(),N=(0,E.k67)(),v=(0,n.useRef)(!1),b=(0,n.useRef)(null),C=(0,S.vy)(()=>{v.current=!0}),L=p.layout===E.t8m.Mobile,P=a.history.items.length;a.isHistoryReady&&(null===(e=s.account)||void 0===e?void 0:e.uid)&&(0,n.use)(a.getHistory({userId:s.account.uid,config:t,experiments:y})),(0,n.useEffect)(()=>{b.current&&N.canBack&&b.current.focus()},[N.canBack]),(0,n.useEffect)(()=>()=>{(null==v?void 0:v.current)?(a.resetHistoryItems(),v.current=!1):a.resetHistoryStateRequest()},[a]);let _=(0,n.useMemo)(()=>(0,l.Z)(()=>{null==N||N.back()},200),[N]),I=(0,n.useMemo)(()=>P?(0,i.jsx)("div",{className:h().items,children:a.history.items.map(S.Fu).filter(e=>!!e)}):(0,i.jsx)(m.Caption,{className:h().emptyHistory,variant:"div",size:"m",type:"text",children:(0,i.jsx)(o.Z,{id:"search.history-empty"})}),[a.history.items,P]);return(0,i.jsx)("div",{className:h().root,...(0,u.BA)(u.Br.search.SEARCH_HISTORY_PAGE),children:(0,i.jsxs)(g.t,{className:h().scrollContent,containerClassName:h().scrollContainer,children:[(0,i.jsxs)("div",{className:h().header,children:[(0,i.jsxs)("div",{className:h().title,children:[N.canBack&&(0,i.jsx)(d.z,{ref:b,"aria-label":G({id:"navigation.go-back"}),radius:"round",disabled:!N.canBack,size:"s",icon:(0,i.jsx)(c.J,{size:"xxs",variant:"arrowLeft"}),onClick:_}),(0,i.jsx)(m.Heading,{variant:"h2",size:L?"m":"xl",children:(0,i.jsx)(o.Z,{id:"search.history"})})]}),(0,i.jsx)(d.z,{"aria-label":G({id:"search.clear-history"}),radius:"xxxl",variant:"outline",disabled:!P,size:L?"s":"default",onClick:C,children:(0,i.jsx)(m.Caption,{variant:"span",size:"m",type:"text",children:(0,i.jsx)(o.Z,{id:"search.clear-history"})})})]}),!a.isHistoryLoading&&I]})})})},55805:function(e,t,a){"use strict";a.d(t,{SearchPage:function(){return C}});var i=a(9753),l=a(60836),s=a(98780),n=a(9544),r=a(74717),o=a(98639),u=a(80542),d=a(23881),c=a(95695),g=a(41055),m=a(54950),S=a(14102),E=a(21901),p=a(23194),h=a(38527),y=a(3084);let G=[c.ay.TOP,c.ay.TRACK,c.ay.ALBUM,c.ay.ARTIST,c.ay.PLAYLIST,c.ay.PODCAST,c.ay.BOOK],N=()=>{let e=(0,h.RVp)(),{experiments:t}=(0,h.oR4)();return G.filter(a=>{if((a!==c.ay.PODCAST||e||t.checkExperiment(h.peG.WebNextPodcastSearch,"on"))&&(a!==c.ay.BOOK||e||t.checkExperiment(h.peG.WebNextBookSearch,"on")))return a})};var v=a(77722),b=a.n(v);let C=(0,n.Pi)(()=>{let e=(0,S.useTabsState)(0),[t,a]=(0,o.useState)(c.ay.TOP),[n,v]=(0,o.useState)(!1),{formatMessage:C}=(0,u.Z)(),{search:L,experiments:P}=(0,h.oR4)(),_=(0,h.uK4)().get(h.U5t),I=N();P.checkExperiment(h.peG.WebNextDisableSearch,"on")&&(0,r.redirect)("/");let[f,V]=(0,o.useState)(""),D=f.length>0;(0,o.useEffect)(()=>()=>{L.reset()},[L]);let T=(0,o.useCallback)((e,t)=>{L.resetResults(),0!==e.length&&L.getSearchResults({text:decodeURIComponent(e),filter:t,config:_,experiments:P})},[L,_,P]),R=(0,o.useCallback)(e=>{let a=encodeURIComponent(e.trim());V(a),T(a,t),L.resetSearchCorrectedText(),v(!1)},[L,T,t,v]),x=(0,o.useCallback)(()=>{v(!0)},[v]),A=(0,o.useMemo)(()=>(0,s.Z)(t=>{var i;if(!e.onTabChange||t===e.value)return;e.onTabChange(t);let l=null!==(i=G[t])&&void 0!==i?i:c.ay.TOP;a(l),T(f,l)},300),[T,f,e]),k=(0,o.useMemo)(()=>e=>{let{id:t,type:a,blockPosition:i,position:l,feedbackType:s}=e;L.sendFeedback({blockType:a,entityId:"".concat(a,":").concat(t),timestamp:new Date().toISOString(),searchRequestId:L.searchRequestId,query:f,clickType:s,blockPosition:i,position:l,page:0})},[L,f]),j=(0,o.useMemo)(()=>L.searchCorrectedText?(0,i.jsx)(p.gK,{searchCorrectedText:L.searchCorrectedText,onCorrectText:x}):null,[x,L.searchCorrectedText]),O=(0,o.useMemo)(()=>{if(!L.isLoading&&0===L.results.length)return(0,i.jsx)(p.hF,{searchCorrectedText:j});switch(t){case c.ay.TOP:return(0,i.jsx)(p.Id,{className:b().searchResults,isLoading:L.isLoading,results:L.results,sendSearchFeedback:k,searchCorrectedText:j});case c.ay.TRACK:return(0,i.jsx)(p.XM,{className:b().searchResults,isLoading:L.isLoading,results:L.results,sendSearchFeedback:k,searchCorrectedText:j});case c.ay.ALBUM:return(0,i.jsx)(p.xz,{className:b().searchResults,isLoading:L.isLoading,results:L.results,filter:c.ay.ALBUM,sendSearchFeedback:k,searchCorrectedText:j});case c.ay.PLAYLIST:return(0,i.jsx)(p.xz,{className:b().searchResults,isLoading:L.isLoading,results:L.results,filter:c.ay.PLAYLIST,sendSearchFeedback:k,searchCorrectedText:j});case c.ay.ARTIST:return(0,i.jsx)(p.xz,{className:b().searchResults,isLoading:L.isLoading,results:L.results,filter:c.ay.ARTIST,sendSearchFeedback:k,searchCorrectedText:j});case c.ay.PODCAST:return(0,i.jsx)(p.R_,{className:b().searchResults,isLoading:L.isLoading,results:L.results,sendSearchFeedback:k,searchCorrectedText:j});case c.ay.BOOK:return(0,i.jsx)(p.xz,{className:b().searchResults,isLoading:L.isLoading,results:L.results,filter:c.ay.BOOK,sendSearchFeedback:k,searchCorrectedText:j});default:return j}},[L.isLoading,L.results,t,k,j]),w=(0,o.useMemo)(()=>f.length>0?O:(0,i.jsxs)(g.t,{className:b().scrollableContent,containerClassName:b().main,children:[(0,i.jsx)(o.Suspense,{children:(0,i.jsx)(h.Ja5,{blockId:h.BEo.SEARCH_HISTORY,blockType:h.BEo.SEARCH_HISTORY,blockPosX:1,blockPosY:1,blockIdForFrom:h.BEo.SEARCH_HISTORY,objectsCount:L.history.items.length,children:(0,i.jsx)(p.y9,{})})}),(0,i.jsx)(o.Suspense,{children:(0,i.jsx)(E.JG,{})}),(0,i.jsx)(y.$_,{className:b().footer})]}),[f.length,O,L.history.items.length]),U=(0,o.useMemo)(()=>({top:C({id:"search-filters.top"}),track:C({id:"search-filters.track"}),album:C({id:"search-filters.album"}),artist:C({id:"search-filters.artist"}),playlist:C({id:"search-filters.playlist"}),podcast:C({id:"search-filters.podcast"}),book:C({id:"search-filters.book"})}),[C]);return(0,i.jsx)(h.Lh6,{pageId:h.Rhz.SEARCH,children:(0,i.jsxs)("div",{className:(0,l.W)(b().root,{[b().root_showFilters]:D}),...(0,d.BA)(d.Br.search.SEARCH_PAGE),children:[(0,i.jsxs)("div",{className:b().header,children:[(0,i.jsx)(m.M,{className:b().input,autoFocus:!0,initialValue:f,placeholder:C({id:"search.input-placeholder"}),onChange:R,resetButtonAriaLabel:C({id:"interface-actions.reset-search-input"}),correctedValue:n?L.searchCorrectedText:null}),D&&(0,i.jsx)(y.no,{className:b().tabCarousel,...e,onTabChange:A,children:I.map((t,a)=>(0,i.jsx)(y.OK,{className:(0,l.W)(b().filter,{[b().filter_selected]:a===e.value}),title:U[t],value:a},a))})]}),(0,i.jsx)("div",{className:b().content,children:w})]})})})},20070:function(e,t,a){"use strict";a.d(t,{uj:function(){return i.TagPage},tS:function(){return u}});var i=a(42751);a(29223);var l=a(42288),s=a(10542),n=a(10668),r=a(38527),o=a(395);let u=l.V5.model("TagPage",{title:l.V5.maybe(l.V5.string),errorStatusCode:l.V5.maybeNull(l.V5.number),tagLoadingState:l.V5.enumeration(Object.values(r.Gui)),playlistsLoadingState:l.V5.enumeration(Object.values(r.Gui)),playlistsData:l.V5.array(l.V5.model({uid:l.V5.number,kind:l.V5.number})),playlists:l.V5.array(l.V5.maybeNull(n.Cd)),pager:l.V5.maybeNull(o.Vn),alreadyRequestedPages:l.V5.map(l.V5.number),pendingPages:l.V5.map(l.V5.number),requests:l.V5.maybeNull(l.V5.number)}).views(e=>({get isNotFound(){let t=e.playlistsLoadingState===r.Gui.RESOLVE&&0===e.playlists.length;return(e.tagLoadingState===r.Gui.REJECT||e.playlistsLoadingState===r.Gui.REJECT)&&(e.errorStatusCode===s.CN.NOT_FOUND||e.errorStatusCode===s.CN.BAD_REQUEST)||t}})).actions(e=>{let t={getPlaylists:(0,l.ls)(function*(t){let{page:a=0,pageSize:i=20}=t,{playlistsResource:o,modelActionsLogger:u}=(0,l.dU)(e);if(!(e.tagLoadingState!==r.Gui.RESOLVE||e.playlistsLoadingState===r.Gui.PENDING&&e.pendingPages.has("".concat(a))||e.alreadyRequestedPages.has("".concat(a)))){e.alreadyRequestedPages.set("".concat(a),a);try{var d;e.playlistsLoadingState=r.Gui.PENDING,e.pendingPages.set("".concat(a),a);let t=a*i,s=e.playlistsData.slice(t,t+i),u=yield o.getPlaylists({playlistIds:s.map(e=>"".concat(e.uid,":").concat(e.kind)),resumeStream:!1});e.requests=(null!==(d=e.requests)&&void 0!==d?d:0)+1;let c={page:a,perPage:i,total:e.playlistsData.length};0===e.playlists.length&&(e.playlists=(0,l.pj)(Array.from({length:c.total},()=>null)));let g=u.playlists.map(n.PV);(0,r.AG_)({items:e.playlists,mappedRawItems:g,page:a,pageSize:i}),e.pager=c,e.playlistsLoadingState!==r.Gui.IDLE&&(e.playlistsLoadingState=r.Gui.RESOLVE)}catch(t){u.error(t),t instanceof s.du&&(t.statusCode===s.CN.NOT_FOUND||t.statusCode===s.CN.BAD_REQUEST)&&(e.errorStatusCode=s.CN.NOT_FOUND),e.playlistsLoadingState!==r.Gui.IDLE&&(e.playlistsLoadingState=r.Gui.REJECT)}finally{e.pendingPages.delete("".concat(a))}}}),reset(){e.tagLoadingState=r.Gui.IDLE,e.playlistsLoadingState=r.Gui.IDLE,e.alreadyRequestedPages.clear(),e.pendingPages.clear(),e.title=void 0,e.playlistsData=(0,l.pj)([]),e.playlists=(0,l.pj)([]),e.errorStatusCode=null},getTag:(0,l.ls)(function*(a){let{id:i,page:n=0,pageSize:o=20}=a,{tagResource:u,modelActionsLogger:d}=(0,l.dU)(e);if(e.tagLoadingState!==r.Gui.PENDING)try{var c;e.tagLoadingState=r.Gui.PENDING;let a=yield u.getPlaylistIds({id:i});e.title=null===(c=a.tag)||void 0===c?void 0:c.name,e.playlistsData=(0,l.pj)(a.ids.map(e=>({uid:e.uid,kind:e.kind}))),e.tagLoadingState!==r.Gui.IDLE&&(e.tagLoadingState=r.Gui.RESOLVE),yield t.getPlaylists({page:n,pageSize:o})}catch(t){d.error(t),t instanceof s.du&&(t.statusCode===s.CN.NOT_FOUND||t.statusCode===s.CN.BAD_REQUEST)&&(e.errorStatusCode=s.CN.NOT_FOUND),e.tagLoadingState!==r.Gui.IDLE&&(e.tagLoadingState=r.Gui.REJECT)}})};return t})},29223:function(e,t,a){"use strict";a.d(t,{TagNotFoundPage:function(){return n}});var i=a(9753),l=a(9544),s=a(23948);let n=(0,l.Pi)(()=>(0,i.jsx)(s.T,{}))},42751:function(e,t,a){"use strict";a.d(t,{TagPage:function(){return h}});var i=a(9753),l=a(60836),s=a(9544),n=a(74717),r=a(98639),o=a(80542),u=a(2570),d=a(68106),c=a(36084),g=a(73276),m=a(38527),S=a(3084),E=a(91631),p=a.n(E);let h=(0,s.Pi)(e=>{var t,a,s;let{tagId:E}=e,{tag:h}=(0,m.oR4)(),{formatMessage:y}=(0,o.Z)(),[G,N]=(0,m.zU3)(),v=(0,m.k67)();E||(0,n.notFound)();let b=(0,r.useCallback)(e=>{h.getPlaylists({page:e,pageSize:20})},[h]);h.tagLoadingState===m.Gui.IDLE&&(0,r.use)(h.getTag({id:E,page:0,pageSize:20})),h.isNotFound&&(0,n.notFound)(),(0,r.useEffect)(()=>()=>{h.reset()},[h]);let C=(0,r.useMemo)(()=>({Footer:()=>(0,i.jsx)(S.$_,{className:p().footer})}),[]);return((0,m.NOh)(h.tagLoadingState===m.Gui.RESOLVE&&h.playlistsLoadingState===m.Gui.RESOLVE),h.tagLoadingState!==m.Gui.REJECT&&h.playlistsLoadingState!==m.Gui.REJECT||h.isNotFound)?(0,i.jsx)(m.Lh6,{pageId:m.Rhz.TAG,children:(0,i.jsx)(c.I7,{scrollElement:G,outerTitle:h.title,children:(0,i.jsxs)("div",{className:p().root,children:[(0,i.jsx)(S.h4,{variant:"text",withForwardControl:!1,withBackwardControl:v.canBack,children:(0,i.jsx)(u.Heading,{variant:"h2",weight:"bold",size:"xl",lineClamp:1,children:h.title})}),(0,i.jsx)(S.Wv,{className:(0,l.W)(p().scrollContainer,p().important),customComponents:C,itemContentCallback:e=>{var t;let a=null==h?void 0:null===(t=h.playlists)||void 0===t?void 0:t[e],l=y({id:"loading-messages.entity-is-loading"},{entityName:y({id:"entity-names.playlist"})});return a?(0,i.jsx)(g.ZL,{playlist:a,contentLinesCount:3},a.key):(0,i.jsx)(S.hi,{"aria-label":l})},totalCount:null!==(a=null==h?void 0:null===(t=h.pager)||void 0===t?void 0:t.total)&&void 0!==a?a:0,onGetDataByPage:b,pageSize:20,totalRequests:null!==(s=h.requests)&&void 0!==s?s:0,listClassName:p().content,itemClassName:p().item,handleRef:N,context:{listAriaLabel:y({id:"mixes.albums-list"},{genreName:h.title||""})}})]})})}):(0,i.jsx)(d.D,{})})},21901:function(e,t,a){"use strict";a.d(t,{JG:function(){return i.Mixes},RB:function(){return l.MixesGrid},ZP:function(){return c}});var i=a(8564),l=a(54140),s=a(42288),n=a(10542),r=a(95695),o=a(48606),u=a(38527);let d=e=>({items:(0,s.pj)(e.items.map(e=>(0,o.Fh)(e.data)))}),c=s.V5.model("Mixes",{loadingState:s.V5.enumeration(Object.values(u.Gui)),items:s.V5.array(o.zn),errorStatusCode:s.V5.maybeNull(s.V5.number)}).actions(e=>({getMixes:(0,s.ls)(function*(t){let{landingResource:a,modelActionsLogger:i}=(0,s.dU)(e);if(e.loadingState!==u.Gui.PENDING)try{e.loadingState=u.Gui.PENDING;let i=yield a.getBlock({uri:"/landing/block/mixes",fullList:t},r.gQ.MIXES);e.items=d(i).items,e.loadingState=u.Gui.RESOLVE}catch(t){i.error(t),t instanceof n.du&&(t.statusCode===n.CN.NOT_FOUND||t.statusCode===n.CN.BAD_REQUEST)&&(e.errorStatusCode=n.CN.NOT_FOUND),e.loadingState!==u.Gui.IDLE&&(e.loadingState=u.Gui.REJECT)}})})).views(e=>({get isLoading(){return e.loadingState===u.Gui.IDLE||e.loadingState===u.Gui.PENDING},get isRejected(){return e.loadingState===u.Gui.REJECT},get isNotFound(){let t=e.loadingState===u.Gui.RESOLVE&&0===e.items.length;return e.errorStatusCode===n.CN.NOT_FOUND||t}}))},8564:function(e,t,a){"use strict";a.d(t,{Mixes:function(){return E}});var i=a(9753),l=a(9544),s=a(98639),n=a(38527),r=a(80542),o=a(5993),u=a(48606),d=a(3084),c=a(66051),g=a.n(c);let m=(0,l.Pi)(e=>{let{isShimmerVisible:t,isShimmerActive:a,mixes:l}=e,{formatMessage:n}=(0,r.Z)(),c=(0,s.useMemo)(()=>t?(0,d.Cl)({isActive:a,withInfo:!1}):l.map(e=>(0,i.jsx)(u.GX,{title:e.title,weblink:e.weblink,covers:e.covers,coverSize:80,imagesLayoutType:e.imagesLayoutType},e.id)),[a,t,l]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.ti,{className:g().carouselHeader,title:n({id:"entity-names.mixes"}),titleSize:"xs",viewAllActionLink:"/mixes"}),(0,i.jsx)(o.l,{className:g().carouselBlock,itemClassName:g().mixItem,children:c})]})});var S=a(54140);let E=(0,l.Pi)(()=>{let{settings:e,search:t}=(0,n.oR4)(),a=e.layout===n.t8m.Mobile;return(t.mixes.loadingState===n.Gui.IDLE&&(0,s.use)(t.mixes.getMixes(!1)),a)?(0,i.jsx)(m,{isShimmerVisible:t.mixes.isLoading||t.mixes.isRejected,isShimmerActive:t.mixes.isLoading,mixes:t.mixes.items}):(0,i.jsx)(S.MixesGrid,{isShimmerVisible:t.mixes.isLoading||t.mixes.isRejected,isShimmerActive:t.mixes.isLoading,mixes:t.mixes.items,withTitle:!0})})},54140:function(e,t,a){"use strict";a.d(t,{MixesGrid:function(){return g}});var i=a(9753),l=a(9544),s=a(98639),n=a(31014),r=a(2570),o=a(48606),u=a(3084),d=a(8104),c=a.n(d);let g=(0,l.Pi)(e=>{let{isShimmerVisible:t,isShimmerActive:a,withTitle:l,mixes:d,shimmerCount:g=5}=e,m=(0,s.useMemo)(()=>t?(0,i.jsx)(u.Wm,{isActive:a,round:!1,centered:!1,withInfo:!1,count:g}):d.map(e=>(0,i.jsx)(o.GX,{title:e.title,weblink:e.weblink,covers:e.covers,imagesLayoutType:e.imagesLayoutType},e.id)),[a,t,d,g]);return(0,i.jsxs)("div",{children:[l&&(0,i.jsx)(r.Heading,{className:c().mixesTitle,size:"s",weight:"bold",variant:"h3",children:(0,i.jsx)(n.Z,{id:"entity-names.mixes"})}),(0,i.jsx)("div",{className:c().mixesGrid,children:m})]})})},78914:function(e){e.exports={root:"Genre_root__80dlk",link:"Genre_link__Wewaq",linkTitle:"Genre_linkTitle__ORAsw",list:"Genre_list__C2Pxf"}},10929:function(e){e.exports={root:"ChartPage_root__JwQua",container:"ChartPage_container__mdNLA",scrollContent:"ChartPage_scrollContent__Hz3LW",scrollContainer:"ChartPage_scrollContainer__VJzA3",important:"ChartPage_important__HCgQ4",content:"ChartPage_content__adrCP",footer:"ChartPage_footer__JyfRg",shimmerItem:"ChartPage_shimmerItem__n3Z_s"}},40489:function(e){e.exports={root:"GenreAlbumsPage_root__r_Sts",scrollContent:"GenreAlbumsPage_scrollContent__sBMMq",scrollContainer:"GenreAlbumsPage_scrollContainer__K_v_b",important:"GenreAlbumsPage_important__r3P2T",footer:"GenreAlbumsPage_footer__vmCiR",item:"GenreAlbumsPage_item__zRzB0",content:"GenreAlbumsPage_content__PRJUm"}},6380:function(e){e.exports={root:"GenreArtistsPage_root__PgtIz",scrollContent:"GenreArtistsPage_scrollContent__fDonT",scrollContainer:"GenreArtistsPage_scrollContainer__s_HLR",important:"GenreArtistsPage_important__YxR3i",footer:"GenreArtistsPage_footer__fYaCO",item:"GenreArtistsPage_item__OX8zl",content:"GenreArtistsPage_content__cz47x"}},60015:function(e){e.exports={root:"GenrePage_root___kL_v",content:"GenrePage_content__NRwAJ",shimmerTitle:"GenrePage_shimmerTitle__hrgjK",carouselBlocks:"GenrePage_carouselBlocks__kR63B",carouselBlock:"GenrePage_carouselBlock__QCkpK",carouselBlockHeader:"GenrePage_carouselBlockHeader__u12sn"}},15874:function(e){e.exports={root:"GenrePlaylistsPage_root__WZwkl",scrollContent:"GenrePlaylistsPage_scrollContent__rahSG",scrollContainer:"GenrePlaylistsPage_scrollContainer__N3BZw",important:"GenrePlaylistsPage_important__986BX",footer:"GenrePlaylistsPage_footer__aMDul",item:"GenrePlaylistsPage_item__tUsqJ",content:"GenrePlaylistsPage_content__2rKJY"}},69836:function(e){e.exports={root:"GenresPage_root__LhP_S",shimmerTitle:"GenresPage_shimmerTitle__4j8uH",content:"GenresPage_content__yhKrQ",list:"GenresPage_list__l2Cuc"}},35857:function(e){e.exports={root:"NonMusicPage_root__IPKkH",content:"NonMusicPage_content__7_TYy",header:"NonMusicPage_header__dijgk",landing:"NonMusicPage_landing__kGKTh",landing_onlyWizard:"NonMusicPage_landing_onlyWizard__P9nN3",footer:"NonMusicPage_footer__juz5v",error:"NonMusicPage_error__oW0V3"}},90978:function(e){e.exports={scrollableContainer:"PostPage_scrollableContainer__iV9Bo",container:"PostPage_container__orSfz",shimmerTitle:"PostPage_shimmerTitle__EeFCD"}},12903:function(e){e.exports={root:"PostAlbums_root__u2a1q",content:"PostAlbums_content__uMSez"}},13209:function(e){e.exports={root:"PostArtists_root__Zxmjq",content:"PostArtists_content__JzGOH"}},39679:function(e){e.exports={root:"PostPlaylists_root__3tea0",content:"PostPlaylists_content__2fXI5"}},41949:function(e){e.exports={root:"PostShimmer_root__MlLkY",top:"PostShimmer_top__ySpmZ",bottom:"PostShimmer_bottom__ajW_P"}},15739:function(e){e.exports={root:"SearchHistoryPage_root__Wbvyf",title:"SearchHistoryPage_title__gnJuo",header:"SearchHistoryPage_header__YdTG5",scrollContainer:"SearchHistoryPage_scrollContainer__ScAez",scrollContent:"SearchHistoryPage_scrollContent__5AXWC",content:"SearchHistoryPage_content__iPgVO",desktopItem:"SearchHistoryPage_desktopItem__Xv9C_",items:"SearchHistoryPage_items___okS8",emptyHistory:"SearchHistoryPage_emptyHistory__gzfUu"}},77722:function(e){e.exports={header:"SearchPage_header__BOkdn",root:"SearchPage_root__i7sE0",root_showFilters:"SearchPage_root_showFilters__reB44",input:"SearchPage_input__TSbxK",content:"SearchPage_content__ycqK5",scrollableContent:"SearchPage_scrollableContent__gzoBu",main:"SearchPage_main__FV4Cr",tabCarousel:"SearchPage_tabCarousel__9cWOl",filter:"SearchPage_filter__5xzTL",filter_selected:"SearchPage_filter_selected__FOfyJ",compilations:"SearchPage_compilations__52N9u",footer:"SearchPage_footer__20bvg"}},91631:function(e){e.exports={root:"TagPage_root__EWN9A",scrollContainer:"TagPage_scrollContainer__lvG_1",important:"TagPage_important__Jq37E",content:"TagPage_content__rUC_l",footer:"TagPage_footer__W0mZr",item:"TagPage_item__X_lW7"}},66051:function(e){e.exports={carouselBlock:"MixesCarousel_carouselBlock__ZpMU2",carouselHeader:"MixesCarousel_carouselHeader__6mMHX",mixItem:"MixesCarousel_mixItem__YNSsB"}},8104:function(e){e.exports={mixesTitle:"MixesGrid_mixesTitle__QawnL",mixesGrid:"MixesGrid_mixesGrid__uZQtt"}},40350:function(e,t,a){"use strict";a.d(t,{NS:function(){return s},JC:function(){return r},$V:function(){return g},tg:function(){return c}}),a(78615);var i=a(36219);function l(e){if(!e)return null;try{return JSON.parse(e)}catch(e){return console.error(e),null}}class s{get(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],a=(0,i.U2)(e);if(t){var s,n;return null!==(n=null===(s=l(a))||void 0===s?void 0:s.value)&&void 0!==n?n:null}return a||null}set(e,t,a){let l=!(arguments.length>3)||void 0===arguments[3]||arguments[3];try{let s=l?JSON.stringify({value:t}):t;(0,i.t8)(e,s,a)}catch(e){console.error(e)}}has(e){return!!this.get(e)}remove(e){(0,i.Od)(e)}}let n=e=>864e5*e;class r{get(e){{var t;let a=l(window.localStorage.getItem(e)||void 0);if(!a)return null;let i=null!==(t=null==a?void 0:a.value)&&void 0!==t?t:null;return(null==a?void 0:a.expires)&&Date.now()>new Date(a.expires).getTime()?(this.remove(e),null):i}}set(e,t,a){if("number"==typeof(null==a?void 0:a.expires)){let e=new Date;e.setMilliseconds(e.getMilliseconds()+n(a.expires)),a.expires=e}window.localStorage.setItem(e,JSON.stringify({value:t,...a}))}has(e){return!!this.get(e)}remove(e){window.localStorage.removeItem(e)}}var o=a(8655),u=a(37810);class d extends u.y{constructor(e,t,{code:a="E_STORAGE",...i}={}){super("There is no ".concat(t," storage on the ").concat(e," platform"),{code:a,...i}),(0,o._)(this,"name","Storage Exception"),Object.setPrototypeOf(this,d.prototype)}}class c{get(e){throw new d(this.platform,this.type)}set(e,t,a){throw new d(this.platform,this.type)}has(e){throw new d(this.platform,this.type)}remove(e){throw new d(this.platform,this.type)}constructor(e,t){(0,o._)(this,"platform",""),(0,o._)(this,"type",""),this.platform=e,this.type=t}}class g{get(e){var t,a,i;return null!==(i=null===(t=l(null!==(a=window.sessionStorage.getItem(e))&&void 0!==a?a:void 0))||void 0===t?void 0:t.value)&&void 0!==i?i:null}set(e,t){window.sessionStorage.setItem(e,JSON.stringify({value:t}))}has(e){return!!this.get(e)}remove(e){window.sessionStorage.removeItem(e)}}}}]);