"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2005],{52005:function(e,t,r){r.d(t,{createClientContainer:function(){return I}});var i=r(61185),n=r(9617),o=r(23645),a=r(66680),s=r(45113),l=r(31256),g=r(51179),c=r(40350),u=r(66337),p=r(8655),m=r(97230),d=r(49080),f=r(38885);class h extends f.z{getRedirectUri(){let e="".concat(this.pathname).concat(this.searchParams?"?".concat(this.searchParams):"");return encodeURIComponent("https://".concat(this.host).concat(e))}get authorizationUrl(){if(!this.host||!this.tld)return;let{passportCredentials:{host:e,origin:t}}=this.config,r=(0,i.z)(e,this.tld,d.M),n=this.getRedirectUri();return"".concat(r,"/auth?origin=").concat(t,"&retpath=").concat(n,"&language=").concat(this.language)}get token(){}constructor(e,t,r){super(e,t),(0,p._)(this,"language",void 0),this.language=r}}class U extends h{setPassportLoginCookieObserver(){setInterval(this.checkPassportLoginCookieChange.bind(this),5e3)}checkPassportLoginCookieChange(){this.passportLogin!==this.passportLoginCached&&(this.passportLoginCached=this.passportLogin,this.reloadPage())}reloadPage(){window.location.reload()}redirectToAuthorizationUrl(){this.authorizationUrl&&(window.location.href=this.authorizationUrl)}get passportLogin(){return this.storage.get(m.B.YandexLogin,!1)||void 0}get hasAuthorizationCredentials(){return!!this.storage.get(m.B.YandexLogin,!1)}async check(){}constructor(e,t,r){super(e,t,r),(0,p._)(this,"passportLoginCached",void 0),this.passportLoginCached=this.passportLogin,this.setPassportLoginCookieObserver()}}var w=r(81541);class x{onChangeLanguage(e){if("string"==typeof this.token&&this.token.length>0){let t="https://yandex.".concat(this.tld,"/portal/set/lang/"),r=encodeURIComponent(window.location.href),i="".concat(t,"?intl=").concat(e,"&retpath=").concat(r,"&sk=").concat(this.token);window.location.assign(i)}else window.location.reload()}constructor(e,t){(0,p._)(this,"tld",void 0),(0,p._)(this,"token",void 0),this.tld=e,this.token=t}}var L=r(8234),R=r(2188),v=r(5066),y=r(42461),k=r(52821),E=r(20958);let z=e=>{if(e&&"object"==typeof e&&"type"in e&&"captcha"===e.type){let{captcha:t}=e;if(t&&t["captcha-page"])return!0}return!1},S=e=>{let t;try{let r=e.map(e=>{let t=new URL(e);return"".concat(t.protocol).concat(t.hostname.split(".").slice(-2).join("."))});t=r.every(e=>e===r[0])}catch(e){t=!1}return t},b=/^application\/json(;\s?charset=\S+)?$/;class M{async afterResponse(e){try{if(!e.headers["content-range"]&&e.headers["content-type"]&&b.test(e.headers["content-type"])){let t=await e.clone().json();if(z(t)){let{captcha:e}=t;window.location.replace(e["captcha-page"])}}}catch(e){e instanceof Error&&this.logger.error(e)}return e}beforeRequest(e){let t=window.location.href;S([t,e.url])&&(e.headers.set("X-Requested-With","XMLHttpRequest"),e.headers.set("X-Retpath-Y",t))}get afterResponseHook(){return this.afterResponse.bind(this)}get beforeRequestHook(){return this.beforeRequest.bind(this)}constructor(e){(0,p._)(this,"logger",void 0),this.logger=e}}var A=r(36648);async function I(e){let{tld:t,env:r,serverDetectedLang:p,changeLanguageToken:f}=e,h=(0,A.n)(await (0,w.i)(r));return new n.s1().registerMany({[E.U5]:(0,n.ri)(()=>h),[E.Hz]:(0,n.ri)(()=>new y.E),[E.P0]:(0,n.ri)(()=>new l.j({maxLogLevel:s.B$.DEBUG,secureFields:v.B,disableLogToConsole:!0})),[E.DR]:(0,n.ri)(()=>new((0,R.c)(l.j))({maxLogLevel:s.B$.DEBUG,secureFields:v.B,disableLogToConsole:!0})),[E.V0]:(0,n.ri)(()=>new c.NS),[E.Xt]:(0,n.ri)(()=>new c.NS),[E.ce]:(0,n.ri)(()=>new c.JC),[E.Ar]:(0,n.ri)(()=>new c.$V),[E.SL]:(0,n.ri)(e=>{let r=e.get(E.V0),i=e.get(E.P0);return new L.h({config:a.w8[k.J],serverDetectedLang:p,logger:i,enableLanguageChanging:"on"===r.get(m.B.EnableChangingLanguage),changeLanguageHandler:new x(t,f),storage:{get:()=>r.get(m.B.SavedUserLanguage,!1),set(e){r.set(m.B.SavedUserLanguage,e,{path:"/",domain:"".concat(k.J,".").concat(t)},!1)}}})})}).registerMany({[E.pI]:(0,n.d5)(e=>function(){var t,r,i,n,a,s;let l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},g=e.get(E.P0),{resources:{musicExternalApi:c}}=e.get(E.U5),u=e.get(E.Hz),p=new v.D(g,u),m=new M(g);return l.timeout=c.defaultTimeout,l.hooks={afterResponse:[m.afterResponseHook,...(null==l?void 0:null===(t=l.hooks)||void 0===t?void 0:t.afterResponse)||[]],afterTimeout:[p.afterTimeoutHook,...(null==l?void 0:null===(r=l.hooks)||void 0===r?void 0:r.afterTimeout)||[]],beforeError:[p.beforeErrorHook,...(null==l?void 0:null===(i=l.hooks)||void 0===i?void 0:i.beforeError)||[]],beforeRequest:[m.beforeRequestHook,...(null==l?void 0:null===(n=l.hooks)||void 0===n?void 0:n.beforeRequest)||[]],beforeRetry:[p.beforeRetryHook,...(null==l?void 0:null===(a=l.hooks)||void 0===a?void 0:a.beforeRetry)||[]],onRequestDone:[...(null==l?void 0:null===(s=l.hooks)||void 0===s?void 0:s.onRequestDone)||[]]},new o.w(l)}),[E.Dw]:(0,n.d5)(e=>function(){var t,r,i,n,a,s;let l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},g=e.get(E.P0),{resources:{musicExternalApi:c}}=e.get(E.U5),u=e.get(E.Hz),p=new v.D(g,u);return l.timeout=c.defaultTimeout,l.hooks={afterResponse:[...(null==l?void 0:null===(t=l.hooks)||void 0===t?void 0:t.afterResponse)||[]],afterTimeout:[p.afterTimeoutHook,...(null==l?void 0:null===(r=l.hooks)||void 0===r?void 0:r.afterTimeout)||[]],beforeError:[p.beforeErrorHook,...(null==l?void 0:null===(i=l.hooks)||void 0===i?void 0:i.beforeError)||[]],beforeRequest:[...(null==l?void 0:null===(n=l.hooks)||void 0===n?void 0:n.beforeRequest)||[]],beforeRetry:[p.beforeRetryHook,...(null==l?void 0:null===(a=l.hooks)||void 0===a?void 0:a.beforeRetry)||[]],onRequestDone:[...(null==l?void 0:null===(s=l.hooks)||void 0===s?void 0:s.onRequestDone)||[]]},new o.w(l)}),[E.xi]:(0,n.ri)(e=>new U(e.get(E.Xt),e.get(E.U5),e.get(E.SL).getLanguage()))}).registerMany({[E.c5]:(0,n.ri)(e=>{let{resources:r}=e.get(E.U5),{timeouts:n,retryPolicyConfig:o,externalGateway:a}=r.musicExternalApi,s=e.get(E.SL).getLanguage(),l=e.get(E.pI)({credentials:"include"});return new g.Rc(l,{gateway:{...a,prefixUrl:(0,i.z)(a.prefixUrl,t,d.M)},retryPolicyConfig:o,timeouts:n.accountResource,params:{common:{client:(0,u.$)(),language:s}}})}),[E.Eu]:(0,n.ri)(e=>{let{resources:r}=e.get(E.U5),{timeouts:n,retryPolicyConfig:o,externalGateway:a}=r.musicExternalApi,s=e.get(E.SL).getLanguage(),l=e.get(E.pI)({credentials:"include"});return new g.Vn(l,{gateway:{...a,prefixUrl:(0,i.z)(a.prefixUrl,t,d.M)},retryPolicyConfig:o,timeouts:n.usersResource,params:{common:{client:(0,u.$)(),language:s}}})}),[E.YR]:(0,n.ri)(e=>{let{resources:r}=e.get(E.U5),{timeouts:n,retryPolicyConfig:o,externalGateway:a,landing:s}=r.musicExternalApi,l=e.get(E.SL).getLanguage(),c=e.get(E.pI)({credentials:"include"});return new g.Fr(c,{gateway:{...a,prefixUrl:(0,i.z)(a.prefixUrl,t,d.M)},...s?{landing:{...s,prefixUrl:(0,i.z)(s.prefixUrl,t,d.M)}}:{},retryPolicyConfig:o,timeouts:n.landingResource,params:{common:{client:(0,u.$)(),language:l}}})}),[E.cG]:(0,n.ri)(e=>{let{resources:r}=e.get(E.U5),{timeouts:n,retryPolicyConfig:o,externalGateway:a}=r.musicExternalApi,s=e.get(E.SL).getLanguage(),l=e.get(E.pI)({credentials:"include"});return new g.pi(l,{gateway:{...a,prefixUrl:(0,i.z)(a.prefixUrl,t,d.M)},retryPolicyConfig:o,timeouts:n.landing3Resource,params:{common:{client:(0,u.$)(),language:s}}})}),[E.qV]:(0,n.ri)(e=>{let{resources:r}=e.get(E.U5),{timeouts:n,retryPolicyConfig:o,externalGateway:a}=r.musicExternalApi,s=e.get(E.SL).getLanguage(),l=e.get(E.pI)({credentials:"include"});return new g.SZ(l,{gateway:{...a,prefixUrl:(0,i.z)(a.prefixUrl,t,d.M)},retryPolicyConfig:o,timeouts:n.landingResource,params:{common:{client:(0,u.$)(),language:s}}})}),[E.OT]:(0,n.ri)(e=>{let{resources:r}=e.get(E.U5),{timeouts:n,retryPolicyConfig:o,externalGateway:a}=r.musicExternalApi,s=e.get(E.SL).getLanguage(),l=e.get(E.pI)({credentials:"include"});return new g.TA(l,{gateway:{...a,prefixUrl:(0,i.z)(a.prefixUrl,t,d.M)},retryPolicyConfig:o,timeouts:n.libraryResource,params:{common:{client:(0,u.$)(),language:s}}})}),[E.g5]:(0,n.ri)(e=>{let{resources:r}=e.get(E.U5),{timeouts:n,retryPolicyConfig:o,externalGateway:a}=r.musicExternalApi,s=e.get(E.SL).getLanguage(),l=e.get(E.pI)({credentials:"include"});return new g.HZ(l,{gateway:{...a,prefixUrl:(0,i.z)(a.prefixUrl,t,d.M)},retryPolicyConfig:o,timeouts:n.tracksResource,params:{common:{client:(0,u.$)(),language:s}}})}),[E.q2]:(0,n.ri)(e=>{let{resources:r}=e.get(E.U5),{timeouts:n,retryPolicyConfig:o,externalGateway:a}=r.musicExternalApi,s=e.get(E.SL).getLanguage(),l=e.get(E.pI)({credentials:"include"});return new g.O3(l,{gateway:{...a,prefixUrl:(0,i.z)(a.prefixUrl,t,d.M)},retryPolicyConfig:o,timeouts:n.topResource,params:{common:{client:(0,u.$)(),language:s}}})}),[E.n]:(0,n.ri)(e=>{let{resources:r}=e.get(E.U5),{timeouts:n,retryPolicyConfig:o,externalGateway:a}=r.musicExternalApi,s=e.get(E.SL).getLanguage(),l=e.get(E.pI)({credentials:"include"});return new g.cn(l,{gateway:{...a,prefixUrl:(0,i.z)(a.prefixUrl,t,d.M)},retryPolicyConfig:o,timeouts:n.artistsResource,params:{common:{client:(0,u.$)(),language:s}}})}),[E.Ci]:(0,n.ri)(e=>{let{resources:r}=e.get(E.U5),{timeouts:n,retryPolicyConfig:o,externalGateway:a}=r.musicExternalApi,s=e.get(E.SL).getLanguage(),l=e.get(E.pI)({credentials:"include"});return new g.tz(l,{gateway:{...a,prefixUrl:(0,i.z)(a.prefixUrl,t,d.M)},retryPolicyConfig:o,timeouts:n.slidesResource,params:{common:{client:(0,u.$)(),language:s}}})}),[E.w5]:(0,n.ri)(e=>{let{resources:r}=e.get(E.U5),{timeouts:n,retryPolicyConfig:o,externalGateway:a}=r.musicExternalApi,s=e.get(E.SL).getLanguage(),l=e.get(E.pI)({credentials:"include"});return new g.Ud(l,{gateway:{...a,prefixUrl:(0,i.z)(a.prefixUrl,t,d.M)},retryPolicyConfig:o,timeouts:n.rotorResource,params:{common:{client:(0,u.$)(),language:s}}})}),[E.Rt]:(0,n.ri)(e=>{let{resources:r}=e.get(E.U5),{timeouts:n,retryPolicyConfig:o,externalGateway:a}=r.musicExternalApi,s=e.get(E.SL).getLanguage(),l=e.get(E.pI)({credentials:"include"});return new g.xW(l,{gateway:{...a,prefixUrl:(0,i.z)(a.prefixUrl,t,d.M)},retryPolicyConfig:o,timeouts:n.searchResource,params:{common:{client:(0,u.$)(),language:s}}})}),[E.zQ]:(0,n.ri)(e=>{let{resources:r}=e.get(E.U5),{timeouts:n,retryPolicyConfig:o,externalGateway:a}=r.musicExternalApi,s=e.get(E.SL).getLanguage(),l=e.get(E.pI)({credentials:"include"});return new g.Po(l,{gateway:{...a,prefixUrl:(0,i.z)(a.prefixUrl,t,d.M)},retryPolicyConfig:o,timeouts:n.searchResource,params:{common:{client:(0,u.$)(),language:s}}})}),[E.lk]:(0,n.ri)(e=>{let{resources:r}=e.get(E.U5),{timeouts:n,retryPolicyConfig:o,externalGateway:a}=r.musicExternalApi,s=e.get(E.SL).getLanguage(),l=e.get(E.pI)({credentials:"include"});return new g.Bl(l,{gateway:{...a,prefixUrl:(0,i.z)(a.prefixUrl,t,d.M)},retryPolicyConfig:o,timeouts:n.playlistResource,params:{common:{client:(0,u.$)(),language:s}}})}),[E.SR]:(0,n.ri)(e=>{let{resources:r}=e.get(E.U5),{timeouts:n,retryPolicyConfig:o,externalGateway:a}=r.musicExternalApi,s=e.get(E.SL).getLanguage(),l=e.get(E.pI)({credentials:"include"});return new g.m3(l,{gateway:{...a,prefixUrl:(0,i.z)(a.prefixUrl,t,d.M)},retryPolicyConfig:o,timeouts:n.playlistsResource,params:{common:{client:(0,u.$)(),language:s}}})}),[E.vl]:(0,n.ri)(e=>{let{resources:r}=e.get(E.U5),{timeouts:n,retryPolicyConfig:o,externalGateway:a}=r.musicExternalApi,s=e.get(E.SL).getLanguage(),l=e.get(E.pI)({credentials:"include"});return new g.mD(l,{gateway:{...a,prefixUrl:(0,i.z)(a.prefixUrl,t,d.M)},retryPolicyConfig:o,timeouts:n.pinResource,params:{common:{client:(0,u.$)(),language:s}}})}),[E.ZO]:(0,n.ri)(e=>{let{resources:r}=e.get(E.U5),{timeouts:n,retryPolicyConfig:o,externalGateway:a}=r.musicExternalApi,s=e.get(E.SL).getLanguage(),l=e.get(E.pI)({credentials:"include"});return new g.kF(l,{gateway:{...a,prefixUrl:(0,i.z)(a.prefixUrl,t,d.M)},retryPolicyConfig:o,timeouts:n.metatagsResource,params:{common:{client:(0,u.$)(),language:s}}})}),[E.jb]:(0,n.ri)(e=>{let{resources:r}=e.get(E.U5),{timeouts:n,retryPolicyConfig:o,externalGateway:a}=r.musicExternalApi,s=e.get(E.SL).getLanguage(),l=e.get(E.pI)({credentials:"include"});return new g.cp(l,{gateway:{...a,prefixUrl:(0,i.z)(a.prefixUrl,t,d.M)},retryPolicyConfig:o,timeouts:n.tagResource,params:{common:{client:(0,u.$)(),language:s}}})}),[E.dk]:(0,n.ri)(e=>{let{resources:r}=e.get(E.U5),{timeouts:n,retryPolicyConfig:o,externalGateway:a}=r.musicExternalApi,s=e.get(E.SL).getLanguage(),l=e.get(E.pI)({credentials:"include"});return new g.l(l,{gateway:{...a,prefixUrl:(0,i.z)(a.prefixUrl,t,d.M)},retryPolicyConfig:o,timeouts:n.feedResource,params:{common:{client:(0,u.$)(),language:s}}})}),[E.X8]:(0,n.ri)(e=>{let{resources:r}=e.get(E.U5),{timeouts:n,retryPolicyConfig:o,externalGateway:a}=r.musicExternalApi,s=e.get(E.SL).getLanguage(),l=e.get(E.pI)({credentials:"include"});return new g.IW(l,{gateway:{...a,prefixUrl:(0,i.z)(a.prefixUrl,t,d.M)},retryPolicyConfig:o,timeouts:n.pinsResource,params:{common:{client:(0,u.$)(),language:s}}})}),[E.O_]:(0,n.ri)(e=>{let{resources:r}=e.get(E.U5),{timeouts:n,retryPolicyConfig:o,externalGateway:a}=r.musicExternalApi,s=e.get(E.SL).getLanguage(),l=e.get(E.pI)({credentials:"include"});return new g.E6(l,{gateway:{...a,prefixUrl:(0,i.z)(a.prefixUrl,t,d.M)},retryPolicyConfig:o,timeouts:n.musicHistoryResource,params:{common:{client:(0,u.$)(),language:s}}})}),[E.EN]:(0,n.ri)(e=>{let{resources:r}=e.get(E.U5),{timeouts:n,retryPolicyConfig:o,externalGateway:a}=r.musicExternalApi,s=e.get(E.SL).getLanguage(),l=e.get(E.pI)({credentials:"include"});return new g.Y7(l,{gateway:{...a,prefixUrl:(0,i.z)(a.prefixUrl,t,d.M)},retryPolicyConfig:o,timeouts:n.dynamicPagesResource,params:{common:{client:(0,u.$)(),language:s}}})}),[E.sD]:(0,n.ri)(e=>{let{resources:r}=e.get(E.U5),{timeouts:n,retryPolicyConfig:o,externalGateway:a}=r.musicExternalApi,s=e.get(E.SL).getLanguage(),l=e.get(E.pI)({credentials:"include"});return new g.UN(l,{gateway:{...a,prefixUrl:(0,i.z)(a.prefixUrl,t,d.M)},retryPolicyConfig:o,timeouts:n.chartResource,params:{common:{client:(0,u.$)(),language:s}}})}),[E.Ve]:(0,n.ri)(e=>{let{resources:r}=e.get(E.U5),{timeouts:n,retryPolicyConfig:o,externalGateway:a}=r.musicExternalApi,s=e.get(E.SL).getLanguage(),l=e.get(E.pI)({credentials:"include"});return new g.Ai(l,{gateway:{...a,prefixUrl:(0,i.z)(a.prefixUrl,t,d.M)},retryPolicyConfig:o,timeouts:n.lyricViewsResource,params:{common:{client:(0,u.$)(),language:s}}})}),[E.o]:(0,n.ri)(e=>{let{resources:r}=e.get(E.U5),{timeouts:n,retryPolicyConfig:o,externalGateway:a}=r.musicExternalApi,s=e.get(E.SL).getLanguage(),l=e.get(E.pI)({credentials:"include"});return new g.hP(l,{gateway:{...a,prefixUrl:(0,i.z)(a.prefixUrl,t,d.M)},retryPolicyConfig:o,timeouts:n.nonMusicResource,params:{common:{client:(0,u.$)(),language:s}}})}),[E.uR]:(0,n.ri)(e=>{let{resources:r}=e.get(E.U5),{timeouts:n,retryPolicyConfig:o,externalGateway:a}=r.musicExternalApi,s=e.get(E.SL).getLanguage(),l=e.get(E.pI)({credentials:"include"});return new g.BS(l,{gateway:{...a,prefixUrl:(0,i.z)(a.prefixUrl,t,d.M)},retryPolicyConfig:o,timeouts:n.donationResource,params:{common:{client:(0,u.$)(),language:s}}})}),[E.yO]:(0,n.ri)(e=>{let{resources:r}=e.get(E.U5),{timeouts:n,retryPolicyConfig:o,externalGateway:a}=r.musicExternalApi,s=e.get(E.SL).getLanguage(),l=e.get(E.pI)({credentials:"include"});return new g.kC(l,{gateway:{...a,prefixUrl:(0,i.z)(a.prefixUrl,t,d.M)},retryPolicyConfig:o,timeouts:n.loaderResource,params:{common:{client:(0,u.$)(),language:s}}})}),[E.qs]:(0,n.ri)(e=>{let{resources:t}=e.get(E.U5),{timeouts:r,retryPolicyConfig:i,gateway:n}=t.musicExternalApi,o=e.get(E.SL).getLanguage(),a=e.get(E.Dw)({credentials:"same-origin"});return new g.Gu(a,{gateway:{...n,prefixUrl:""},retryPolicyConfig:i,timeouts:r.prefixlessResource,params:{common:{client:(0,u.$)(),language:o}}})})})}}}]);