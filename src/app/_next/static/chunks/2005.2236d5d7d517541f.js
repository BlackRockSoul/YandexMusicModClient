"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2005],{52005:function(e,t,r){r.d(t,{createClientContainer:function(){return $}});var i=r(61185),n=r(9617),a=r(23645),o=r(66680),s=r(45113),l=r(31256),g=r(69869),c=r(40350),u=r(66337),p=r(8655),m=r(97230),d=r(49080),h=r(38885);class U extends h.z{getRedirectUri(){let e="".concat(this.pathname).concat(this.searchParams?"?".concat(this.searchParams):"");return encodeURIComponent("https://".concat(this.host).concat(e))}get authorizationUrl(){if(!this.host||!this.tld)return;let{passportCredentials:{host:e,origin:t}}=this.config,r=(0,i.z)(e,this.tld,d.M),n=this.getRedirectUri();return"".concat(r,"/auth?origin=").concat(t,"&retpath=").concat(n,"&language=").concat(this.language)}get token(){}constructor(e,t,r){super(e,t),(0,p._)(this,"language",void 0),this.language=r}}class f extends U{setPassportLoginCookieObserver(){setInterval(this.checkPassportLoginCookieChange.bind(this),5e3)}checkPassportLoginCookieChange(){this.passportLogin!==this.passportLoginCached&&(this.passportLoginCached=this.passportLogin,this.reloadPage())}reloadPage(){window.location.reload()}redirectToAuthorizationUrl(){this.authorizationUrl&&(window.location.href=this.authorizationUrl)}get passportLogin(){return this.storage.get(m.B.YandexLogin,!1)||void 0}get hasAuthorizationCredentials(){return!!this.storage.get(m.B.YandexLogin,!1)}async check(){}constructor(e,t,r){super(e,t,r),(0,p._)(this,"passportLoginCached",void 0),this.passportLoginCached=this.passportLogin,this.setPassportLoginCookieObserver()}}var x=r(81541);class w{onChangeLanguage(e){if("string"==typeof this.token&&this.token.length>0){let t="https://yandex.".concat(this.tld,"/portal/set/lang/"),r=encodeURIComponent(window.location.href),i="".concat(t,"?intl=").concat(e,"&retpath=").concat(r,"&sk=").concat(this.token);window.location.assign(i)}else window.location.reload()}constructor(e,t){(0,p._)(this,"tld",void 0),(0,p._)(this,"token",void 0),this.tld=e,this.token=t}}var L=r(8234),R=r(2188),y=r(5066),E=r(42461),v=r(52821),z=r(20958);let k=e=>{if(e&&"object"==typeof e&&"type"in e&&"captcha"===e.type){let{captcha:t}=e;if(t&&t["captcha-page"])return!0}return!1},S=e=>{let t;try{let r=e.map(e=>{let t=new URL(e);return"".concat(t.protocol).concat(t.hostname.split(".").slice(-2).join("."))});t=r.every(e=>e===r[0])}catch(e){t=!1}return t},M=/^application\/json(;\s?charset=\S+)?$/;class A{async afterResponse(e){try{if(!e.headers["content-range"]&&e.headers["content-type"]&&M.test(e.headers["content-type"])){let t=await e.clone().json();if(k(t)){let{captcha:e}=t;window.location.replace(e["captcha-page"])}}}catch(e){e instanceof Error&&this.logger.error(e)}return e}beforeRequest(e){let t=window.location.href;S([t,e.url])&&(e.headers.set("X-Requested-With","XMLHttpRequest"),e.headers.set("X-Retpath-Y",t))}get afterResponseHook(){return this.afterResponse.bind(this)}get beforeRequestHook(){return this.beforeRequest.bind(this)}constructor(e){(0,p._)(this,"logger",void 0),this.logger=e}}var I=r(36648);async function $(e){let{tld:t,env:r,serverDetectedLang:p,changeLanguageToken:h}=e,U=(0,I.n)(await (0,x.i)(r));return new n.s1().registerMany({[z.U5]:(0,n.ri)(()=>U),[z.Hz]:(0,n.ri)(()=>new E.E),[z.P0]:(0,n.ri)(()=>new l.j({maxLogLevel:s.B$.DEBUG,secureFields:y.B,disableLogToConsole:!0})),[z.DR]:(0,n.ri)(()=>new((0,R.c)(l.j))({maxLogLevel:s.B$.DEBUG,secureFields:y.B,disableLogToConsole:!0})),[z.V0]:(0,n.ri)(()=>new c.NS),[z.Xt]:(0,n.ri)(()=>new c.NS),[z.ce]:(0,n.ri)(()=>new c.JC),[z.Ar]:(0,n.ri)(()=>new c.$V),[z.SL]:(0,n.ri)(e=>{let r=e.get(z.V0),i=e.get(z.P0);return new L.h({config:o.w8[v.J],serverDetectedLang:p,logger:i,enableLanguageChanging:"on"===r.get(m.B.EnableChangingLanguage),changeLanguageHandler:new w(t,h),storage:{get:()=>r.get(m.B.SavedUserLanguage,!1),set(e){r.set(m.B.SavedUserLanguage,e,{path:"/",domain:"".concat(v.J,".").concat(t)},!1)}}})})}).registerMany({[z.pI]:(0,n.d5)(e=>function(){var t,r,i,n,o,s;let l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},g=e.get(z.P0),{resources:{musicExternalApi:c}}=e.get(z.U5),u=e.get(z.Hz),p=new y.D(g,u),m=new A(g);return l.timeout=c.defaultTimeout,l.hooks={afterResponse:[m.afterResponseHook,...(null==l?void 0:null===(t=l.hooks)||void 0===t?void 0:t.afterResponse)||[]],afterTimeout:[p.afterTimeoutHook,...(null==l?void 0:null===(r=l.hooks)||void 0===r?void 0:r.afterTimeout)||[]],beforeError:[p.beforeErrorHook,...(null==l?void 0:null===(i=l.hooks)||void 0===i?void 0:i.beforeError)||[]],beforeRequest:[m.beforeRequestHook,...(null==l?void 0:null===(n=l.hooks)||void 0===n?void 0:n.beforeRequest)||[]],beforeRetry:[p.beforeRetryHook,...(null==l?void 0:null===(o=l.hooks)||void 0===o?void 0:o.beforeRetry)||[]],onRequestDone:[...(null==l?void 0:null===(s=l.hooks)||void 0===s?void 0:s.onRequestDone)||[]]},new a.w(l)}),[z.xi]:(0,n.ri)(e=>new f(e.get(z.Xt),e.get(z.U5),e.get(z.SL).getLanguage()))}).registerMany({[z.c5]:(0,n.ri)(e=>{let{resources:r}=e.get(z.U5),{timeouts:n,retryPolicyConfig:a,externalGateway:o}=r.musicExternalApi,s=e.get(z.SL).getLanguage(),l=e.get(z.pI)({credentials:"include"});return new g.Rc(l,{gateway:{...o,prefixUrl:(0,i.z)(o.prefixUrl,t,d.M)},retryPolicyConfig:a,timeouts:n.accountResource,params:{common:{client:(0,u.$)(),language:s}}})}),[z.Eu]:(0,n.ri)(e=>{let{resources:r}=e.get(z.U5),{timeouts:n,retryPolicyConfig:a,externalGateway:o}=r.musicExternalApi,s=e.get(z.SL).getLanguage(),l=e.get(z.pI)({credentials:"include"});return new g.Vn(l,{gateway:{...o,prefixUrl:(0,i.z)(o.prefixUrl,t,d.M)},retryPolicyConfig:a,timeouts:n.usersResource,params:{common:{client:(0,u.$)(),language:s}}})}),[z.YR]:(0,n.ri)(e=>{let{resources:r}=e.get(z.U5),{timeouts:n,retryPolicyConfig:a,externalGateway:o,landing:s}=r.musicExternalApi,l=e.get(z.SL).getLanguage(),c=e.get(z.pI)({credentials:"include"});return new g.Fr(c,{gateway:{...o,prefixUrl:(0,i.z)(o.prefixUrl,t,d.M)},...s?{landing:{...s,prefixUrl:(0,i.z)(s.prefixUrl,t,d.M)}}:{},retryPolicyConfig:a,timeouts:n.landingResource,params:{common:{client:(0,u.$)(),language:l}}})}),[z.cG]:(0,n.ri)(e=>{let{resources:r}=e.get(z.U5),{timeouts:n,retryPolicyConfig:a,externalGateway:o}=r.musicExternalApi,s=e.get(z.SL).getLanguage(),l=e.get(z.pI)({credentials:"include"});return new g.pi(l,{gateway:{...o,prefixUrl:(0,i.z)(o.prefixUrl,t,d.M)},retryPolicyConfig:a,timeouts:n.landing3Resource,params:{common:{client:(0,u.$)(),language:s}}})}),[z.qV]:(0,n.ri)(e=>{let{resources:r}=e.get(z.U5),{timeouts:n,retryPolicyConfig:a,externalGateway:o}=r.musicExternalApi,s=e.get(z.SL).getLanguage(),l=e.get(z.pI)({credentials:"include"});return new g.SZ(l,{gateway:{...o,prefixUrl:(0,i.z)(o.prefixUrl,t,d.M)},retryPolicyConfig:a,timeouts:n.landingResource,params:{common:{client:(0,u.$)(),language:s}}})}),[z.OT]:(0,n.ri)(e=>{let{resources:r}=e.get(z.U5),{timeouts:n,retryPolicyConfig:a,externalGateway:o}=r.musicExternalApi,s=e.get(z.SL).getLanguage(),l=e.get(z.pI)({credentials:"include"});return new g.TA(l,{gateway:{...o,prefixUrl:(0,i.z)(o.prefixUrl,t,d.M)},retryPolicyConfig:a,timeouts:n.libraryResource,params:{common:{client:(0,u.$)(),language:s}}})}),[z.g5]:(0,n.ri)(e=>{let{resources:r}=e.get(z.U5),{timeouts:n,retryPolicyConfig:a,externalGateway:o}=r.musicExternalApi,s=e.get(z.SL).getLanguage(),l=e.get(z.pI)({credentials:"include"});return new g.HZ(l,{gateway:{...o,prefixUrl:(0,i.z)(o.prefixUrl,t,d.M)},retryPolicyConfig:a,timeouts:n.tracksResource,params:{common:{client:(0,u.$)(),language:s}}})}),[z.q2]:(0,n.ri)(e=>{let{resources:r}=e.get(z.U5),{timeouts:n,retryPolicyConfig:a,externalGateway:o}=r.musicExternalApi,s=e.get(z.SL).getLanguage(),l=e.get(z.pI)({credentials:"include"});return new g.O3(l,{gateway:{...o,prefixUrl:(0,i.z)(o.prefixUrl,t,d.M)},retryPolicyConfig:a,timeouts:n.topResource,params:{common:{client:(0,u.$)(),language:s}}})}),[z.n]:(0,n.ri)(e=>{let{resources:r}=e.get(z.U5),{timeouts:n,retryPolicyConfig:a,externalGateway:o}=r.musicExternalApi,s=e.get(z.SL).getLanguage(),l=e.get(z.pI)({credentials:"include"});return new g.cn(l,{gateway:{...o,prefixUrl:(0,i.z)(o.prefixUrl,t,d.M)},retryPolicyConfig:a,timeouts:n.artistsResource,params:{common:{client:(0,u.$)(),language:s}}})}),[z.Ci]:(0,n.ri)(e=>{let{resources:r}=e.get(z.U5),{timeouts:n,retryPolicyConfig:a,externalGateway:o}=r.musicExternalApi,s=e.get(z.SL).getLanguage(),l=e.get(z.pI)({credentials:"include"});return new g.tz(l,{gateway:{...o,prefixUrl:(0,i.z)(o.prefixUrl,t,d.M)},retryPolicyConfig:a,timeouts:n.slidesResource,params:{common:{client:(0,u.$)(),language:s}}})}),[z.w5]:(0,n.ri)(e=>{let{resources:r}=e.get(z.U5),{timeouts:n,retryPolicyConfig:a,externalGateway:o}=r.musicExternalApi,s=e.get(z.SL).getLanguage(),l=e.get(z.pI)({credentials:"include"});return new g.Ud(l,{gateway:{...o,prefixUrl:(0,i.z)(o.prefixUrl,t,d.M)},retryPolicyConfig:a,timeouts:n.rotorResource,params:{common:{client:(0,u.$)(),language:s}}})}),[z.Rt]:(0,n.ri)(e=>{let{resources:r}=e.get(z.U5),{timeouts:n,retryPolicyConfig:a,externalGateway:o}=r.musicExternalApi,s=e.get(z.SL).getLanguage(),l=e.get(z.pI)({credentials:"include"});return new g.xW(l,{gateway:{...o,prefixUrl:(0,i.z)(o.prefixUrl,t,d.M)},retryPolicyConfig:a,timeouts:n.searchResource,params:{common:{client:(0,u.$)(),language:s}}})}),[z.zQ]:(0,n.ri)(e=>{let{resources:r}=e.get(z.U5),{timeouts:n,retryPolicyConfig:a,externalGateway:o}=r.musicExternalApi,s=e.get(z.SL).getLanguage(),l=e.get(z.pI)({credentials:"include"});return new g.Po(l,{gateway:{...o,prefixUrl:(0,i.z)(o.prefixUrl,t,d.M)},retryPolicyConfig:a,timeouts:n.searchResource,params:{common:{client:(0,u.$)(),language:s}}})}),[z.lk]:(0,n.ri)(e=>{let{resources:r}=e.get(z.U5),{timeouts:n,retryPolicyConfig:a,externalGateway:o}=r.musicExternalApi,s=e.get(z.SL).getLanguage(),l=e.get(z.pI)({credentials:"include"});return new g.Bl(l,{gateway:{...o,prefixUrl:(0,i.z)(o.prefixUrl,t,d.M)},retryPolicyConfig:a,timeouts:n.playlistResource,params:{common:{client:(0,u.$)(),language:s}}})}),[z.SR]:(0,n.ri)(e=>{let{resources:r}=e.get(z.U5),{timeouts:n,retryPolicyConfig:a,externalGateway:o}=r.musicExternalApi,s=e.get(z.SL).getLanguage(),l=e.get(z.pI)({credentials:"include"});return new g.m3(l,{gateway:{...o,prefixUrl:(0,i.z)(o.prefixUrl,t,d.M)},retryPolicyConfig:a,timeouts:n.playlistsResource,params:{common:{client:(0,u.$)(),language:s}}})}),[z.vl]:(0,n.ri)(e=>{let{resources:r}=e.get(z.U5),{timeouts:n,retryPolicyConfig:a,externalGateway:o}=r.musicExternalApi,s=e.get(z.SL).getLanguage(),l=e.get(z.pI)({credentials:"include"});return new g.mD(l,{gateway:{...o,prefixUrl:(0,i.z)(o.prefixUrl,t,d.M)},retryPolicyConfig:a,timeouts:n.pinResource,params:{common:{client:(0,u.$)(),language:s}}})}),[z.ZO]:(0,n.ri)(e=>{let{resources:r}=e.get(z.U5),{timeouts:n,retryPolicyConfig:a,externalGateway:o}=r.musicExternalApi,s=e.get(z.SL).getLanguage(),l=e.get(z.pI)({credentials:"include"});return new g.kF(l,{gateway:{...o,prefixUrl:(0,i.z)(o.prefixUrl,t,d.M)},retryPolicyConfig:a,timeouts:n.metatagsResource,params:{common:{client:(0,u.$)(),language:s}}})}),[z.jb]:(0,n.ri)(e=>{let{resources:r}=e.get(z.U5),{timeouts:n,retryPolicyConfig:a,externalGateway:o}=r.musicExternalApi,s=e.get(z.SL).getLanguage(),l=e.get(z.pI)({credentials:"include"});return new g.cp(l,{gateway:{...o,prefixUrl:(0,i.z)(o.prefixUrl,t,d.M)},retryPolicyConfig:a,timeouts:n.tagResource,params:{common:{client:(0,u.$)(),language:s}}})}),[z.dk]:(0,n.ri)(e=>{let{resources:r}=e.get(z.U5),{timeouts:n,retryPolicyConfig:a,externalGateway:o}=r.musicExternalApi,s=e.get(z.SL).getLanguage(),l=e.get(z.pI)({credentials:"include"});return new g.l(l,{gateway:{...o,prefixUrl:(0,i.z)(o.prefixUrl,t,d.M)},retryPolicyConfig:a,timeouts:n.feedResource,params:{common:{client:(0,u.$)(),language:s}}})}),[z.X8]:(0,n.ri)(e=>{let{resources:r}=e.get(z.U5),{timeouts:n,retryPolicyConfig:a,externalGateway:o}=r.musicExternalApi,s=e.get(z.SL).getLanguage(),l=e.get(z.pI)({credentials:"include"});return new g.IW(l,{gateway:{...o,prefixUrl:(0,i.z)(o.prefixUrl,t,d.M)},retryPolicyConfig:a,timeouts:n.pinsResource,params:{common:{client:(0,u.$)(),language:s}}})}),[z.O_]:(0,n.ri)(e=>{let{resources:r}=e.get(z.U5),{timeouts:n,retryPolicyConfig:a,externalGateway:o}=r.musicExternalApi,s=e.get(z.SL).getLanguage(),l=e.get(z.pI)({credentials:"include"});return new g.E6(l,{gateway:{...o,prefixUrl:(0,i.z)(o.prefixUrl,t,d.M)},retryPolicyConfig:a,timeouts:n.musicHistoryResource,params:{common:{client:(0,u.$)(),language:s}}})}),[z.EN]:(0,n.ri)(e=>{let{resources:r}=e.get(z.U5),{timeouts:n,retryPolicyConfig:a,externalGateway:o}=r.musicExternalApi,s=e.get(z.SL).getLanguage(),l=e.get(z.pI)({credentials:"include"});return new g.Y7(l,{gateway:{...o,prefixUrl:(0,i.z)(o.prefixUrl,t,d.M)},retryPolicyConfig:a,timeouts:n.dynamicPagesResource,params:{common:{client:(0,u.$)(),language:s}}})}),[z.sD]:(0,n.ri)(e=>{let{resources:r}=e.get(z.U5),{timeouts:n,retryPolicyConfig:a,externalGateway:o}=r.musicExternalApi,s=e.get(z.SL).getLanguage(),l=e.get(z.pI)({credentials:"include"});return new g.UN(l,{gateway:{...o,prefixUrl:(0,i.z)(o.prefixUrl,t,d.M)},retryPolicyConfig:a,timeouts:n.chartResource,params:{common:{client:(0,u.$)(),language:s}}})}),[z.Ve]:(0,n.ri)(e=>{let{resources:r}=e.get(z.U5),{timeouts:n,retryPolicyConfig:a,externalGateway:o}=r.musicExternalApi,s=e.get(z.SL).getLanguage(),l=e.get(z.pI)({credentials:"include"});return new g.Ai(l,{gateway:{...o,prefixUrl:(0,i.z)(o.prefixUrl,t,d.M)},retryPolicyConfig:a,timeouts:n.lyricViewsResource,params:{common:{client:(0,u.$)(),language:s}}})}),[z.o]:(0,n.ri)(e=>{let{resources:r}=e.get(z.U5),{timeouts:n,retryPolicyConfig:a,externalGateway:o}=r.musicExternalApi,s=e.get(z.SL).getLanguage(),l=e.get(z.pI)({credentials:"include"});return new g.hP(l,{gateway:{...o,prefixUrl:(0,i.z)(o.prefixUrl,t,d.M)},retryPolicyConfig:a,timeouts:n.nonMusicResource,params:{common:{client:(0,u.$)(),language:s}}})}),[z.uR]:(0,n.ri)(e=>{let{resources:r}=e.get(z.U5),{timeouts:n,retryPolicyConfig:a,externalGateway:o}=r.musicExternalApi,s=e.get(z.SL).getLanguage(),l=e.get(z.pI)({credentials:"include"});return new g.BS(l,{gateway:{...o,prefixUrl:(0,i.z)(o.prefixUrl,t,d.M)},retryPolicyConfig:a,timeouts:n.donationResource,params:{common:{client:(0,u.$)(),language:s}}})}),[z.yO]:(0,n.ri)(e=>{let{resources:r}=e.get(z.U5),{timeouts:n,retryPolicyConfig:a,externalGateway:o}=r.musicExternalApi,s=e.get(z.SL).getLanguage(),l=e.get(z.pI)({credentials:"include"});return new g.kC(l,{gateway:{...o,prefixUrl:(0,i.z)(o.prefixUrl,t,d.M)},retryPolicyConfig:a,timeouts:n.loaderResource,params:{common:{client:(0,u.$)(),language:s}}})})})}}}]);