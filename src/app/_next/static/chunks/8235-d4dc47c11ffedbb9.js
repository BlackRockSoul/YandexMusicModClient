(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8235],{56104:function(e,i,t){Promise.resolve().then(t.bind(t,96622)),Promise.resolve().then(t.bind(t,86939)),Promise.resolve().then(t.bind(t,69863)),Promise.resolve().then(t.bind(t,12404)),Promise.resolve().then(t.bind(t,90679)),Promise.resolve().then(t.bind(t,14102)),Promise.resolve().then(t.bind(t,2570)),Promise.resolve().then(t.bind(t,25053)),Promise.resolve().then(t.bind(t,41345)),Promise.resolve().then(t.bind(t,9266)),Promise.resolve().then(t.bind(t,51578)),Promise.resolve().then(t.bind(t,51997)),Promise.resolve().then(t.bind(t,35481)),Promise.resolve().then(t.bind(t,25066)),Promise.resolve().then(t.bind(t,59558)),Promise.resolve().then(t.bind(t,18073)),Promise.resolve().then(t.bind(t,46603)),Promise.resolve().then(t.bind(t,76880)),Promise.resolve().then(t.bind(t,56289)),Promise.resolve().then(t.bind(t,78876)),Promise.resolve().then(t.bind(t,22254)),Promise.resolve().then(t.bind(t,8223)),Promise.resolve().then(t.bind(t,64246)),Promise.resolve().then(t.bind(t,66757)),Promise.resolve().then(t.bind(t,89263)),Promise.resolve().then(t.bind(t,44105)),Promise.resolve().then(t.bind(t,83707)),Promise.resolve().then(t.bind(t,2057)),Promise.resolve().then(t.bind(t,77027)),Promise.resolve().then(t.bind(t,85533)),Promise.resolve().then(t.bind(t,76356)),Promise.resolve().then(t.bind(t,11856)),Promise.resolve().then(t.bind(t,49473)),Promise.resolve().then(t.bind(t,41566)),Promise.resolve().then(t.bind(t,24298)),Promise.resolve().then(t.bind(t,66975)),Promise.resolve().then(t.bind(t,99654)),Promise.resolve().then(t.bind(t,54864)),Promise.resolve().then(t.bind(t,6030)),Promise.resolve().then(t.bind(t,22003)),Promise.resolve().then(t.bind(t,18921)),Promise.resolve().then(t.bind(t,44660)),Promise.resolve().then(t.bind(t,76315)),Promise.resolve().then(t.bind(t,93393)),Promise.resolve().then(t.bind(t,83906)),Promise.resolve().then(t.bind(t,53961)),Promise.resolve().then(t.bind(t,47192)),Promise.resolve().then(t.bind(t,2648)),Promise.resolve().then(t.bind(t,99846)),Promise.resolve().then(t.bind(t,639)),Promise.resolve().then(t.bind(t,37379)),Promise.resolve().then(t.bind(t,96414)),Promise.resolve().then(t.bind(t,5510)),Promise.resolve().then(t.bind(t,1776)),Promise.resolve().then(t.bind(t,71456)),Promise.resolve().then(t.bind(t,5670)),Promise.resolve().then(t.bind(t,53368)),Promise.resolve().then(t.bind(t,17777)),Promise.resolve().then(t.bind(t,55805)),Promise.resolve().then(t.bind(t,8496)),Promise.resolve().then(t.bind(t,11858)),Promise.resolve().then(t.bind(t,97161)),Promise.resolve().then(t.bind(t,91401)),Promise.resolve().then(t.bind(t,84661)),Promise.resolve().then(t.bind(t,30446)),Promise.resolve().then(t.bind(t,91844)),Promise.resolve().then(t.bind(t,82025)),Promise.resolve().then(t.bind(t,47347)),Promise.resolve().then(t.bind(t,34999)),Promise.resolve().then(t.bind(t,19476)),Promise.resolve().then(t.bind(t,58554)),Promise.resolve().then(t.bind(t,96115)),Promise.resolve().then(t.bind(t,85969)),Promise.resolve().then(t.bind(t,94326)),Promise.resolve().then(t.bind(t,87004)),Promise.resolve().then(t.bind(t,68721)),Promise.resolve().then(t.bind(t,82124)),Promise.resolve().then(t.bind(t,44490)),Promise.resolve().then(t.bind(t,64035)),Promise.resolve().then(t.bind(t,98723)),Promise.resolve().then(t.bind(t,92994)),Promise.resolve().then(t.bind(t,91042)),Promise.resolve().then(t.bind(t,79285)),Promise.resolve().then(t.bind(t,30410)),Promise.resolve().then(t.bind(t,92225)),Promise.resolve().then(t.bind(t,21920)),Promise.resolve().then(t.bind(t,5979)),Promise.resolve().then(t.bind(t,85449)),Promise.resolve().then(t.bind(t,37869)),Promise.resolve().then(t.bind(t,11408)),Promise.resolve().then(t.bind(t,54605)),Promise.resolve().then(t.bind(t,18546)),Promise.resolve().then(t.bind(t,29665)),Promise.resolve().then(t.bind(t,90981)),Promise.resolve().then(t.bind(t,1843)),Promise.resolve().then(t.bind(t,89672)),Promise.resolve().then(t.bind(t,89949)),Promise.resolve().then(t.bind(t,82116)),Promise.resolve().then(t.bind(t,17852)),Promise.resolve().then(t.bind(t,55302)),Promise.resolve().then(t.bind(t,56691)),Promise.resolve().then(t.bind(t,13862)),Promise.resolve().then(t.bind(t,69768)),Promise.resolve().then(t.bind(t,55553)),Promise.resolve().then(t.bind(t,695)),Promise.resolve().then(t.bind(t,76100)),Promise.resolve().then(t.bind(t,75130)),Promise.resolve().then(t.bind(t,72488)),Promise.resolve().then(t.bind(t,78465)),Promise.resolve().then(t.bind(t,40289)),Promise.resolve().then(t.bind(t,74441)),Promise.resolve().then(t.bind(t,52394)),Promise.resolve().then(t.bind(t,99784)),Promise.resolve().then(t.bind(t,98865)),Promise.resolve().then(t.bind(t,28499)),Promise.resolve().then(t.bind(t,20233)),Promise.resolve().then(t.bind(t,71992)),Promise.resolve().then(t.bind(t,24782)),Promise.resolve().then(t.bind(t,23759)),Promise.resolve().then(t.bind(t,97139)),Promise.resolve().then(t.bind(t,14206)),Promise.resolve().then(t.bind(t,77216)),Promise.resolve().then(t.bind(t,61254)),Promise.resolve().then(t.bind(t,67676)),Promise.resolve().then(t.bind(t,53264)),Promise.resolve().then(t.bind(t,23536)),Promise.resolve().then(t.bind(t,21969)),Promise.resolve().then(t.bind(t,18017)),Promise.resolve().then(t.bind(t,3753)),Promise.resolve().then(t.bind(t,88918)),Promise.resolve().then(t.bind(t,93664)),Promise.resolve().then(t.bind(t,66414)),Promise.resolve().then(t.t.bind(t,23894,23)),Promise.resolve().then(t.bind(t,17241)),Promise.resolve().then(t.bind(t,9552)),Promise.resolve().then(t.bind(t,58021)),Promise.resolve().then(t.bind(t,46822)),Promise.resolve().then(t.bind(t,43384)),Promise.resolve().then(t.bind(t,45801)),Promise.resolve().then(t.bind(t,73069)),Promise.resolve().then(t.bind(t,99975)),Promise.resolve().then(t.bind(t,65044)),Promise.resolve().then(t.bind(t,98188)),Promise.resolve().then(t.bind(t,62789)),Promise.resolve().then(t.bind(t,25257)),Promise.resolve().then(t.bind(t,3310)),Promise.resolve().then(t.bind(t,9097)),Promise.resolve().then(t.bind(t,49457)),Promise.resolve().then(t.bind(t,70323)),Promise.resolve().then(t.bind(t,7407)),Promise.resolve().then(t.bind(t,93357)),Promise.resolve().then(t.bind(t,8564)),Promise.resolve().then(t.bind(t,54140)),Promise.resolve().then(t.bind(t,71707)),Promise.resolve().then(t.bind(t,6806)),Promise.resolve().then(t.bind(t,21874)),Promise.resolve().then(t.bind(t,762)),Promise.resolve().then(t.bind(t,39362)),Promise.resolve().then(t.bind(t,30898)),Promise.resolve().then(t.bind(t,14562)),Promise.resolve().then(t.t.bind(t,70390,23)),Promise.resolve().then(t.bind(t,1913)),Promise.resolve().then(t.bind(t,23136)),Promise.resolve().then(t.bind(t,59476)),Promise.resolve().then(t.bind(t,43622)),Promise.resolve().then(t.bind(t,57613)),Promise.resolve().then(t.bind(t,97515)),Promise.resolve().then(t.bind(t,65345))},17295:function(e,i,t){"use strict";t.d(i,{O:function(){return a}});var s,r=t(98639),n={810:e=>{e.exports=s||(s=t.t(r,2))}},o={},l={};(()=>{Object.defineProperty(l,"__esModule",{value:!0}),l.useToggle=void 0;let e=function e(i){var t=o[i];if(void 0!==t)return t.exports;var s=o[i]={exports:{}};return n[i](s,s.exports,e),s.exports}(810);l.useToggle=i=>{let[t,s]=(0,e.useState)(i);return{state:t,toggle:(0,e.useCallback)(()=>{s(e=>!e)},[]),toggleTrue:(0,e.useCallback)(()=>{s(!0)},[]),toggleFalse:(0,e.useCallback)(()=>{s(!1)},[])}}})(),l.__esModule;var a=l.useToggle},48606:function(e,i,t){"use strict";t.d(i,{GX:function(){return o.MixCard},zn:function(){return n},Fh:function(){return l}});var s=t(42288),r=t(59131);let n=s.V5.model("MixItem",{id:s.V5.string,title:s.V5.string,weblink:s.V5.string,covers:s.V5.maybe(s.V5.array(s.V5.string)),imagesLayoutType:s.V5.enumeration(Object.values(r.nN))});var o=t(18073);let l=e=>({id:e.id,title:e.title,weblink:e.action.weblink,covers:(0,s.pj)(e.covers||[]),imagesLayoutType:e.style.imagesLayoutType})},18073:function(e,i,t){"use strict";t.d(i,{MixCard:function(){return h}});var s=t(9753),r=t(60836),n=t(9544),o=t(59131),l=t(86939),a=t(12404),d=t(2570),c=t(67868),u=t(86678),m=t.n(u);let h=(0,n.Pi)(e=>{let{className:i,title:t,weblink:n,covers:u=[],coverSize:h=100,imagesLayoutType:v}=e;return(0,s.jsx)(c.rU,{href:n,children:(0,s.jsxs)(a.Paper,{className:(0,r.W)(m().root,i),radius:"l",children:[(0,s.jsx)("div",{className:m().header,children:(0,s.jsx)(d.Heading,{variant:"h4",size:"xs",weight:"bold",className:m().title,lineClamp:2,children:t})}),(0,s.jsxs)("div",{className:(0,r.W)(m().covers,{[m().covers_radial]:v===o.nN.RADIAL,[m().covers_stack]:v===o.nN.STACK}),children:[(0,s.jsx)(l.Image,{src:u[2],withAvatarReplace:!0,fit:"contain",className:m().cover,size:h}),(0,s.jsx)(l.Image,{src:u[1],withAvatarReplace:!0,fit:"contain",className:m().cover,size:h}),(0,s.jsx)(l.Image,{src:u[0],withAvatarReplace:!0,fit:"contain",className:m().cover,size:h})]})]})})})},40029:function(e,i,t){"use strict";t.d(i,{k_:function(){return u.VibeButton},xJ:function(){return u.VibeButtonShimmer},op:function(){return d.VibeCard},KW:function(){return o},FF:function(){return a},BV:function(){return c.useOnPinClick},xF:function(){return l}});var s=t(42288),r=t(84338),n=t(44367);let o=s.V5.model("Vibe",{title:s.V5.optional(s.V5.string,""),header:s.V5.optional(s.V5.string,""),subtitle:s.V5.maybe(s.V5.string),stationId:s.V5.string,seeds:s.V5.array(s.V5.string),idForFrom:s.V5.maybe(s.V5.string),imageUrl:s.V5.maybe(s.V5.string),animationUrl:s.V5.maybe(s.V5.string),backgroundImageUrl:s.V5.maybe(s.V5.string),backgroundColor:s.V5.maybe(s.V5.string),colors:s.V5.maybe(s.V5.model({average:s.V5.maybe(s.V5.string),waveText:s.V5.maybe(s.V5.string)}))}).views(e=>({get context(){if(e.seeds&&(e.stationId!==n.sH||e.seeds.length>1))return e.title;return null},get pinId(){return(0,r.$k)(e.seeds)},get isPinned(){if(!(0,s.fh)(e))return!1;let{pinsCollection:i}=(0,s.yj)(e);return i.isPinned(this.pinId)}})).actions(e=>({togglePin:(0,s.ls)(function*(){if(!(0,s.fh)(e))return;let{pinsCollection:i,user:t}=(0,s.yj)(e);if(t.isAuthorized)return yield i.toggleVibePin({seeds:e.seeds},e.pinId)})})),l=e=>(0,s.pj)({title:e.name,seeds:e.seeds,stationId:e.stationId,idForFrom:e.idForFrom}),a=e=>{var i,t,r,n;return(0,s.pj)({title:e.title,header:e.header,stationId:e.stationId,seeds:e.seeds,animationUrl:e.animationUrl,backgroundImageUrl:e.backgroundImageUrl,imageUrl:e.imageUrl,colors:{average:null!==(r=null===(i=e.colors)||void 0===i?void 0:i.average)&&void 0!==r?r:"",waveText:null!==(n=null===(t=e.colors)||void 0===t?void 0:t.waveText)&&void 0!==n?n:""}})};var d=t(76356),c=t(77027),u=t(85533)},77027:function(e,i,t){"use strict";t.d(i,{useOnPinClick:function(){return c}});var s=t(9753),r=t(24244),n=t(98639),o=t(80542),l=t(44367),a=t(67868);let d=e=>{var i;let{vibe:t,closeToast:r}=e;return(0,s.jsx)(a.K1,{closeToast:r,entityVariant:a.j9.VIBE,entityTitle:t.title,averageColor:null===(i=t.colors)||void 0===i?void 0:i.average,isPinned:t.isPinned})},c=e=>{let{user:i}=(0,l.oR)(),{notify:t}=(0,l.d$)(),{formatMessage:c}=(0,o.Z)(),[u,m]=(0,n.useState)(!1);return(0,n.useCallback)(async()=>{if(!e)return;if(!i.isAuthorized){t((0,s.jsx)(a.Q,{error:c({id:"authorization-messages.need-to-authorizate"})}),{containerId:l.W$.ERROR});return}if(u)return;let n={...(0,r.ZN)(e),isPinned:!e.isPinned};m(!0);let o=await e.togglePin();m(!1),o?t((0,s.jsx)(d,{vibe:n}),{containerId:l.W$.INFO}):t((0,s.jsx)(a.Q,{error:c({id:"error-messages.error-during-action"})}),{containerId:l.W$.ERROR})},[c,t,u,i.isAuthorized,e])}},85533:function(e,i,t){"use strict";t.d(i,{VibeButton:function(){return y},VibeButtonShimmer:function(){return p}});var s=t(9753),r=t(60836),n=t(9544),o=t(98639),l=t(31014),a=t(23881),d=t(17295),c=t(98342),u=t(39513),m=t(28852),h=t(86939),v=t(90679),b=t(2570),P=t(44367),_=t(70010),x=t.n(_);let p=e=>{let{isActive:i,className:t}=e;return(0,s.jsx)(v.Shimmer,{isActive:i,className:(0,r.W)(x().root,t)})},y=(0,n.Pi)(e=>{let{className:i,vibe:t}=e,{pageId:n}=(0,P.lV)(),{blockIdForFrom:v}=(0,P.qY)(),{ref:_,intersectionPropertyId:p}=(0,P.Vf)(),{toggleTrue:y,toggleFalse:g,state:C}=(0,d.O)(!1),{isPlaying:f,togglePlay:k}=(0,P.Qh)({seeds:t.seeds,pageIdForFrom:n,blockIdForFrom:v}),j=(0,P.lA)(),S=(0,o.useCallback)(e=>{(0,c.m)(e,x().ripple),y(),k().finally(()=>{g(),j(!f)})},[g,y,k,f,j]),N=(0,o.useMemo)(()=>{var e,i;return{"--vibe-button-background":null===(e=t.colors)||void 0===e?void 0:e.average,"--vibe-button-text-color":null===(i=t.colors)||void 0===i?void 0:i.waveText}},[t.colors]),A=f?"pause":"play";return(0,s.jsxs)(u.z,{style:N,withRipple:!1,withHover:!1,variant:"text",onClick:S,className:(0,r.W)(x().root,x().button,{[x().button_loading]:C},i),"data-intersection-property-id":p,ref:_,...(0,a.BA)(a.QM.landing.VIBE_DISCOVERY_ITEM),children:[(0,s.jsx)(h.Image,{className:x().image,withAvatarReplace:!0,withFallback:!1,src:t.backgroundImageUrl,withAspectRatio:!0,size:400,fit:"cover"}),(0,s.jsxs)("span",{className:x().textContainer,children:[(0,s.jsx)(b.Caption,{className:x().subtitle,variant:"span",type:"controls",size:"s",weight:"bold",children:(0,s.jsx)(l.Z,{id:"entity-names.my-vibe"})}),(0,s.jsxs)("span",{className:x().titleContainer,children:[(0,s.jsx)(m.J,{className:x().icon,size:"xxs",variant:A}),(0,s.jsx)(b.Heading,{className:x().title,variant:"h2",size:"xs",lineClamp:1,children:t.title})]})]})]})})},76356:function(e,i,t){"use strict";t.d(i,{VibeCard:function(){return v}});var s=t(9753),r=t(60836),n=t(9544),o=t(98639),l=t(27491),a=t(12404),d=t(2570),c=t(44367),u=t(67868),m=t(55215),h=t.n(m);let v=(0,n.Pi)(e=>{let{vibe:i,children:t,className:n}=e,{pageId:m}=(0,c.lV)(),[v,b]=(0,o.useState)(!1),{blockIdForFrom:P}=(0,c.qY)(),{settings:_}=(0,c.oR)(),{sendPlaySearchFeedback:x}=(0,c.sA)(),p=_.layout===c.t8.Mobile,{isPlaying:y,isPaused:g,togglePlay:C}=(0,c.Qh)({seeds:i.seeds,pageIdForFrom:m,blockIdForFrom:P}),f=y||g,k=(0,o.useCallback)(()=>{p&&(v||y||(b(!0),null==x||x()),C())},[p,y,v,x,C]),j=(0,o.useCallback)(()=>{v||y||(b(!0),null==x||x()),C()},[y,v,x,C]),S=(0,o.useMemo)(()=>(0,s.jsxs)(a.Paper,{className:h().cover,radius:"round",withShadow:!0,onClick:k,children:[(0,s.jsx)(u.BE,{size:200,fit:"cover",className:h().image,style:{backgroundColor:i.backgroundColor},src:i.imageUrl,alt:i.title,withAvatarReplace:!0}),f&&(0,s.jsx)(u.Up,{stopAnimation:g,className:h().playingAnimation}),(0,s.jsx)(l.kk,{className:(0,r.W)(h().controls,{[h().controls_isPlaying]:f},h().important),bottomContainerClassName:h().playControl,radius:"round",playControl:(0,s.jsx)(u.JM,{isPlaying:y,onClick:j,className:(0,r.W)(h().playButton,h().control),buttonVariant:"default",withHover:!1,iconSize:"xl",variant:"filled"})})]}),[k,j,g,y,f,i.backgroundColor,i.imageUrl,i.title]);return(0,s.jsx)(l.m7,{className:(0,r.W)(h().root,n),textPosition:"center",title:(0,s.jsx)(d.Caption,{variant:"div",type:"entity",size:"s",weight:"medium",lineClamp:2,children:i.title}),description:(0,s.jsx)(d.Caption,{variant:"div",type:"entity",size:"s",weight:"medium",lineClamp:1,children:i.subtitle}),view:S,children:t})})},4491:function(e,i,t){"use strict";t.d(i,{IT:function(){return o.ArtistCard},xG:function(){return l.ArtistContextMenu},o9:function(){return n},v2:function(){return a.useArtistDisclaimer}});var s=t(42288),r=t(33589);let n=s.V5.model("ArtistMeta",{artist:r.Go,lastMonthListeners:s.V5.maybe(s.V5.number)});var o=t(99654),l=t(54864),a=t(66975)},66975:function(e,i,t){"use strict";t.d(i,{useArtistDisclaimer:function(){return o}});var s=t(98639),r=t(3429),n=t(44367);let o=e=>{let{artist:i,callback:t,shouldHistoryBack:o}=e,{disclaimer:l,modals:{disclaimerModal:a}}=(0,n.oR)(),d=(0,s.useRef)(String((0,r.Z)())),c=(0,s.useRef)(!1),u=(0,n.uK)().get(n.ce);return(0,s.useEffect)(()=>{l.isUnsafeDisclaimerConfirmed&&l.id===d.current&&!c.current&&(null==t||t(),c.current=!0)},[t,l.id,l.isUnsafeDisclaimerConfirmed]),(0,s.useCallback)(async e=>{let s=u.get(n.BU.ExEx);if((null==i?void 0:i.isUnsafeLegal)&&(null==s?void 0:s.includes("".concat(n.co.ARTIST,"_").concat(i.id)))){null==t||t();return}if((null==i?void 0:i.isLegalRejected)||(null==i?void 0:i.isUnsafeLegal)){null==e||e.preventDefault(),await l.getArtistDisclaimer({artistId:i.id}),i.isUnsafeLegal&&l.setType(n.Gq.UNSAFE),l.setId(d.current),l.setEntityId(i.id),l.setEntityType(n.co.ARTIST),l.setShouldHistoryBack(!!o),c.current=!1,a.open();return}null==e||e.preventDefault(),null==t||t()},[null==i?void 0:i.id,null==i?void 0:i.isLegalRejected,null==i?void 0:i.isUnsafeLegal,t,l,a,u,o])}},99654:function(e,i,t){"use strict";t.d(i,{ArtistCard:function(){return k}});var s=t(9753),r=t(60836),n=t(9544),o=t(98639),l=t(80542),a=t(31014),d=t(52122),c=t(23881),u=t(84338),m=t(39513),h=t(27491),v=t(28852),b=t(12404),P=t(2570),_=t(33589),x=t(44367),p=t(67868),y=t(66975),g=t(54864),C=t(62914),f=t.n(C);let k=(0,n.Pi)(e=>{let{artist:i,className:t,children:n,contentLinesCount:C}=e,{ref:k,intersectionPropertyId:j}=(0,x.Vf)(),S=(0,x.x5)(),{formatMessage:N}=(0,l.Z)(),[A,T]=(0,o.useState)(!1),[L,V]=(0,o.useState)(!1),[B,R]=(0,o.useState)(!1),{sendLikeSearchFeedback:I,sendNavigateSearchFeedback:E,sendPlaySearchFeedback:M}=(0,x.sA)(),w=(0,x.zx)(),O=(0,_.SB)(i),z=(0,_.BV)(i),{id:F,name:U,coverUri:G,isLiked:H}=i,W=(0,x.s0)(i.url),D=(0,x.s0)(i.url,!0),[Z,K]=(0,o.useState)(!1),J=(0,o.useMemo)(()=>{let e=N({id:"entity-names.artist-name"},{artistName:U}),i=H?N({id:"entity-names.has-your-like"}):"";return"".concat(e," ").concat(i)},[U,H,N]),{isPlaying:Y,togglePlay:q}=(0,x.qm)({playContextParams:{contextData:{type:u.Ak.Artist,meta:{id:Number(F)},from:S},loadContextMeta:!0}}),Q=(0,y.useArtistDisclaimer)({artist:i,callback:W}),X=(0,y.useArtistDisclaimer)({artist:i,callback:D}),$=(0,y.useArtistDisclaimer)({artist:i,callback:q}),ee=(0,_.ik)(X,Q),ei=(0,o.useCallback)(e=>{null==E||E(),w({to:d.qU.ArtistScreen}),ee(e)},[E,w,ee]),et=(0,o.useCallback)(e=>{ei(e)},[ei]),es=(0,o.useCallback)(()=>{A||Y||(T(!0),null==M||M()),$()},[Y,A,M,$]),er=(0,o.useCallback)(()=>{L||H||(V(!0),null==I||I()),O()},[H,O,L,I]),en=(0,o.useCallback)(e=>{e.preventDefault(),e.stopPropagation()},[]),eo=(0,o.useCallback)(()=>{R(!B),K(!B)},[B]),el=(0,o.useMemo)(()=>(0,s.jsx)(g.ArtistContextMenu,{artist:i,onOpenChange:eo,open:B,returnFocus:!1,reference:(0,s.jsx)(m.z,{onClick:en,className:(0,r.W)(f().menuButton,f().control),"aria-label":N({id:"interface-actions.context-menu"}),icon:(0,s.jsx)(v.J,{size:"xxs",variant:"more"}),size:"s",radius:"round",...(0,c.BA)(c.bG.artist.ARTIST_CONTEXT_MENU_BUTTON)})}),[i,N,en,eo,B]),ea=(0,o.useMemo)(()=>{if(i.isAvailable)return(0,s.jsx)(h.kk,{isVisible:B||Z,className:f().controls,radius:"round",playControl:(0,s.jsx)(p.JM,{buttonVariant:"default",withHover:!1,className:(0,r.W)(f().playButton,f().control),iconSize:"xl",variant:"filled",onClick:es,isPlaying:Y,disabled:!i.isAvailableForPlaying}),likeControl:(0,s.jsx)(p.dJ,{className:(0,r.W)(f().likeButton,f().control),isLiked:H,onClick:er,variant:"default",size:"s",iconSize:"xxs"}),menuControl:el,pinControl:(0,s.jsx)(p.RT,{onClick:z,isPinned:i.isPinned,className:(0,r.W)(f().pinButton,f().control),withRipple:!1})})},[i.isAvailable,i.isAvailableForPlaying,el,er,es,B,Z,H,Y,i.isPinned,z]),ed=(0,o.useMemo)(()=>(0,s.jsx)(b.Paper,{className:f().cover,radius:"round",withShadow:!0,...(0,c.BA)(c.bG.artist.ARTIST_CARD),children:(0,s.jsxs)("div",{className:f().coverBlock,onClick:et,children:[(0,s.jsx)(p.BE,{className:f().image,src:G,size:200,fit:"cover",alt:J,withAvatarReplace:!0,isAvailable:i.isAvailable,"aria-hidden":!0}),ea]})}),[et,G,J,i.isAvailable,ea]);return(0,s.jsx)(h.m7,{ref:k,className:(0,r.W)(f().root,t),textPosition:"center","aria-label":J,title:(0,s.jsx)(P.Caption,{variant:"div",type:"entity",size:"s",weight:"medium",lineClamp:2,children:(0,s.jsx)(p.rU,{className:f().titleLink,href:i.url,"aria-label":J,onClick:ei,...(0,c.BA)(c.bG.artist.ARTIST_TITLE),children:U})}),srTitle:(0,s.jsx)(p.rU,{href:i.url,onClick:ei,children:J}),"data-intersection-property-id":j,description:(0,s.jsx)(P.Caption,{variant:"div",type:"entity",size:"s",weight:"medium",...(0,c.BA)(c.bG.artist.ARTIST_SUBTITLE),children:(0,s.jsx)(a.Z,{id:"entity-names.singer"})}),contentLinesCount:C,view:ed,...(0,c.BA)(c.bG.artist.ARTIST_ITEM),children:n})})},54864:function(e,i,t){"use strict";t.d(i,{ArtistContextMenu:function(){return c}});var s=t(9753),r=t(9544),n=t(98639),o=t(385),l=t(33589),a=t(44367),d=t(67868);let c=(0,r.Pi)(e=>{var i,t,r;let{artist:c,lastMonthListeners:u,reference:m,onOpenChange:h,open:v,returnFocus:b}=e,{settings:P,experiments:_,trailer:x}=(0,a.oR)(),p=(0,l.BV)(c),y=(0,l.SB)(c),g="".concat(a.aU.ARTIST,"-").concat(null==c?void 0:c.id),C=P.layout===a.t8.Mobile,f=_.checkExperiment(a.pe.WebNextEntityTrailer,"on")&&_.checkExperiment(a.pe.WebNextSwitchToStrmWithoutEncrypt,"on")&&(null==c?void 0:null===(i=c.trailer)||void 0===i?void 0:i.isAvailable),{href:k}=(0,a.qK)(null!==(t=null==c?void 0:c.url)&&void 0!==t?t:""),{isPlaying:j,togglePlay:S}=(0,a.Qh)({seeds:null!==(r=null==c?void 0:c.seeds)&&void 0!==r?r:[],pageIdForFrom:a.Rh.RADIO,blockIdForFrom:g}),N=(0,n.useCallback)(()=>{j||S()},[j,S]),A=(0,n.useCallback)(()=>{(null==c?void 0:c.id)&&x.openArtistTrailer(null==c?void 0:c.id)},[null==c?void 0:c.id,x]);return(0,a.ZP)(v),(0,s.jsxs)(o.v2,{reference:m,isMobile:C,title:null==c?void 0:c.name,description:u,offsetOptions:10,open:v,onOpenChange:h,returnFocus:b,children:[!C&&(0,s.jsx)(d.Zd,{onClick:p,isPinned:null==c?void 0:c.isPinned}),(0,s.jsx)(d.xZ,{onClick:y,isLiked:null==c?void 0:c.isLiked,disabled:!(null==c?void 0:c.isAvailable)}),f&&(0,s.jsx)(d.NB,{onClick:A}),(0,s.jsx)(d.GQ,{onClick:N,disabled:!(null==c?void 0:c.isAvailable),variant:"artist"}),(0,s.jsx)(d.zq,{disabled:!c,shareLink:k,entityVariant:"artist",entityTitle:null==c?void 0:c.name})]})})},31579:function(e,i,t){"use strict";t.d(i,{vY:function(){return n.EmptyPlaylistBlock},ZL:function(){return s.PlaylistCard},Nn:function(){return b},d2:function(){return d},VD:function(){return r.PlaylistsCarousel},RE:function(){return y},Q9:function(){return x},VB:function(){return p}});var s=t(22003),r=t(18921),n=t(6030),o=t(42288),l=t(33589),a=t(12090);let d=a.Cd.props({artists:o.V5.maybe(o.V5.array(l.Go))});var c=t(44367),u=t(13196),m=t(59131);let h=o.V5.model("PlaylistOwner",{uid:o.V5.number,login:o.V5.string,name:o.V5.string,sex:o.V5.enumeration(Object.values(m.oF)),verified:o.V5.boolean}),v=o.V5.model("PlaylistOwner",{userInfo:o.V5.maybeNull(h),caseForms:o.V5.maybeNull(u.S2)}),b=a.Cd.props({owner:o.V5.maybe(h),modified:o.V5.string,description:o.V5.maybe(o.V5.string),madeFor:o.V5.maybeNull(v)}).views(e=>({get seeds(){var i;return["playlist:".concat(null===(i=e.owner)||void 0===i?void 0:i.login,"_").concat(e.kind)]}})).actions(e=>({changeDescription:(0,o.ls)(function*(i){if(!(0,o.fh)(e))return c.SL.ERROR;if(e.description===i)return c.SL.OK;if(i.length>a.Zn)return c.SL.ERROR;let{usersResource:t,modelActionsLogger:s}=(0,o.dU)(e);if(e.canUserChange){let r=e.description;e.description=i;try{let s=yield t.changePlaylistDescription({description:i,userId:e.uid,playlistKind:e.kind});return e.description=s.description,c.SL.OK}catch(i){e.description=r,s.error(i)}}return c.SL.ERROR}),changePlaylistCover:(0,o.ls)(function*(i){if(!(0,o.fh)(e))return c.SL.ERROR;let{usersResource:t,modelActionsLogger:s}=(0,o.dU)(e);try{return yield t.uploadPlaylistCover({userId:e.uid,formData:i,playlistKind:e.kind}),c.SL.OK}catch(e){s.error(e)}return c.SL.ERROR})})),P=e=>({uid:e.uid,login:e.login,name:e.name,sex:e.sex,verified:e.verified}),_=e=>(0,o.pj)({userInfo:e.userInfo?P(e.userInfo):null,caseForms:e.caseForms?(0,c.GA)(e.caseForms):null}),x=e=>(0,o.pj)({...(0,a.PV)(e),owner:e.owner?P(e.owner):void 0,description:e.description,modified:e.modified,madeFor:e.madeFor?_(e.madeFor):null}),p=e=>{var i,t;return(0,o.pj)({...(0,a.PV)(e),artists:null!==(t=null==e?void 0:null===(i=e.artists)||void 0===i?void 0:i.map(l.d))&&void 0!==t?t:[]})},y=e=>{var i,t;let{playlist:s,generatedPlaylistType:r,likesCount:n}=e;return(0,o.pj)({isAvailable:null===(t=s.available)||void 0===t||t,uuid:s.playlistUuid,title:s.title,uid:s.uid,kind:s.kind,coverUri:null===(i=s.cover)||void 0===i?void 0:i.uri,generatedPlaylistType:r,likesCount:n})}},6030:function(e,i,t){"use strict";t.d(i,{EmptyPlaylistBlock:function(){return u}});var s=t(9753),r=t(60836),n=t(98639),o=t(31014),l=t(28852),a=t(2570),d=t(98746),c=t.n(d);let u=e=>{let{className:i,isEmptySearch:t}=e,d=(0,n.useMemo)(()=>t?(0,s.jsx)(o.Z,{id:"search-results.not-found-title"}):(0,s.jsx)(o.Z,{id:"error-messages.empty-collection-playlist-title"}),[t]),u=(0,n.useMemo)(()=>t?(0,s.jsx)(o.Z,{id:"search-results.not-found-description"}):(0,s.jsx)(o.Z,{id:"error-messages.empty-collection-playlist-description"}),[t]);return(0,s.jsxs)("div",{className:(0,r.W)(c().root,i),children:[(0,s.jsx)("div",{className:c().iconBackground,children:(0,s.jsx)(l.J,{variant:"search",size:"l",className:c().icon})}),(0,s.jsx)(a.Heading,{variant:"h3",size:"xs",className:c().title,children:d}),(0,s.jsx)(a.Caption,{variant:"span",size:"l",className:c().subtitle,children:u})]})}},22003:function(e,i,t){"use strict";t.d(i,{PlaylistCard:function(){return j}});var s=t(9753),r=t(60836),n=t(9544),o=t(98639),l=t(80542),a=t(52122),d=t(23881),c=t(84338),u=t(39513),m=t(27491),h=t(28852),v=t(12404),b=t(2570),P=t(33589),_=t(12090),x=t(44367),p=t(67868);let y=e=>{let{formatMessage:i}=(0,l.Z)();return(0,o.useMemo)(()=>{let t="";e.isLiked&&!e.actualLikesCount?t=i({id:"entity-names.has-your-like"}):"number"==typeof e.actualLikesCount&&(t=e.actualLikesCount>0?i({id:"entity-names.likes-counter"},{counter:e.actualLikesCount}):i({id:"entity-names.likes-counter-empty"}));let s=i({id:"entity-names.playlist-name"},{playlistName:e.title});return"".concat(s," ").concat(t)},[i,e])};var g=t(385);let C=(0,n.Pi)(e=>{var i;let{playlist:t,reference:r,onOpenChange:n,open:l,returnFocus:a}=e,{settings:d,experiments:c,trailer:u}=(0,x.oR)(),m=(0,_.SB)(t),h=(0,_.BV)(t),v=d.layout===x.t8.Mobile,b=c.checkExperiment(x.pe.WebNextEntityTrailer,"on")&&c.checkExperiment(x.pe.WebNextSwitchToStrmWithoutEncrypt,"on")&&(null===(i=t.trailer)||void 0===i?void 0:i.isAvailable);(0,x.ZP)(l);let P=(0,o.useCallback)(()=>{u.openPlaylistTrailer(t.id)},[t.id,u]);return(0,s.jsxs)(g.v2,{title:t.title,onOpenChange:n,open:l,offsetOptions:10,reference:r,isMobile:v,returnFocus:a,children:[!v&&(0,s.jsx)(p.Zd,{onClick:h,isPinned:t.isPinned}),!t.isFavouritePlaylist&&(0,s.jsx)(p.xZ,{onClick:m,isLiked:t.isLiked}),b&&(0,s.jsx)(p.NB,{onClick:P})]})});var f=t(88308),k=t.n(f);let j=(0,n.Pi)(e=>{let{className:i,playlist:t,children:n,contentLinesCount:g,customDescription:f}=e,{ref:j,intersectionPropertyId:S}=(0,x.Vf)(),N=(0,x.x5)(),{formatMessage:A}=(0,l.Z)(),{sendLikeSearchFeedback:T,sendNavigateSearchFeedback:L,sendPlaySearchFeedback:V}=(0,x.sA)(),[B,R]=(0,o.useState)(!1),[I,E]=(0,o.useState)(!1),[M,w]=(0,o.useState)(!1),O=y(t),z=(0,_.SB)(t),F=(0,_.BV)(t),U=(0,x.zx)(),G=(0,x.s0)(t.url),H=(0,x.s0)(t.url,!0),W=(0,P.ik)(H,G),[D,Z]=(0,o.useState)(!1),{isPlaying:K,togglePlay:J}=(0,x.qm)({playContextParams:{contextData:{type:c.Ak.Playlist,meta:{id:t.id,uuid:t.uuid},from:N},loadContextMeta:!0}}),Y=(0,o.useCallback)(()=>{U({to:a.qU.PlaylistScreen}),null==L||L()},[U,L]),q=(0,o.useCallback)(e=>{Y(),W(e)},[W,Y]),Q=(0,o.useCallback)(()=>{B||K||(R(!0),null==V||V()),J()},[K,B,V,J]),X=(0,o.useCallback)(()=>{I||t.isLiked||(E(!0),null==T||T()),z()},[z,I,t.isLiked,T]),$=(0,o.useCallback)(e=>{e.preventDefault(),e.stopPropagation()},[]),ee=(0,o.useCallback)(()=>{w(!M),Z(!M)},[M]),ei=(0,o.useMemo)(()=>{var e;return f?(0,s.jsx)(b.Caption,{variant:"span",type:"entity",size:"s",weight:"medium",lineClamp:2,children:f}):(null===(e=t.artists)||void 0===e?void 0:e.length)?(0,s.jsx)(P.jO,{className:k().artists,artists:t.artists,lineClamp:1,linkClassName:k().artistLink,captionSize:"s"}):void 0},[t.artists,f]),et=(0,o.useMemo)(()=>{if(!t.isFavouritePlaylist)return(0,s.jsx)(p.dJ,{className:(0,r.W)(k().likeButton,k().control),isLiked:t.isLiked,onClick:X,variant:"default",size:"s",iconSize:"xxs"})},[X,t.isFavouritePlaylist,t.isLiked]),es=(0,o.useMemo)(()=>(0,s.jsx)(v.Paper,{className:k().cover,radius:"s",withShadow:!0,...(0,d.BA)(d.bG.playlist.PLAYLIST_CARD),children:(0,s.jsxs)("div",{className:k().coverBlock,onClick:q,children:[(0,s.jsx)(p.BE,{className:k().image,src:t.coverUri,size:200,fit:"cover",alt:O,withAvatarReplace:!0,"aria-hidden":!0}),(0,s.jsx)(m.kk,{isVisible:M||D,className:k().controls,playControl:(0,s.jsx)(p.JM,{className:(0,r.W)(k().playButton,k().control),buttonVariant:"default",withHover:!1,iconSize:"xl",variant:"filled",onClick:Q,isPlaying:K,disabled:!t.isAvailable}),likeControl:et,menuControl:(0,s.jsx)(C,{playlist:t,onOpenChange:ee,open:M,returnFocus:!1,reference:(0,s.jsx)(u.z,{onClick:$,className:(0,r.W)(k().menuButton,k().control),"aria-label":A({id:"interface-actions.context-menu"}),icon:(0,s.jsx)(h.J,{size:"xxs",variant:"more"}),size:"s",radius:"round",...(0,d.BA)(d.bG.playlist.PLAYLIST_CONTEXT_MENU_BUTTON)})}),pinControl:(0,s.jsx)(p.RT,{onClick:F,isPinned:t.isPinned,className:(0,r.W)(k().pinButton,k().control),withRipple:!1})})]})}),[q,t,O,M,D,Q,K,et,ee,$,A,F]),er=!!t.actualLikesCount&&!t.isLikesCountHidden;return(0,s.jsxs)(m.m7,{ref:j,"aria-label":O,className:(0,r.W)(k().root,i),title:(0,s.jsx)(b.Caption,{variant:"div",type:"entity",size:"s",weight:"medium",lineClamp:2,...(0,d.BA)(d.bG.playlist.PLAYLIST_TITLE),children:(0,s.jsx)(p.rU,{className:k().titleLink,href:t.url,onClick:Y,children:t.title})}),srTitle:(0,s.jsx)(p.rU,{href:t.url,onClick:Y,children:t.title}),"data-intersection-property-id":S,contentLinesCount:g,view:es,description:ei,...(0,d.BA)(d.bG.playlist.PLAYLIST_ITEM),children:[er&&(0,s.jsx)(p.DB,{ariaLabel:A({id:"entity-names.likes-counter"},{counter:t.actualLikesCount}),likesCount:t.actualLikesCount,isLiked:t.isLiked,handleLikeClick:z}),n]})})},18921:function(e,i,t){"use strict";t.d(i,{PlaylistsCarousel:function(){return a}});var s=t(9753),r=t(98639),n=t(67868),o=t(22003);let l=e=>{let{forwardRef:i,isShimmerVisible:t,isShimmerActive:r,title:l,description:a,playlists:d,containerClassName:c,className:u,headerClassName:m,viewAllActionLink:h,...v}=e;return(0,s.jsx)(n.HY,{isShimmerVisible:t,isShimmerActive:r,className:u,headerClassName:m,containerClassName:c,ref:i,title:l,description:a,viewAllActionLink:h,...v,children:null==d?void 0:d.map(e=>(0,s.jsx)(o.PlaylistCard,{playlist:e,contentLinesCount:3},e.key))})},a=(0,r.forwardRef)((e,i)=>(0,s.jsx)(l,{forwardRef:i,...e}))},17777:function(e,i,t){"use strict";t.d(i,{SearchHistoryPage:function(){return x}});var s=t(9753),r=t(98780),n=t(9544),o=t(98639),l=t(80542),a=t(31014),d=t(23881),c=t(39513),u=t(28852),m=t(41055),h=t(2570),v=t(23194),b=t(44367),P=t(15739),_=t.n(P);let x=(0,n.Pi)(()=>{var e;let i=(0,b.uK)().get(b.U5),{search:t,user:n,settings:P,experiments:x}=(0,b.oR)(),{formatMessage:p}=(0,l.Z)(),y=(0,b.k6)(),g=(0,o.useRef)(!1),C=(0,o.useRef)(null),f=(0,v.vy)(()=>{g.current=!0}),k=P.layout===b.t8.Mobile,j=t.history.items.length;t.isHistoryReady&&(null===(e=n.account)||void 0===e?void 0:e.uid)&&(0,o.use)(t.getHistory({userId:n.account.uid,config:i,experiments:x})),(0,o.useEffect)(()=>{C.current&&y.canBack&&C.current.focus()},[y.canBack]),(0,o.useEffect)(()=>()=>{(null==g?void 0:g.current)?(t.resetHistoryItems(),g.current=!1):t.resetHistoryStateRequest()},[t]);let S=(0,o.useMemo)(()=>(0,r.Z)(()=>{null==y||y.back()},200),[y]),N=(0,o.useMemo)(()=>j?(0,s.jsx)("div",{className:_().items,children:t.history.items.map(v.Fu).filter(e=>!!e)}):(0,s.jsx)(h.Caption,{className:_().emptyHistory,variant:"div",size:"m",type:"text",children:(0,s.jsx)(a.Z,{id:"search.history-empty"})}),[t.history.items,j]);return(0,s.jsx)("div",{className:_().root,...(0,d.BA)(d.Br.search.SEARCH_HISTORY_PAGE),children:(0,s.jsxs)(m.t,{className:_().scrollContent,containerClassName:_().scrollContainer,children:[(0,s.jsxs)("div",{className:_().header,children:[(0,s.jsxs)("div",{className:_().title,children:[y.canBack&&(0,s.jsx)(c.z,{ref:C,"aria-label":p({id:"navigation.go-back"}),radius:"round",disabled:!y.canBack,size:"s",icon:(0,s.jsx)(u.J,{size:"xxs",variant:"arrowLeft"}),onClick:S}),(0,s.jsx)(h.Heading,{variant:"h2",size:k?"m":"xl",children:(0,s.jsx)(a.Z,{id:"search.history"})})]}),(0,s.jsx)(c.z,{"aria-label":p({id:"search.clear-history"}),radius:"xxxl",variant:"outline",disabled:!j,size:k?"s":"default",onClick:f,children:(0,s.jsx)(h.Caption,{variant:"span",size:"m",type:"text",children:(0,s.jsx)(a.Z,{id:"search.clear-history"})})})]}),!t.isHistoryLoading&&N]})})})},55805:function(e,i,t){"use strict";t.d(i,{SearchPage:function(){return f}});var s=t(9753),r=t(60836),n=t(98780),o=t(9544),l=t(74717),a=t(98639),d=t(80542),c=t(23881),u=t(59131),m=t(41055),h=t(54950),v=t(14102),b=t(21901),P=t(23194),_=t(44367),x=t(67868);let p=[u.ay.TOP,u.ay.TRACK,u.ay.ALBUM,u.ay.ARTIST,u.ay.PLAYLIST,u.ay.PODCAST,u.ay.BOOK],y=()=>{let e=(0,_.RV)(),{experiments:i}=(0,_.oR)();return p.filter(t=>{if((t!==u.ay.PODCAST||e||i.checkExperiment(_.pe.WebNextPodcastSearch,"on"))&&(t!==u.ay.BOOK||e||i.checkExperiment(_.pe.WebNextBookSearch,"on")))return t})};var g=t(77722),C=t.n(g);let f=(0,o.Pi)(()=>{let e=(0,v.useTabsState)(0),[i,t]=(0,a.useState)(u.ay.TOP),[o,g]=(0,a.useState)(!1),{formatMessage:f}=(0,d.Z)(),{search:k,experiments:j}=(0,_.oR)(),S=(0,_.uK)().get(_.U5),N=y();j.checkExperiment(_.pe.WebNextDisableSearch,"on")&&(0,l.redirect)("/");let[A,T]=(0,a.useState)(""),L=A.length>0;(0,a.useEffect)(()=>()=>{k.reset()},[k]);let V=(0,a.useCallback)((e,i)=>{k.resetResults(),0!==e.length&&k.getSearchResults({text:decodeURIComponent(e),filter:i,config:S,experiments:j})},[k,S,j]),B=(0,a.useCallback)(e=>{let t=encodeURIComponent(e.trim());T(t),V(t,i),k.resetSearchCorrectedText(),g(!1)},[k,V,i,g]),R=(0,a.useCallback)(()=>{g(!0)},[g]),I=(0,a.useMemo)(()=>(0,n.Z)(i=>{var s;if(!e.onTabChange||i===e.value)return;e.onTabChange(i);let r=null!==(s=p[i])&&void 0!==s?s:u.ay.TOP;t(r),V(A,r)},300),[V,A,e]),E=(0,a.useMemo)(()=>e=>{let{id:i,type:t,blockPosition:s,position:r,feedbackType:n}=e;k.sendFeedback({blockType:t,entityId:"".concat(t,":").concat(i),timestamp:new Date().toISOString(),searchRequestId:k.searchRequestId,query:A,clickType:n,blockPosition:s,position:r,page:0})},[k,A]),M=(0,a.useMemo)(()=>k.searchCorrectedText?(0,s.jsx)(P.gK,{searchCorrectedText:k.searchCorrectedText,onCorrectText:R}):null,[R,k.searchCorrectedText]),w=(0,a.useMemo)(()=>{if(!k.isLoading&&0===k.results.length)return(0,s.jsx)(P.hF,{searchCorrectedText:M});switch(i){case u.ay.TOP:return(0,s.jsx)(P.Id,{className:C().searchResults,isLoading:k.isLoading,results:k.results,sendSearchFeedback:E,searchCorrectedText:M});case u.ay.TRACK:return(0,s.jsx)(P.XM,{className:C().searchResults,isLoading:k.isLoading,results:k.results,sendSearchFeedback:E,searchCorrectedText:M});case u.ay.ALBUM:return(0,s.jsx)(P.xz,{className:C().searchResults,isLoading:k.isLoading,results:k.results,filter:u.ay.ALBUM,sendSearchFeedback:E,searchCorrectedText:M});case u.ay.PLAYLIST:return(0,s.jsx)(P.xz,{className:C().searchResults,isLoading:k.isLoading,results:k.results,filter:u.ay.PLAYLIST,sendSearchFeedback:E,searchCorrectedText:M});case u.ay.ARTIST:return(0,s.jsx)(P.xz,{className:C().searchResults,isLoading:k.isLoading,results:k.results,filter:u.ay.ARTIST,sendSearchFeedback:E,searchCorrectedText:M});case u.ay.PODCAST:return(0,s.jsx)(P.R_,{className:C().searchResults,isLoading:k.isLoading,results:k.results,sendSearchFeedback:E,searchCorrectedText:M});case u.ay.BOOK:return(0,s.jsx)(P.xz,{className:C().searchResults,isLoading:k.isLoading,results:k.results,filter:u.ay.BOOK,sendSearchFeedback:E,searchCorrectedText:M});default:return M}},[k.isLoading,k.results,i,E,M]),O=(0,a.useMemo)(()=>A.length>0?w:(0,s.jsxs)(m.t,{className:C().scrollableContent,containerClassName:C().main,children:[(0,s.jsx)(a.Suspense,{children:(0,s.jsx)(_.J,{blockId:_.BE.SEARCH_HISTORY,blockType:_.BE.SEARCH_HISTORY,blockPosX:1,blockPosY:1,blockIdForFrom:_.BE.SEARCH_HISTORY,objectsCount:k.history.items.length,children:(0,s.jsx)(P.y9,{})})}),(0,s.jsx)(a.Suspense,{children:(0,s.jsx)(b.JG,{})}),(0,s.jsx)(x.$_,{className:C().footer})]}),[A.length,w,k.history.items.length]),z=(0,a.useMemo)(()=>({top:f({id:"search-filters.top"}),track:f({id:"search-filters.track"}),album:f({id:"search-filters.album"}),artist:f({id:"search-filters.artist"}),playlist:f({id:"search-filters.playlist"}),podcast:f({id:"search-filters.podcast"}),book:f({id:"search-filters.book"})}),[f]);return(0,s.jsx)(_.Lh,{pageId:_.Rh.SEARCH,children:(0,s.jsxs)("div",{className:(0,r.W)(C().root,{[C().root_showFilters]:L}),...(0,c.BA)(c.Br.search.SEARCH_PAGE),children:[(0,s.jsxs)("div",{className:C().header,children:[(0,s.jsx)(h.M,{className:C().input,autoFocus:!0,initialValue:A,placeholder:f({id:"search.input-placeholder"}),onChange:B,resetButtonAriaLabel:f({id:"interface-actions.reset-search-input"}),correctedValue:o?k.searchCorrectedText:null}),L&&(0,s.jsx)(x.no,{className:C().tabCarousel,...e,onTabChange:I,children:N.map((i,t)=>(0,s.jsx)(x.OK,{className:(0,r.W)(C().filter,{[C().filter_selected]:t===e.value}),title:z[i],value:t},t))})]}),(0,s.jsx)("div",{className:C().content,children:O})]})})})},21901:function(e,i,t){"use strict";t.d(i,{JG:function(){return s.Mixes},RB:function(){return r.MixesGrid},ZP:function(){return u}});var s=t(8564),r=t(54140),n=t(42288),o=t(10542),l=t(59131),a=t(48606),d=t(44367);let c=e=>({items:(0,n.pj)(e.items.map(e=>(0,a.Fh)(e.data)))}),u=n.V5.model("Mixes",{loadingState:n.V5.enumeration(Object.values(d.Gu)),items:n.V5.array(a.zn),errorStatusCode:n.V5.maybeNull(n.V5.number)}).actions(e=>({getMixes:(0,n.ls)(function*(i){let{landingResource:t,modelActionsLogger:s}=(0,n.dU)(e);if(e.loadingState!==d.Gu.PENDING)try{e.loadingState=d.Gu.PENDING;let s=yield t.getBlock({uri:"/landing/block/mixes",fullList:i},l.gQ.MIXES);e.items=c(s).items,e.loadingState=d.Gu.RESOLVE}catch(i){s.error(i),i instanceof o.du&&(i.statusCode===o.CN.NOT_FOUND||i.statusCode===o.CN.BAD_REQUEST)&&(e.errorStatusCode=o.CN.NOT_FOUND),e.loadingState!==d.Gu.IDLE&&(e.loadingState=d.Gu.REJECT)}})})).views(e=>({get isLoading(){return e.loadingState===d.Gu.IDLE||e.loadingState===d.Gu.PENDING},get isRejected(){return e.loadingState===d.Gu.REJECT},get isNotFound(){let i=e.loadingState===d.Gu.RESOLVE&&0===e.items.length;return e.errorStatusCode===o.CN.NOT_FOUND||i}}))},8564:function(e,i,t){"use strict";t.d(i,{Mixes:function(){return b}});var s=t(9753),r=t(9544),n=t(98639),o=t(44367),l=t(80542),a=t(5993),d=t(48606),c=t(67868),u=t(66051),m=t.n(u);let h=(0,r.Pi)(e=>{let{isShimmerVisible:i,isShimmerActive:t,mixes:r}=e,{formatMessage:o}=(0,l.Z)(),u=(0,n.useMemo)(()=>i?(0,c.Cl)({isActive:t,withInfo:!1}):r.map(e=>(0,s.jsx)(d.GX,{title:e.title,weblink:e.weblink,covers:e.covers,coverSize:80,imagesLayoutType:e.imagesLayoutType},e.id)),[t,i,r]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.ti,{className:m().carouselHeader,title:o({id:"entity-names.mixes"}),titleSize:"xs",viewAllActionLink:"/mixes"}),(0,s.jsx)(a.l,{className:m().carouselBlock,itemClassName:m().mixItem,children:u})]})});var v=t(54140);let b=(0,r.Pi)(()=>{let{settings:e,search:i}=(0,o.oR)(),t=e.layout===o.t8.Mobile;return(i.mixes.loadingState===o.Gu.IDLE&&(0,n.use)(i.mixes.getMixes(!1)),t)?(0,s.jsx)(h,{isShimmerVisible:i.mixes.isLoading||i.mixes.isRejected,isShimmerActive:i.mixes.isLoading,mixes:i.mixes.items}):(0,s.jsx)(v.MixesGrid,{isShimmerVisible:i.mixes.isLoading||i.mixes.isRejected,isShimmerActive:i.mixes.isLoading,mixes:i.mixes.items,withTitle:!0})})},54140:function(e,i,t){"use strict";t.d(i,{MixesGrid:function(){return m}});var s=t(9753),r=t(9544),n=t(98639),o=t(31014),l=t(2570),a=t(48606),d=t(67868),c=t(8104),u=t.n(c);let m=(0,r.Pi)(e=>{let{isShimmerVisible:i,isShimmerActive:t,withTitle:r,mixes:c,shimmerCount:m=5}=e,h=(0,n.useMemo)(()=>i?(0,s.jsx)(d.Wm,{isActive:t,round:!1,centered:!1,withInfo:!1,count:m}):c.map(e=>(0,s.jsx)(a.GX,{title:e.title,weblink:e.weblink,covers:e.covers,imagesLayoutType:e.imagesLayoutType},e.id)),[t,i,c,m]);return(0,s.jsxs)("div",{children:[r&&(0,s.jsx)(l.Heading,{className:u().mixesTitle,size:"s",weight:"bold",variant:"h3",children:(0,s.jsx)(o.Z,{id:"entity-names.mixes"})}),(0,s.jsx)("div",{className:u().mixesGrid,children:h})]})})},86678:function(e){e.exports={root:"MixCard_root__9tPLV",header:"MixCard_header__j7Zpo",title:"MixCard_title__nhghp",cover:"MixCard_cover__oSu73",covers:"MixCard_covers__S61hz",covers_stack:"MixCard_covers_stack__VeHDp",covers_radial:"MixCard_covers_radial__orE40"}},70010:function(e){e.exports={root:"VibeButton_root___i3R5",ripple:"VibeButton_ripple__cmoBR",textContainer:"VibeButton_textContainer__j9nOW",titleContainer:"VibeButton_titleContainer__yrRRu",title:"VibeButton_title__sLC0I",subtitle:"VibeButton_subtitle__MQ_Ca",image:"VibeButton_image__GOwKJ",button:"VibeButton_button__tXFAm",button_loading:"VibeButton_button_loading__LYnUR","applying-setting":"VibeButton_applying-setting__Jd_3C",icon:"VibeButton_icon__KIv7n"}},55215:function(e){e.exports={root:"VibeCard_root__9TDjP",playingAnimation:"VibeCard_playingAnimation__iRgvh",cover:"VibeCard_cover__LbX93",image:"VibeCard_image__luolD",controls:"VibeCard_controls__CcEVx",controls_isPlaying:"VibeCard_controls_isPlaying__1_Ass",important:"VibeCard_important__WPWqc",control:"VibeCard_control__SM3H4",playControl:"VibeCard_playControl__pZxq5",playButton:"VibeCard_playButton__LWepP"}},62914:function(e){e.exports={root:"ArtistCard_root__x67BK",controls:"ArtistCard_controls__jsqqI",cover:"ArtistCard_cover__29ShU",coverBlock:"ArtistCard_coverBlock__dBL4x",image:"ArtistCard_image__pONJx",titleLink:"ArtistCard_titleLink__G8Puz",playButton:"ArtistCard_playButton__XZoTr",likeButton:"ArtistCard_likeButton__LU9TL",menuButton:"ArtistCard_menuButton__EynXG",pinButton:"ArtistCard_pinButton__G_VOi",control:"ArtistCard_control___qv5j"}},98746:function(e){e.exports={root:"EmptyPlaylistBlock_root__wpA0j",iconBackground:"EmptyPlaylistBlock_iconBackground__pnUlz",title:"EmptyPlaylistBlock_title__pQQLf",subtitle:"EmptyPlaylistBlock_subtitle__P4Q7x"}},88308:function(e){e.exports={root:"PlaylistCard_root__i3pR4",controls:"PlaylistCard_controls__Ej8Rz",cover:"PlaylistCard_cover__tpK5L",coverBlock:"PlaylistCard_coverBlock__1slsN",image:"PlaylistCard_image__Li6oy",titleLink:"PlaylistCard_titleLink__H8qEc",artists:"PlaylistCard_artists__HtVIF",artistLink:"PlaylistCard_artistLink__jx3KB",playButton:"PlaylistCard_playButton__eaduk",likeButton:"PlaylistCard_likeButton__RYXJz",menuButton:"PlaylistCard_menuButton__jFcWr",pinButton:"PlaylistCard_pinButton__jhWnL",control:"PlaylistCard_control__73YUq"}},15739:function(e){e.exports={root:"SearchHistoryPage_root__Wbvyf",title:"SearchHistoryPage_title__gnJuo",header:"SearchHistoryPage_header__YdTG5",scrollContainer:"SearchHistoryPage_scrollContainer__ScAez",scrollContent:"SearchHistoryPage_scrollContent__5AXWC",content:"SearchHistoryPage_content__iPgVO",desktopItem:"SearchHistoryPage_desktopItem__Xv9C_",items:"SearchHistoryPage_items___okS8",emptyHistory:"SearchHistoryPage_emptyHistory__gzfUu"}},77722:function(e){e.exports={header:"SearchPage_header__BOkdn",root:"SearchPage_root__i7sE0",root_showFilters:"SearchPage_root_showFilters__reB44",input:"SearchPage_input__TSbxK",content:"SearchPage_content__ycqK5",scrollableContent:"SearchPage_scrollableContent__gzoBu",main:"SearchPage_main__FV4Cr",tabCarousel:"SearchPage_tabCarousel__9cWOl",filter:"SearchPage_filter__5xzTL",filter_selected:"SearchPage_filter_selected__FOfyJ",compilations:"SearchPage_compilations__52N9u",footer:"SearchPage_footer__20bvg"}},66051:function(e){e.exports={carouselBlock:"MixesCarousel_carouselBlock__ZpMU2",carouselHeader:"MixesCarousel_carouselHeader__6mMHX",mixItem:"MixesCarousel_mixItem__YNSsB"}},8104:function(e){e.exports={mixesTitle:"MixesGrid_mixesTitle__QawnL",mixesGrid:"MixesGrid_mixesGrid__uZQtt"}}}]);