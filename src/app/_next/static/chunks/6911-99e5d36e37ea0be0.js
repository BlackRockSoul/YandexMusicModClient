(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6911],{96911:function(e,i,t){"use strict";t.d(i,{rf:function(){return a.AlbumCard},oK:function(){return h.AlbumContextMenu},ug:function(){return c.u},wk:function(){return u},vK:function(){return n.UpcomingAlbumCard},W9:function(){return p},ym:function(){return b},cO:function(){return k},wJ:function(){return f},wq:function(){return _},jV:function(){return x.useAlbumDisclaimer}});var a=t(81822),n=t(33170),l=t(8759),s=t(99616),r=t(44285);let o=e=>{let{forwardRef:i,isShimmerVisible:t,isShimmerActive:n,title:s,description:o,albums:u,className:c,containerClassName:d,headerClassName:m,viewAllActionLink:v,headingRef:p,...b}=e;return(0,l.jsx)(r.HY,{isShimmerVisible:t,isShimmerActive:n,className:c,headerClassName:m,containerClassName:d,ref:i,title:s,description:o,viewAllActionLink:v,headingRef:p,...b,children:null==u?void 0:u.map(e=>(0,l.jsx)(a.AlbumCard,{album:e,contentLinesCount:3},e.id))})},u=(0,s.forwardRef)((e,i)=>(0,l.jsx)(o,{forwardRef:i,...e}));var c=t(59942),d=t(96555),m=t(96169),v=t(81446);let p=m.gI.props({artists:d.V5.maybe(d.V5.array(v.Go))}).views(e=>({get artistNames(){var i;return null===(i=e.artists)||void 0===i?void 0:i.map(e=>e.name).join(", ")}})),b=e=>{let i=e.artists.map(e=>(0,v.d)(e));return(0,d.pj)({...(0,m.N)(e),artists:i})},_=e=>{var i;let t=null===(i=e.artists)||void 0===i?void 0:i.map(v.tR);return(0,d.pj)({...(0,m.hh)(e),artists:t})};var C=t(5674);let k=e=>{var i,t,a,n;let{album:l,artists:s,likesCount:r}=e,o="";if(null===(i=l.cover)||void 0===i?void 0:i.color){let{h:e,s:i}=(0,C.sE)(null===(n=l.cover)||void 0===n?void 0:n.color);o="hsl(".concat(e,", ").concat(i,"%, ").concat(20,"%)")}return(0,d.pj)({id:l.id,title:l.title,coverUri:null===(t=l.cover)||void 0===t?void 0:t.uri,type:l.albumType,contentWarning:l.contentWarning,disclaimers:l.disclaimers,artists:null==s?void 0:s.map(v.tR),averageColor:null===(a=l.cover)||void 0===a?void 0:a.color,hslAverageColor:o,isAvailable:l.available,likesCount:r})};var A=t(16121);let f=e=>{let{album:i,artists:t,likesCount:a,chart:n}=e;return(0,d.pj)({...k({album:i,artists:t,likesCount:a}),chart:n&&(0,A.W5)(n)})};var x=t(52412),h=t(32990)},52412:function(e,i,t){"use strict";t.r(i),t.d(i,{useAlbumDisclaimer:function(){return s}});var a=t(99616),n=t(42503),l=t(5674);let s=e=>{let{album:i,callback:t,shouldHistoryBack:s}=e,{disclaimer:r,modals:{disclaimerModal:o}}=(0,l.oR)(),u=(0,a.useRef)(String((0,n.Z)())),c=(0,a.useRef)(!1),d=(0,l.uK)(),m=d.get(l.ce);return(0,a.useEffect)(()=>{r.isUnsafeDisclaimerConfirmed&&r.id===u.current&&!c.current&&(null==t||t(),c.current=!0)},[t,r.isUnsafeDisclaimerConfirmed,r.id]),(0,a.useCallback)(async e=>{let a=m.get(l.BU.ExEx),n=(null==i?void 0:i.isPodcast)?null==a?void 0:a.includes("".concat(l.co.PODCAST,"_").concat(i.id)):null==a?void 0:a.includes("".concat(l.co.ALBUM,"_").concat(null==i?void 0:i.id));if((null==i?void 0:i.isUnsafeLegal)&&n){null==t||t();return}if((null==i?void 0:i.isLegalRejected)||(null==i?void 0:i.isUnsafeLegal)){null==e||e.preventDefault(),await r.getAlbumDisclaimer({albumId:i.id}),i.isUnsafeLegal&&r.setType(l.Gq.UNSAFE),r.setId(u.current),r.setEntityId(i.id),i.isPodcast?r.setEntityType(l.co.PODCAST):r.setEntityType(l.co.ALBUM),r.setShouldHistoryBack(!!s),c.current=!1,o.open();return}null==t||t()},[null==i?void 0:i.id,null==i?void 0:i.isLegalRejected,null==i?void 0:i.isPodcast,null==i?void 0:i.isUnsafeLegal,t,r,o,m,s])}},59942:function(e,i,t){"use strict";t.d(i,{u:function(){return r}});var a=t(96555),n=t(96169),l=t(81446),s=t(16121);let r=n.KX.props({artists:a.V5.maybe(a.V5.array(l.Go)),chart:a.V5.maybe(s.BH)}).views(e=>({get artistNames(){var i;return null===(i=e.artists)||void 0===i?void 0:i.map(e=>e.name).join(", ")}}))},81822:function(e,i,t){"use strict";t.r(i),t.d(i,{AlbumCard:function(){return j}});var a=t(8759),n=t(35338),l=t(33423),s=t(99616),r=t(65244),o=t(82834),u=t(454),c=t(57413),d=t(34603),m=t(15527),v=t(14077),p=t(14581),b=t(96437),_=t(1918),C=t(96169),k=t(81446),A=t(16121),f=t(5674),x=t(44285),h=t(52412),g=t(32990),y=t(75008),L=t.n(y);let j=(0,l.Pi)(e=>{let{className:i,children:t,album:l,contentLinesCount:y,withLikesCount:j,withChart:B,withAddition:N=!0}=e,{ref:U,intersectionPropertyId:M}=(0,f.Vf)(),w=(0,f.x5)(),{formatMessage:P}=(0,r.Z)(),{sendLikeSearchFeedback:S,sendNavigateSearchFeedback:E,sendPlaySearchFeedback:z}=(0,f.sA)(),[R,D]=(0,s.useState)(!1),[T,V]=(0,s.useState)(!1),[W,I]=(0,s.useState)(!1),O=(0,f.zx)(),q=(0,C.SB)(l),G=(0,C.BV)(l),K=(0,f.s0)(l.url),{sonataState:{status:Z},experiments:J}=(0,f.oR)(),[F,X]=(0,s.useState)(!1),Y=(0,C.TL)(l),H=l.type===d.VZ.SINGLE?P({id:"entity-names.single"}):void 0,Q=(0,f.tN)([l.year,H]),$=(0,s.useMemo)(()=>{var e;let i=P({id:"entity-names.album-name"},{albumName:l.title}),t=l.isLiked?P({id:"entity-names.has-your-like"}):"";return"".concat(i," ").concat(null!==(e=l.version)&&void 0!==e?e:""," ").concat(t)},[P,l.title,l.isLiked,l.version]),{isPlaying:ee,togglePlay:ei}=(0,f.qm)({playContextParams:{contextData:{type:c.Ak.Album,meta:{id:l.id},from:w},loadContextMeta:!0},sonataStatus:Z}),et=(0,h.useAlbumDisclaimer)({album:l,callback:K}),ea=(0,h.useAlbumDisclaimer)({album:l,callback:ei}),en=(0,s.useCallback)(e=>{O({to:o.qU.AlbumScreen}),null==E||E(),et(e)},[O,E,et]),el=(0,s.useCallback)(e=>{en(e)},[en]),es=(0,s.useCallback)(()=>{T||ee||(V(!0),null==z||z()),ea()},[ee,T,z,ea]),er=(0,s.useCallback)(()=>{R||l.isLiked||(D(!0),null==S||S()),q()},[l.isLiked,q,R,S]),eo=(0,s.useCallback)(e=>{e.preventDefault(),e.stopPropagation()},[]),eu=(0,s.useCallback)(()=>{I(!W),X(!W)},[W]),ec=(0,s.useMemo)(()=>{var e;return(0,a.jsxs)(_.Caption,{className:(0,n.W)(L().title,{[L().title_withVersion]:l.version}),variant:"div",type:"entity",size:"s",weight:"medium",lineClamp:2,...(0,u.BA)(u.bG.album.ALBUM_TITLE),children:[(0,a.jsx)(x.rU,{"aria-label":"".concat(l.title," ").concat(null!==(e=l.version)&&void 0!==e?e:""),className:L().titleLink,href:l.url,onClick:en,children:l.title}),l.version&&(0,a.jsx)(_.Caption,{className:L().version,variant:"span",...(0,u.BA)(u.bG.album.ALBUM_VERSION),children:" ".concat(l.version)})]})},[l.title,l.url,l.version,en]),ed=(0,s.useMemo)(()=>{var e;return(0,a.jsx)(x.rU,{href:l.url,onClick:en,children:"".concat(l.title," ").concat(null!==(e=l.version)&&void 0!==e?e:"")})},[l.title,l.url,l.version,en]),em=(0,s.useMemo)(()=>(0,a.jsx)(g.AlbumContextMenu,{album:l,onOpenChange:eu,open:W,returnFocus:!1,reference:(0,a.jsx)(m.z,{onClick:eo,className:(0,n.W)(L().menuButton,L().control),"aria-label":P({id:"interface-actions.context-menu"}),icon:(0,a.jsx)(p.J,{size:"xxs",variant:"more"}),size:"s",radius:"round",...(0,u.BA)(u.bG.album.ALBUM_CONTEXT_MENU_BUTTON)})}),[l,P,eo,eu,W]),ev=(0,s.useMemo)(()=>{if(J.checkExperiment(f.pe.WebPins,"on"))return(0,a.jsx)(x.RT,{onClick:G,isPinned:l.isPinned,className:(0,n.W)(L().pinButton,L().control),withRipple:!1})},[l.isPinned,J,G]),ep=(0,s.useMemo)(()=>{if(l.isAvailable)return(0,a.jsx)(v.kk,{isVisible:W||F,className:L().controls,playControl:(0,a.jsx)(x.JM,{className:(0,n.W)(L().playButton,L().control),buttonVariant:"default",withHover:!1,iconSize:"xl",variant:"filled",onClick:es,isPlaying:ee}),likeControl:(0,a.jsx)(x.dJ,{className:(0,n.W)(L().likeButton,L().control),isLiked:l.isLiked,onClick:er,variant:"default",size:"s",iconSize:"xxs"}),menuControl:em,pinControl:ev})},[l.isAvailable,l.isLiked,em,er,es,W,F,ee,ev]),eb=(0,s.useMemo)(()=>(0,a.jsx)(b.Paper,{className:L().cover,radius:"s",withShadow:!0,...(0,u.BA)(u.bG.album.ALBUM_CARD),children:(0,a.jsxs)("div",{className:L().coverBlock,onClick:el,children:[(0,a.jsx)(x.BE,{className:L().image,src:l.coverUri,size:200,fit:"cover",alt:$,withAvatarReplace:!0,isAvailable:l.isAvailable,"aria-hidden":!0}),Y&&(0,a.jsx)(p.J,{variant:"bookmateBadge",className:L().bookmateBadge}),ep]})}),[el,l.coverUri,l.isAvailable,$,Y,ep]);return(0,a.jsxs)(v.m7,{ref:U,className:(0,n.W)(L().root,i),"aria-label":$,explicitMark:l.albumExplicitMark,title:ec,srTitle:ed,"data-intersection-property-id":M,contentLinesCount:y,view:eb,description:(0,a.jsx)(k.jO,{className:L().artists,artists:l.artists,lineClamp:1,linkClassName:L().artistLink,captionSize:"s"}),chart:B&&l.chart&&(0,a.jsx)(A.kL,{position:l.chart.position,progress:l.chart.progress}),...(0,u.BA)(u.bG.album.ALBUM_ITEM),children:[N&&Q&&(0,a.jsx)(_.Caption,{className:L().addition,variant:"div",type:"entity",size:"s",weight:"medium",lineClamp:1,children:Q}),j&&!!l.actualLikesCount&&(0,a.jsx)(x.DB,{ariaLabel:P({id:"entity-names.likes-counter"},{counter:l.actualLikesCount}),likesCount:l.actualLikesCount,isLiked:l.isLiked,handleLikeClick:q}),t]})})},32990:function(e,i,t){"use strict";t.r(i),t.d(i,{AlbumContextMenu:function(){return c}});var a=t(8759),n=t(33423),l=t(99616),s=t(52317),r=t(96169),o=t(5674),u=t(44285);let c=(0,n.Pi)(e=>{var i;let{album:t,reference:n,onOpenChange:c,open:d,returnFocus:m}=e,{settings:v,experiments:p}=(0,o.oR)(),b=(0,o.uK)(),_=b.get(o.U5),C=(0,r.SB)(t),k=(0,r.BV)(t),A="".concat(o.aU.ALBUM,"-").concat(t.id),f=v.layout===o.t8.Mobile,x=p.checkExperiment(o.pe.WebPins,"on")&&!f,h=_.features.nonMusic&&t.isPodcast,{href:g}=(0,o.qK)(t.url),{isPlaying:y,togglePlay:L}=(0,o.Qh)({seeds:null!==(i=null==t?void 0:t.seeds)&&void 0!==i?i:[],pageIdForFrom:o.Rh.RADIO,blockIdForFrom:A}),j=(0,l.useCallback)(()=>{y||L()},[y,L]);(0,o.ZP)(d);let B=(0,l.useMemo)(()=>{if(x)return(0,a.jsx)(u.Zd,{onClick:k,isPinned:t.isPinned})},[t.isPinned,k,x]),N=(0,l.useMemo)(()=>h?(0,a.jsx)(u.qq,{onClick:C,isLiked:null==t?void 0:t.isLiked}):(0,a.jsx)(u.xZ,{onClick:C,isLiked:null==t?void 0:t.isLiked,disabled:!t.isAvailable}),[t.isAvailable,null==t?void 0:t.isLiked,C,h]),U=(0,l.useMemo)(()=>{if(!h)return(0,a.jsx)(u.GQ,{onClick:j,disabled:!t.isAvailable,variant:"album"})},[t.isAvailable,j,h]);return(0,a.jsxs)(s.v2,{reference:n,title:null==t?void 0:t.title,description:null==t?void 0:t.artistNames,isMobile:f,offsetOptions:10,open:d,returnFocus:m,onOpenChange:c,children:[B,N,U,(0,a.jsx)(u.zq,{shareLink:g,entityVariant:"album",entityTitle:t.title})]})})},33170:function(e,i,t){"use strict";t.r(i),t.d(i,{UpcomingAlbumCard:function(){return f}});var a=t(8759),n=t(35338),l=t(33423),s=t(99616),r=t(65244),o=t(2814),u=t(15527),c=t(14077),d=t(14581),m=t(96437),v=t(1918),p=t(96169),b=t(81446),_=t(5674),C=t(44285),k=t(41113),A=t.n(k);let f=(0,l.Pi)(e=>{let{className:i,children:t,upcomingAlbum:l,contentLinesCount:k}=e,{ref:f,intersectionPropertyId:x}=(0,_.Vf)(),{formatMessage:h,formatDate:g}=(0,r.Z)(),y=(0,p.IK)(l),L=(0,s.useMemo)(()=>{let e=h({id:"entity-names.upcoming-album-name"},{upcomingAlbumName:l.title}),i=l.isPresave?h({id:"entity-names.has-your-like"}):"";return"".concat(e," ").concat(i)},[h,l.title,l.isPresave]),j=(0,s.useMemo)(()=>(0,a.jsxs)(m.Paper,{className:A().cover,radius:"s",withShadow:!0,children:[(0,a.jsx)(C.BE,{className:A().image,src:l.coverUri,size:200,fit:"cover",alt:L,withAvatarReplace:!0}),(0,a.jsx)(c.kk,{className:A().controls,playControl:(0,a.jsx)(u.z,{className:A().lockButton,disabled:!0,radius:"xxxl",variant:"default",size:"s",icon:(0,a.jsx)(d.J,{variant:"lock",size:"xxs",className:A().lockIcon}),"aria-label":h({id:"entity-names.upcoming-album-play-disabled"})}),likeControl:(0,a.jsx)(C.dJ,{className:(0,n.W)(A().control,A().presaveButton),isLiked:l.isPresave,onClick:y,variant:"default",size:"s",iconSize:"xxs"})})]}),[h,y,l.coverUri,l.isPresave,L]);return(0,a.jsxs)(c.m7,{ref:f,className:(0,n.W)(A().root,i),"aria-label":L,explicitMark:l.albumExplicitMark,title:(0,a.jsx)(v.Caption,{variant:"div",type:"entity",size:"s",weight:"medium",lineClamp:2,children:l.title}),"data-intersection-property-id":x,contentLinesCount:k,view:j,description:(0,a.jsx)(b.jO,{className:A().artists,artists:l.artists,lineClamp:1,linkClassName:A().artistLink,captionSize:"s"}),children:[(0,a.jsx)(v.Caption,{className:A().releaseDate,variant:"div",type:"entity",size:"s",weight:"medium",lineClamp:1,children:(0,a.jsx)(o.Z,{id:"entity-names.upcoming-album-date",values:{releaseDate:g(l.releaseDate,(0,_.YT)())}})}),t]})})},75008:function(e){e.exports={root:"AlbumCard_root__vP6k4",controls:"AlbumCard_controls__yuO40",cover:"AlbumCard_cover__zXmdl",coverBlock:"AlbumCard_coverBlock__94ZzY",image:"AlbumCard_image__Mm55s",titleLink:"AlbumCard_titleLink__u_WLG",title:"AlbumCard_title__8YvhT",title_withVersion:"AlbumCard_title_withVersion__NClAp",version:"AlbumCard_version__h2aJz",artists:"AlbumCard_artists__phKco",artistLink:"AlbumCard_artistLink__uPR_2",playButton:"AlbumCard_playButton__mYK9R",likeButton:"AlbumCard_likeButton__9B9C0",menuButton:"AlbumCard_menuButton__pxkA6",pinButton:"AlbumCard_pinButton__Mdi_E",control:"AlbumCard_control__qx7Xh",bookmateBadge:"AlbumCard_bookmateBadge__Ewbyg"}},41113:function(e){e.exports={root:"UpcomingAlbumCard_root__lSZ5l",controls:"UpcomingAlbumCard_controls__fQ50f",cover:"UpcomingAlbumCard_cover__qvU1m",image:"UpcomingAlbumCard_image__WKtGR",releaseDate:"UpcomingAlbumCard_releaseDate__EvDzB",artists:"UpcomingAlbumCard_artists__Jp1OE",artistLink:"UpcomingAlbumCard_artistLink__RSqXw",control:"UpcomingAlbumCard_control__pSMdI",presaveButton:"UpcomingAlbumCard_presaveButton__ixwy_",lockButton:"UpcomingAlbumCard_lockButton__9_qyp",lockIcon:"UpcomingAlbumCard_lockIcon__wtvkP"}}}]);