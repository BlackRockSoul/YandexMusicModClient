(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1871],{65151:function(e,t,n){"use strict";n.d(t,{t:function(){return r}});var a=n(8759),o=n(99616),s=n(45412),i=n(5674),l=n(34512);let r=()=>{let{notify:e}=(0,i.d$)(),{sonataState:t,modals:{fullscreenPlayerModal:n}}=(0,i.oR)(),r=(0,i.R$)();return(0,o.useCallback)(()=>{if(null===t.entityMeta||!t.canChangeRepeatMode)return;let o=s.zq.NONE;switch(t.repeatMode){case s.zq.NONE:o=s.zq.CONTEXT;break;case s.zq.CONTEXT:o=s.zq.ONE}null==r||r.setRepeatMode(o),e((0,a.jsx)(l.NotificationRepeat,{repeatMode:o}),{containerId:n.isOpened?i.W$.FULLSCREEN_INFO:i.W$.INFO})},[n.isOpened,e,r,t.canChangeRepeatMode,t.entityMeta,t.repeatMode])}},37960:function(e,t,n){"use strict";n.d(t,{m:function(){return l}});var a=n(8759),o=n(99616),s=n(5674),i=n(74758);let l=()=>{let{notify:e}=(0,s.d$)(),{sonataState:t,modals:{fullscreenPlayerModal:n}}=(0,s.oR)(),l=(0,s.R$)();return(0,o.useCallback)(()=>{null!==t.entityMeta&&t.canShuffle&&(null==l||l.toggleShuffle(),e((0,a.jsx)(i.NotificationShuffle,{shuffle:!!(null==l?void 0:l.state.queueState.shuffle.value)}),{containerId:n.isOpened?s.W$.FULLSCREEN_INFO:s.W$.INFO}))},[n.isOpened,e,l,t.canShuffle,t.entityMeta])}},34512:function(e,t,n){"use strict";n.r(t),n.d(t,{NotificationRepeat:function(){return f}});var a=n(8759),o=n(35338),s=n(99616),i=n(2814),l=n(45412),r=n(14581),c=n(1918),u=n(44285),d=n(55075),_=n.n(d);let f=e=>{let{repeatMode:t,closeToast:n}=e,d=t===l.zq.ONE?"repeat_one":"repeat",f=(0,s.useMemo)(()=>{let e;switch(t){case l.zq.CONTEXT:e=(0,a.jsx)(i.Z,{id:"notifications-info.change-repeat-context"});break;case l.zq.ONE:e=(0,a.jsx)(i.Z,{id:"notifications-info.change-repeat-track"});break;case l.zq.NONE:default:e=(0,a.jsx)(i.Z,{id:"notifications-info.change-repeat-none"})}return(0,a.jsx)(c.Caption,{className:_().message,variant:"div",type:"controls",size:"m",children:e})},[t]);return(0,a.jsx)(u.Yj,{cover:(0,a.jsx)(r.J,{className:(0,o.W)(_().icon,{[_().icon_unset]:t===l.zq.NONE}),size:"xs",variant:d}),message:f,closeToast:n})}},74758:function(e,t,n){"use strict";n.r(t),n.d(t,{NotificationShuffle:function(){return _}});var a=n(8759),o=n(35338),s=n(99616),i=n(2814),l=n(14581),r=n(1918),c=n(44285),u=n(46520),d=n.n(u);let _=e=>{let{shuffle:t,closeToast:n}=e,u=(0,s.useMemo)(()=>{let e;return e=t?(0,a.jsx)(i.Z,{id:"notifications-info.shuffle-enabled"}):(0,a.jsx)(i.Z,{id:"notifications-info.shuffle-disabled"}),(0,a.jsx)(r.Caption,{className:d().message,variant:"div",type:"controls",size:"m",children:e})},[t]);return(0,a.jsx)(c.Yj,{cover:(0,a.jsx)(l.J,{className:(0,o.W)(d().icon,{[d().icon_unset]:!t}),size:"xs",variant:"shuffle"}),message:u,closeToast:n})}},6769:function(e,t,n){"use strict";n.r(t),n.d(t,{RepeatButton:function(){return p}});var a=n(8759),o=n(35338),s=n(65244),i=n(454),l=n(45412),r=n(15527),c=n(14581),u=n(65151),d=n(20873),_=n.n(d);let f=(e,t,n)=>t(e===l.zq.NONE||n?{id:"player-actions.repeat"}:e===l.zq.ONE?{id:"player-actions.repeat-one"}:{id:"player-actions.repeat-context"}),p=e=>{let{isDisabled:t,repeatMode:n,className:d,iconClassName:p,size:x="xxxs",iconSize:N="xs",color:h,variant:v="default"}=e,m=(0,u.t)(),{formatMessage:B}=(0,s.Z)(),C=t||n!==l.zq.ONE?"repeat":"repeat_one",b=f(n,B,t);return(0,a.jsx)(r.z,{className:d,radius:"round",size:x,variant:v,color:h,disabled:t,withRipple:!1,"aria-label":b,"aria-pressed":!t&&n!==l.zq.NONE,onClick:m,icon:(0,a.jsx)(c.J,{size:N,variant:C,className:(0,o.W)(_().repeatIcon,_()["repeatIcon_".concat(n)],{[_().repeatIcon_disabled]:t},p)}),...(0,i.BA)(i.bG.sonata.REPEAT_BUTTON)})}},66403:function(e,t,n){"use strict";n.r(t),n.d(t,{ShuffleButton:function(){return _}});var a=n(8759),o=n(35338),s=n(65244),i=n(454),l=n(15527),r=n(14581),c=n(37960),u=n(94406),d=n.n(u);let _=e=>{let{isDisabled:t,shuffle:n,className:u,size:_="xxxs",variant:f="default",iconSize:p="xs",color:x}=e,N=(0,c.m)(),{formatMessage:h}=(0,s.Z)();return(0,a.jsx)(l.z,{className:u,radius:"round",size:_,variant:f,color:x,withRipple:!1,disabled:t,"aria-label":h({id:"player-actions.shuffle"}),"aria-pressed":!t&&n,icon:(0,a.jsx)(r.J,{variant:"shuffle",size:p,className:(0,o.W)(d().shuffleIcon,{[d().shuffleIcon_disabled]:t,[d().shuffleIcon_on]:!t&&n,[d().shuffleIcon_off]:!t&&!n})}),onClick:N,...(0,i.BA)(i.bG.sonata.SHUFFLE_BUTTON)})}},21871:function(e,t,n){"use strict";n.r(t),n.d(t,{SonataControls:function(){return T}});var a=n(8759),o=n(33423),s=n(99616),i=n(86502),l=n(5674),r=n(65151),c=n(37960),u=n(35338),d=n(65244),_=n(454),f=n(15527),p=n(14581),x=n(44285),N=n(6769),h=n(66403),v=n(19035),m=n.n(v);let B=(0,o.Pi)(e=>{let{disabled:t,isPlaying:n,repeatMode:o,canMoveForward:s,canMoveBackward:i,canShuffle:l,shuffle:r,onClickNext:c,onClickPrev:v,onClickPlayPause:B,canChangeRepeatMode:C,className:b}=e,{formatMessage:S}=(0,d.Z)();return(0,a.jsxs)("div",{className:(0,u.W)(m().root,b),children:[(0,a.jsx)("div",{className:m().buttonContainer,children:(t||l)&&(0,a.jsx)(h.ShuffleButton,{className:m().sonataButton,size:"xxxs",variant:"text",iconSize:"xs",isDisabled:t,shuffle:r})}),(0,a.jsxs)("div",{className:m().sonataButtons,children:[(0,a.jsx)(f.z,{className:m().sonataButton,variant:"text",size:"m",radius:"round",disabled:!i,withRipple:!1,"aria-label":S({id:"player-actions.previous-track"}),icon:(0,a.jsx)(p.J,{variant:"previous"}),onClick:v,...(0,_.BA)(_.bG.sonata.PREVIOUS_TRACK_BUTTON)}),(0,a.jsx)(x.JM,{className:m().sonataButton,iconSize:"l",variant:"filled",isPlaying:n,iconClassName:m().playButtonIcon,onClick:B}),(0,a.jsx)(f.z,{className:m().sonataButton,radius:"round",size:"m",variant:"text",disabled:!s,withRipple:!1,"aria-label":S({id:"player-actions.next-track"}),icon:(0,a.jsx)(p.J,{variant:"next"}),onClick:c,...(0,_.BA)(_.bG.sonata.NEXT_TRACK_BUTTON)})]}),(0,a.jsx)("div",{className:m().buttonContainer,children:(t||C)&&(0,a.jsx)(N.RepeatButton,{className:m().sonataButton,size:"xxxs",variant:"text",isDisabled:t,iconSize:"xs",repeatMode:o})})]})});var C=n(57004);let b=e=>{let{disabled:t,isPlaying:n,onClickPlayPause:o,className:s}=e;return(0,a.jsx)(C.PlayButton,{className:s,size:"s",disabled:t,isPlaying:n,onClick:o})};var S=n(24516),k=n.n(S);let y=(0,o.Pi)(e=>{let{disabled:t,isPlaying:n,repeatMode:o,canMoveForward:s,canMoveBackward:i,canShuffle:l,onClickNext:r,onClickPrev:c,onClickPlayPause:v,canChangeRepeatMode:m,shuffle:B,className:C}=e,{formatMessage:b}=(0,d.Z)();return(0,a.jsxs)("div",{className:(0,u.W)(k().root,C),children:[(0,a.jsx)("div",{className:k().buttonContainer,children:(t||l)&&(0,a.jsx)(h.ShuffleButton,{className:k().sonataButton,size:"s",iconSize:"xxs",color:"secondary",isDisabled:t,shuffle:B})}),(0,a.jsxs)("div",{className:k().sonataButtons,children:[(0,a.jsx)(f.z,{className:k().sonataButton,color:"secondary",size:"m",radius:"round",disabled:!i,withRipple:!1,"aria-label":b({id:"player-actions.previous-track"}),icon:(0,a.jsx)(p.J,{variant:"previous"}),onClick:c,...(0,_.BA)(_.bG.sonata.PREVIOUS_TRACK_BUTTON)}),(0,a.jsx)(x.JM,{className:k().sonataButton,iconSize:"m",size:"l",radius:"round",color:"secondary",buttonVariant:"default",isPlaying:n,iconClassName:k().playPauseButtonIcon,onClick:v}),(0,a.jsx)(f.z,{className:k().sonataButton,radius:"round",size:"m",color:"secondary",disabled:!s,withRipple:!1,"aria-label":b({id:"player-actions.next-track"}),icon:(0,a.jsx)(p.J,{variant:"next"}),onClick:r,...(0,_.BA)(_.bG.sonata.NEXT_TRACK_BUTTON)})]}),(0,a.jsx)("div",{className:k().buttonContainer,children:(t||m)&&(0,a.jsx)(N.RepeatButton,{className:k().sonataButton,size:"s",color:"secondary",isDisabled:t,iconSize:"xxs",repeatMode:o})})]})});var j=n(57413),z=n(43310),I=n(3273),E=n.n(I);let R=(0,o.Pi)(e=>{let{isPlaying:t,canMoveForward:n,canMoveBackward:o,onClickNext:i,onClickPrev:r,onClickPlayPause:c,className:_}=e,{formatMessage:N}=(0,d.Z)(),{user:h,sonataState:v}=(0,l.oR)(),m=(0,l.XU)(),B=v.entityMeta,C=v.contextType===j.Ak.Generative,b=h.isAuthorized&&!C,S=(0,z.SB)(v.entityMeta),k=(0,z.KX)(v.entityMeta);return(0,s.useEffect)(()=>{if(!v.isGenerativeContext)return null==m||m.addShortcutsListener(l.yx.LIKE,S),null==m||m.addShortcutsListener(l.yx.DISLIKE,k),()=>{null==m||m.removeShortcutsListener(l.yx.LIKE),null==m||m.removeShortcutsListener(l.yx.DISLIKE)}},[k,S,m,v.isGenerativeContext]),(0,a.jsxs)("div",{className:(0,u.W)(E().root,_),children:[(0,a.jsx)("div",{className:E().buttonContainer,children:B&&b&&(0,a.jsx)(x.Q1,{isDisliked:B.isDisliked,onClick:k})}),(0,a.jsxs)("div",{className:E().sonataButtons,children:[(0,a.jsx)(f.z,{className:E().sonataButton,variant:"text",color:"secondary",size:"m",radius:"round",disabled:!o,withRipple:!1,"aria-label":N({id:"player-actions.previous-track"}),icon:(0,a.jsx)(p.J,{variant:"previous"}),onClick:r}),(0,a.jsx)(x.JM,{className:E().sonataButton,iconSize:"xxl",variant:"filled",color:"secondary",isPlaying:t,iconClassName:E().playPauseButtonIcon,onClick:c}),(0,a.jsx)(f.z,{className:E().sonataButton,variant:"text",radius:"round",size:"m",color:"secondary",disabled:!n,withRipple:!1,"aria-label":N({id:"player-actions.next-track"}),icon:(0,a.jsx)(p.J,{variant:"next"}),onClick:i})]}),(0,a.jsx)("div",{className:E().buttonContainer,children:B&&b&&(0,a.jsx)(x.dJ,{isLiked:B.isLiked,onClick:S})})]})}),T=(0,o.Pi)(e=>{var t,n;let{isMobile:o,entityMeta:u,isFullscreen:d,className:_}=e,{sonataState:f,vibe:p}=(0,l.oR)(),x=(0,l.XU)(),N=(0,l.R$)(),{togglePlay:h}=(0,l.Qh)({seeds:null!==(n=null===(t=p.meta)||void 0===t?void 0:t.seeds)&&void 0!==n?n:[],pageIdForFrom:l.Rh.HOME,blockIdForFrom:l.BE.RUP_MAIN_RADIO}),v=(0,s.useMemo)(()=>{let e=[i.Xz.PLAYING,i.Xz.LOADING_MEDIA_SOURCE,i.Xz.LOADING_MEDIA_DATA];return e.includes(f.status)},[f.status]),m=(0,s.useCallback)(()=>{u?null==N||N.togglePause():h()},[u,N,h]),C=(0,s.useCallback)(()=>{null==N||N.moveForward()},[N]),S=(0,s.useCallback)(()=>{null==N||N.moveBackward()},[N]),k=(0,c.m)(),j=(0,r.t)();(0,s.useEffect)(()=>{if(!d)return null==x||x.addShortcutsListener(l.yx.TOGGLE_PLAY,m),null==x||x.addShortcutsListener(l.yx.TOGGLE_REPEAT,j),null==x||x.addShortcutsListener(l.yx.TOGGLE_SHUFFLE,k),()=>{null==x||x.removeShortcutsListener(l.yx.TOGGLE_PLAY),null==x||x.removeShortcutsListener(l.yx.TOGGLE_SHUFFLE),null==x||x.removeShortcutsListener(l.yx.TOGGLE_REPEAT)}},[d,m,j,k,x]);let z=(0,s.useMemo)(()=>d?o?R:y:o?b:B,[o,d]);return(0,a.jsx)(z,{className:_,disabled:null===f.entityMeta,isPlaying:v,canMoveBackward:f.canMoveBackward,canMoveForward:f.canMoveForward,canShuffle:f.canShuffle,shuffle:f.shuffle,onClickPlayPause:m,onClickNext:C,onClickPrev:S,canChangeRepeatMode:f.canChangeRepeatMode,repeatMode:f.repeatMode})})},55075:function(e){e.exports={icon:"NotificationRepeat_icon__TjQ9H",message:"NotificationRepeat_message__IeQXU",icon_unset:"NotificationRepeat_icon_unset__Dr5iH"}},46520:function(e){e.exports={icon:"NotificationShuffle_icon__lIKky",message:"NotificationShuffle_message___Tpxo",icon_unset:"NotificationShuffle_icon_unset__VTrhj"}},20873:function(e){e.exports={repeatIcon_none:"RepeatButton_repeatIcon_none__GQOWG",repeatIcon_context:"RepeatButton_repeatIcon_context__HRK2F",repeatIcon_one:"RepeatButton_repeatIcon_one__vVtqR",repeatIcon_disabled:"RepeatButton_repeatIcon_disabled__PYLys"}},94406:function(e){e.exports={shuffleIcon_off:"ShuffleButton_shuffleIcon_off__PWssl",shuffleIcon_on:"ShuffleButton_shuffleIcon_on__3B_Rm",shuffleIcon_disabled:"ShuffleButton_shuffleIcon_disabled__vT_hB"}},19035:function(e){e.exports={root:"SonataControlsDesktop_root__oluUH",sonataButtons:"SonataControlsDesktop_sonataButtons__ux0qT",sonataButton:"SonataControlsDesktop_sonataButton__FTykq",playButtonIcon:"SonataControlsDesktop_playButtonIcon__BgNUF",buttonContainer:"SonataControlsDesktop_buttonContainer__PczhH"}},24516:function(e){e.exports={root:"SonataFullscreenControlsDesktop_root__l4a2W",sonataButtons:"SonataFullscreenControlsDesktop_sonataButtons__BNse_",sonataButton:"SonataFullscreenControlsDesktop_sonataButton__qmSTF",playPauseButtonIcon:"SonataFullscreenControlsDesktop_playPauseButtonIcon__nD8zZ",buttonContainer:"SonataFullscreenControlsDesktop_buttonContainer__mkxBw"}},3273:function(e){e.exports={root:"SonataFullscreenControlsMobile_root__lsmD7",sonataButtons:"SonataFullscreenControlsMobile_sonataButtons__PkHh6",sonataButton:"SonataFullscreenControlsMobile_sonataButton__2P1xg",playPauseButtonIcon:"SonataFullscreenControlsMobile_playPauseButtonIcon__veX3T",buttonContainer:"SonataFullscreenControlsMobile_buttonContainer__JavFn"}}}]);