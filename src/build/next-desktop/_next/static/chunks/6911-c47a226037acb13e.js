(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6911],{96911:function(e,i,t){"use strict";t.d(i,{rf:function(){return a.AlbumCard},oK:function(){return h.AlbumContextMenu},ug:function(){return u.u},wk:function(){return c},vK:function(){return n.UpcomingAlbumCard},W9:function(){return p},ym:function(){return b},cO:function(){return k},wJ:function(){return f},wq:function(){return _},jV:function(){return x.useAlbumDisclaimer}});var a=t(81822),n=t(33170),l=t(8759),s=t(99616),r=t(44285);let o=e=>{let{forwardRef:i,isShimmerVisible:t,isShimmerActive:n,title:s,description:o,albums:c,className:u,containerClassName:d,headerClassName:m,viewAllActionLink:v,headingRef:p,...b}=e;return(0,l.jsx)(r.HY,{isShimmerVisible:t,isShimmerActive:n,className:u,headerClassName:m,containerClassName:d,ref:i,title:s,description:o,viewAllActionLink:v,headingRef:p,...b,children:null==c?void 0:c.map(e=>(0,l.jsx)(a.AlbumCard,{album:e,contentLinesCount:3},e.id))})},c=(0,s.forwardRef)((e,i)=>(0,l.jsx)(o,{forwardRef:i,...e}));var u=t(59942),d=t(96555),m=t(21774),v=t(81446);let p=m.gI.props({artists:d.V5.maybe(d.V5.array(v.Go))}).views(e=>({get artistNames(){var i;return null===(i=e.artists)||void 0===i?void 0:i.map(e=>e.name).join(", ")}})),b=e=>{let i=e.artists.map(e=>(0,v.d)(e));return(0,d.pj)({...(0,m.N)(e),artists:i})},_=e=>{var i;let t=null===(i=e.artists)||void 0===i?void 0:i.map(v.tR);return(0,d.pj)({...(0,m.hh)(e),artists:t})};var C=t(5674);let k=e=>{var i,t,a,n;let{album:l,artists:s,likesCount:r}=e,o="";if(null===(i=l.cover)||void 0===i?void 0:i.color){let{h:e,s:i}=(0,C.sE)(null===(n=l.cover)||void 0===n?void 0:n.color);o="hsl(".concat(e,", ").concat(i,"%, ").concat(20,"%)")}return(0,d.pj)({id:l.id,title:l.title,coverUri:null===(t=l.cover)||void 0===t?void 0:t.uri,type:l.albumType,contentWarning:l.contentWarning,disclaimers:l.disclaimers,artists:null==s?void 0:s.map(v.tR),averageColor:null===(a=l.cover)||void 0===a?void 0:a.color,hslAverageColor:o,isAvailable:l.available,likesCount:r})};var A=t(16121);let f=e=>{let{album:i,artists:t,likesCount:a,chart:n}=e;return(0,d.pj)({...k({album:i,artists:t,likesCount:a}),chart:n&&(0,A.W5)(n)})};var x=t(52412),h=t(32990)},52412:function(e,i,t){"use strict";t.r(i),t.d(i,{useAlbumDisclaimer:function(){return s}});var a=t(99616),n=t(42503),l=t(5674);let s=e=>{let{album:i,callback:t,shouldHistoryBack:s}=e,{disclaimer:r,modals:{disclaimerModal:o}}=(0,l.oR)(),c=(0,a.useRef)(String((0,n.Z)())),u=(0,a.useRef)(!1),d=(0,l.uK)(),m=d.get(l.ce);return(0,a.useEffect)(()=>{r.isUnsafeDisclaimerConfirmed&&r.id===c.current&&!u.current&&(null==t||t(),u.current=!0)},[t,r.isUnsafeDisclaimerConfirmed,r.id]),(0,a.useCallback)(async e=>{let a=m.get(l.BU.ExEx),n=(null==i?void 0:i.isPodcast)?null==a?void 0:a.includes("".concat(l.co.PODCAST,"_").concat(i.id)):null==a?void 0:a.includes("".concat(l.co.ALBUM,"_").concat(null==i?void 0:i.id));if((null==i?void 0:i.isUnsafeLegal)&&n){null==t||t();return}if((null==i?void 0:i.isLegalRejected)||(null==i?void 0:i.isUnsafeLegal)){null==e||e.preventDefault(),await r.getAlbumDisclaimer({albumId:i.id}),i.isUnsafeLegal&&r.setType(l.Gq.UNSAFE),r.setId(c.current),r.setEntityId(i.id),i.isPodcast?r.setEntityType(l.co.PODCAST):r.setEntityType(l.co.ALBUM),r.setShouldHistoryBack(!!s),u.current=!1,o.open();return}null==t||t()},[null==i?void 0:i.id,null==i?void 0:i.isLegalRejected,null==i?void 0:i.isPodcast,null==i?void 0:i.isUnsafeLegal,t,r,o,m,s])}},59942:function(e,i,t){"use strict";t.d(i,{u:function(){return r}});var a=t(96555),n=t(21774),l=t(81446),s=t(16121);let r=n.KX.props({artists:a.V5.maybe(a.V5.array(l.Go)),chart:a.V5.maybe(s.BH)}).views(e=>({get artistNames(){var i;return null===(i=e.artists)||void 0===i?void 0:i.map(e=>e.name).join(", ")}}))},81822:function(e,i,t){"use strict";t.r(i),t.d(i,{AlbumCard:function(){return L}});var a=t(8759),n=t(35338),l=t(33423),s=t(99616),r=t(65244),o=t(82834),c=t(454),u=t(57413),d=t(48616),m=t(15527),v=t(14077),p=t(14581),b=t(96437),_=t(1918),C=t(21774),k=t(81446),A=t(16121),f=t(5674),x=t(44285),h=t(52412),g=t(32990),y=t(75008),j=t.n(y);let L=(0,l.Pi)(e=>{let{className:i,children:t,album:l,contentLinesCount:y,withLikesCount:L,withChart:B,withAddition:N=!0}=e,{ref:U,intersectionPropertyId:M}=(0,f.Vf)(),w=(0,f.x5)(),{formatMessage:P}=(0,r.Z)(),{sendLikeSearchFeedback:S,sendNavigateSearchFeedback:z,sendPlaySearchFeedback:E}=(0,f.sA)(),[R,D]=(0,s.useState)(!1),[V,T]=(0,s.useState)(!1),[W,I]=(0,s.useState)(!1),O=(0,f.zx)(),G=(0,C.SB)(l),q=(0,C.BV)(l),Z=(0,f.s0)(l.url),{sonataState:{status:K},experiments:J}=(0,f.oR)(),[F,X]=(0,s.useState)(!1),Y=l.type===d.VZ.SINGLE?P({id:"entity-names.single"}):void 0,H=(0,f.tN)([l.year,Y]),Q=(0,s.useMemo)(()=>{var e;let i=P({id:"entity-names.album-name"},{albumName:l.title}),t=l.isLiked?P({id:"entity-names.has-your-like"}):"";return"".concat(i," ").concat(null!==(e=l.version)&&void 0!==e?e:""," ").concat(t)},[P,l.title,l.isLiked,l.version]),{isPlaying:$,togglePlay:ee}=(0,f.qm)({playContextParams:{contextData:{type:u.Ak.Album,meta:{id:l.id},from:w},loadContextMeta:!0},sonataStatus:K}),ei=(0,h.useAlbumDisclaimer)({album:l,callback:Z}),et=(0,h.useAlbumDisclaimer)({album:l,callback:ee}),ea=(0,s.useCallback)(e=>{O({to:o.qU.AlbumScreen}),null==z||z(),ei(e)},[O,z,ei]),en=(0,s.useCallback)(e=>{ea(e)},[ea]),el=(0,s.useCallback)(()=>{V||$||(T(!0),null==E||E()),et()},[$,V,E,et]),es=(0,s.useCallback)(()=>{R||l.isLiked||(D(!0),null==S||S()),G()},[l.isLiked,G,R,S]),er=(0,s.useCallback)(e=>{e.preventDefault(),e.stopPropagation()},[]),eo=(0,s.useCallback)(()=>{I(!W),X(!W)},[W]),ec=(0,s.useMemo)(()=>{var e;return(0,a.jsxs)(_.Caption,{className:(0,n.W)(j().title,{[j().title_withVersion]:l.version}),variant:"div",type:"entity",size:"s",weight:"medium",lineClamp:2,...(0,c.BA)(c.bG.album.ALBUM_TITLE),children:[(0,a.jsx)(x.rU,{"aria-label":"".concat(l.title," ").concat(null!==(e=l.version)&&void 0!==e?e:""),className:j().titleLink,href:l.url,onClick:ea,children:l.title}),l.version&&(0,a.jsx)(_.Caption,{className:j().version,variant:"span",...(0,c.BA)(c.bG.album.ALBUM_VERSION),children:" ".concat(l.version)})]})},[l.title,l.url,l.version,ea]),eu=(0,s.useMemo)(()=>{var e;return(0,a.jsx)(x.rU,{href:l.url,onClick:ea,children:"".concat(l.title," ").concat(null!==(e=l.version)&&void 0!==e?e:"")})},[l.title,l.url,l.version,ea]),ed=(0,s.useMemo)(()=>(0,a.jsx)(g.AlbumContextMenu,{album:l,onOpenChange:eo,open:W,returnFocus:!1,reference:(0,a.jsx)(m.z,{onClick:er,className:(0,n.W)(j().menuButton,j().control),"aria-label":P({id:"interface-actions.context-menu"}),icon:(0,a.jsx)(p.J,{size:"xxs",variant:"more"}),size:"s",radius:"round",...(0,c.BA)(c.bG.album.ALBUM_CONTEXT_MENU_BUTTON)})}),[l,P,er,eo,W]),em=(0,s.useMemo)(()=>{if(J.checkExperiment(f.pe.WebPins,"on"))return(0,a.jsx)(x.RT,{onClick:q,isPinned:l.isPinned,className:(0,n.W)(j().pinButton,j().control),withRipple:!1})},[l.isPinned,J,q]),ev=(0,s.useMemo)(()=>{if(l.isAvailable)return(0,a.jsx)(v.kk,{isVisible:W||F,className:j().controls,playControl:(0,a.jsx)(x.JM,{className:(0,n.W)(j().playButton,j().control),buttonVariant:"default",withHover:!1,iconSize:"xl",variant:"filled",onClick:el,isPlaying:$}),likeControl:(0,a.jsx)(x.dJ,{className:(0,n.W)(j().likeButton,j().control),isLiked:l.isLiked,onClick:es,variant:"default",size:"s",iconSize:"xxs"}),menuControl:ed,pinControl:em})},[l.isAvailable,l.isLiked,ed,es,el,W,F,$,em]),ep=(0,s.useMemo)(()=>(0,a.jsx)(b.Paper,{className:j().cover,radius:"s",withShadow:!0,...(0,c.BA)(c.bG.album.ALBUM_CARD),children:(0,a.jsxs)("div",{className:j().coverBlock,onClick:en,children:[(0,a.jsx)(x.BE,{className:j().image,src:l.coverUri,size:200,fit:"cover",alt:Q,withAvatarReplace:!0,isAvailable:l.isAvailable,"aria-hidden":!0}),ev]})}),[l.coverUri,l.isAvailable,en,Q,ev]);return(0,a.jsxs)(v.m7,{ref:U,className:(0,n.W)(j().root,i),"aria-label":Q,explicitMark:l.albumExplicitMark,title:ec,srTitle:eu,"data-intersection-property-id":M,contentLinesCount:y,view:ep,description:(0,a.jsx)(k.jO,{className:j().artists,artists:l.artists,lineClamp:1,linkClassName:j().artistLink,captionSize:"s"}),chart:B&&l.chart&&(0,a.jsx)(A.kL,{position:l.chart.position,progress:l.chart.progress}),...(0,c.BA)(c.bG.album.ALBUM_ITEM),children:[N&&H&&(0,a.jsx)(_.Caption,{className:j().addition,variant:"div",type:"entity",size:"s",weight:"medium",lineClamp:1,children:H}),L&&!!l.actualLikesCount&&(0,a.jsx)(x.DB,{ariaLabel:P({id:"entity-names.likes-counter"},{counter:l.actualLikesCount}),likesCount:l.actualLikesCount,isLiked:l.isLiked,handleLikeClick:G}),t]})})},32990:function(e,i,t){"use strict";t.r(i),t.d(i,{AlbumContextMenu:function(){return u}});var a=t(8759),n=t(33423),l=t(99616),s=t(52317),r=t(21774),o=t(5674),c=t(44285);let u=(0,n.Pi)(e=>{var i;let{album:t,reference:n,onOpenChange:u,open:d,returnFocus:m}=e,{settings:v,experiments:p}=(0,o.oR)(),b=(0,r.SB)(t),_=(0,r.BV)(t),C="".concat(o.aU.ALBUM,"-").concat(t.id),k=v.layout===o.t8.Mobile,A=p.checkExperiment(o.pe.WebPins,"on")&&!k,{href:f}=(0,o.qK)(t.url),{isPlaying:x,togglePlay:h}=(0,o.Qh)({seeds:null!==(i=null==t?void 0:t.seeds)&&void 0!==i?i:[],pageIdForFrom:o.Rh.RADIO,blockIdForFrom:C}),g=(0,l.useCallback)(()=>{x||h()},[x,h]);return(0,o.ZP)(d),(0,a.jsxs)(s.v2,{reference:n,title:null==t?void 0:t.title,description:null==t?void 0:t.artistNames,isMobile:k,offsetOptions:10,open:d,returnFocus:m,onOpenChange:u,children:[A&&(0,a.jsx)(c.Zd,{onClick:_,isPinned:t.isPinned}),(0,a.jsx)(c.xZ,{onClick:b,isLiked:null==t?void 0:t.isLiked,disabled:!t.isAvailable}),(0,a.jsx)(c.GQ,{onClick:g,disabled:!t.isAvailable,variant:"album"}),(0,a.jsx)(c.zq,{shareLink:f,entityVariant:"album",entityTitle:t.title})]})})},33170:function(e,i,t){"use strict";t.r(i),t.d(i,{UpcomingAlbumCard:function(){return f}});var a=t(8759),n=t(35338),l=t(33423),s=t(99616),r=t(65244),o=t(2814),c=t(15527),u=t(14077),d=t(14581),m=t(96437),v=t(1918),p=t(21774),b=t(81446),_=t(5674),C=t(44285),k=t(41113),A=t.n(k);let f=(0,l.Pi)(e=>{let{className:i,children:t,upcomingAlbum:l,contentLinesCount:k}=e,{ref:f,intersectionPropertyId:x}=(0,_.Vf)(),{formatMessage:h,formatDate:g}=(0,r.Z)(),y=(0,p.IK)(l),j=(0,s.useMemo)(()=>{let e=h({id:"entity-names.upcoming-album-name"},{upcomingAlbumName:l.title}),i=l.isPresave?h({id:"entity-names.has-your-like"}):"";return"".concat(e," ").concat(i)},[h,l.title,l.isPresave]),L=(0,s.useMemo)(()=>(0,a.jsxs)(m.Paper,{className:A().cover,radius:"s",withShadow:!0,children:[(0,a.jsx)(C.BE,{className:A().image,src:l.coverUri,size:200,fit:"cover",alt:j,withAvatarReplace:!0}),(0,a.jsx)(u.kk,{className:A().controls,playControl:(0,a.jsx)(c.z,{className:A().lockButton,disabled:!0,radius:"xxxl",variant:"default",size:"s",icon:(0,a.jsx)(d.J,{variant:"lock",size:"xxs",className:A().lockIcon}),"aria-label":h({id:"entity-names.upcoming-album-play-disabled"})}),likeControl:(0,a.jsx)(C.dJ,{className:(0,n.W)(A().control,A().presaveButton),isLiked:l.isPresave,onClick:y,variant:"default",size:"s",iconSize:"xxs"})})]}),[h,y,l.coverUri,l.isPresave,j]);return(0,a.jsxs)(u.m7,{ref:f,className:(0,n.W)(A().root,i),"aria-label":j,explicitMark:l.albumExplicitMark,title:(0,a.jsx)(v.Caption,{variant:"div",type:"entity",size:"s",weight:"medium",lineClamp:2,children:l.title}),"data-intersection-property-id":x,contentLinesCount:k,view:L,description:(0,a.jsx)(b.jO,{className:A().artists,artists:l.artists,lineClamp:1,linkClassName:A().artistLink,captionSize:"s"}),children:[(0,a.jsx)(v.Caption,{className:A().releaseDate,variant:"div",type:"entity",size:"s",weight:"medium",lineClamp:1,children:(0,a.jsx)(o.Z,{id:"entity-names.upcoming-album-date",values:{releaseDate:g(l.releaseDate,(0,_.YT)())}})}),t]})})},75008:function(e){e.exports={root:"AlbumCard_root__vP6k4",controls:"AlbumCard_controls__yuO40",cover:"AlbumCard_cover__zXmdl",coverBlock:"AlbumCard_coverBlock__94ZzY",image:"AlbumCard_image__Mm55s",titleLink:"AlbumCard_titleLink__u_WLG",title:"AlbumCard_title__8YvhT",title_withVersion:"AlbumCard_title_withVersion__NClAp",version:"AlbumCard_version__h2aJz",artists:"AlbumCard_artists__phKco",artistLink:"AlbumCard_artistLink__uPR_2",playButton:"AlbumCard_playButton__mYK9R",likeButton:"AlbumCard_likeButton__9B9C0",menuButton:"AlbumCard_menuButton__pxkA6",pinButton:"AlbumCard_pinButton__Mdi_E",control:"AlbumCard_control__qx7Xh"}},41113:function(e){e.exports={root:"UpcomingAlbumCard_root__lSZ5l",controls:"UpcomingAlbumCard_controls__fQ50f",cover:"UpcomingAlbumCard_cover__qvU1m",image:"UpcomingAlbumCard_image__WKtGR",releaseDate:"UpcomingAlbumCard_releaseDate__EvDzB",artists:"UpcomingAlbumCard_artists__Jp1OE",artistLink:"UpcomingAlbumCard_artistLink__RSqXw",control:"UpcomingAlbumCard_control__pSMdI",presaveButton:"UpcomingAlbumCard_presaveButton__ixwy_",lockButton:"UpcomingAlbumCard_lockButton__9_qyp",lockIcon:"UpcomingAlbumCard_lockIcon__wtvkP"}}}]);