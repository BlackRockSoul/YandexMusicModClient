(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6788],{3561:function(t,e,n){"use strict";n.d(e,{L:function(){return f},y5:function(){return a},iX:function(){return H},Cx:function(){return j}});var i,o,r=n(99616);let a=(0,r.createContext)(null),s=(t,e)=>e>=280&&e<360?t%360:t,l=t=>(t+280)%360,d=(t,e,n)=>{let i=i=>{let o=(i+t/30)%12;return n-e*Math.min(n,1-n)*Math.max(-1,Math.min(o-3,9-o,1))};return[i(0),i(8),i(4)]};var h=n(24807);let u=t=>Math.round(100*t)/100,c=(t,e)=>Math.floor(Math.random()*(Math.floor(e)-t+1))+t,v=t=>Math.min(1,u(t)),m=t=>null!=t?t:10,p=t=>{let{hue:e,collectionHue:n,energy:i,backgroundColor:o}=t,r={collectionHue:m(n)};return e&&(r.hue=e),i&&(r.energy=(i+1)*.4),o&&(r.backgroundColor=o),r};class f{handleUserAction(){this.audioContext.resume(),document.removeEventListener("click",this.handleUserAction)}setupListeners(){document.addEventListener("click",this.handleUserAction)}getAverageFrequencies(t){var e,n;let{low:i,high:o}=t,r=Math.floor(i/(this.audioContext.sampleRate/this.bufferLength)),a=Math.floor(o/(this.audioContext.sampleRate/this.bufferLength));null===(e=this.analyserNode)||void 0===e||e.getByteFrequencyData(this.spectrum);let s=0,l=0;for(let t=r;t<=a;t++){let e=null!==(n=this.spectrum[t])&&void 0!==n?n:0;s+=e/256,l++}return v(s/l)}constructor(t){(0,h._)(this,"audioContext",void 0),(0,h._)(this,"sourceNode",void 0),(0,h._)(this,"analyserNode",void 0),(0,h._)(this,"bufferLength",0),(0,h._)(this,"spectrum",new Uint8Array),this.audioContext=new AudioContext,this.sourceNode=this.audioContext.createMediaElementSource(t),this.analyserNode=this.audioContext.createAnalyser(),this.analyserNode.fftSize=32,this.analyserNode.smoothingTimeConstant=.9,this.sourceNode.connect(this.analyserNode),this.analyserNode.connect(this.audioContext.destination),this.bufferLength=this.analyserNode.frequencyBinCount,this.spectrum=new Uint8Array(this.bufferLength),this.handleUserAction=this.handleUserAction.bind(this),this.setupListeners()}}var x=n(7088),g=n(93456),_=n(35512),y=n(41943),S=n(85777);(i=o||(o={})).ACTIVE_TAB="ACTIVE_TAB",i.BLOCK_VISIBILITY="BLOCK_VISIBILITY",i.MANUAL="MANUAL";class b{start(){let t=window.performance.now(),e=1e3/this.fps,n=i=>{this.requestId=requestAnimationFrame(n);let o=i-t;o>=e-.1&&(t=i-o%e,this.render(o))};this.requestId=requestAnimationFrame(n)}stop(){cancelAnimationFrame(this.requestId)}constructor(t,e){(0,h._)(this,"fps",void 0),(0,h._)(this,"render",void 0),(0,h._)(this,"requestId",void 0),this.fps=t,this.render=e,this.requestId=0}}var w=n(12143),C=n(59728);class R{clamp(t,e,n){return Math.min(Math.max(t,e),n)}get value(){return this.formatter?this.formatter(this.currentValue):this.currentValue}update(t){this.targetValue=t,this.elapsedTime=0}next(t){let e=this.clamp(this.elapsedTime/this.duration,0,1);return this.elapsedTime+=t,this.currentValue=this.currentValue+(this.targetValue-this.currentValue)*e,this.currentValue}constructor(t,e,n,i){(0,h._)(this,"currentValue",void 0),(0,h._)(this,"targetValue",void 0),(0,h._)(this,"elapsedTime",void 0),(0,h._)(this,"duration",void 0),(0,h._)(this,"formatter",void 0),this.currentValue=t,this.targetValue=e,this.duration=n,this.elapsedTime=0,this.formatter=i}}class E{get value(){return[this.r.value,this.g.value,this.b.value]}update(t){let e=d(t,1,.5);this.r.update(e[0]),this.g.update(e[1]),this.b.update(e[2])}next(t){this.r.next(t),this.g.next(t),this.b.next(t)}constructor(t){(0,h._)(this,"r",void 0),(0,h._)(this,"g",void 0),(0,h._)(this,"b",void 0);let e=d(t,1,.5);this.r=new R(e[0],e[0],3e3),this.g=new R(e[1],e[1],3e3),this.b=new R(e[2],e[2],3e3)}}class A{get value(){return[this.bottomStart.value,this.middleStart.value,this.topStart.value,this.bottomEnd.value,this.middleEnd.value,this.topEnd.value]}update(t,e){this.hue=t,this.collectionHue=e;let n=l(t),i=s(n+c(40,80),n),o=l(e);this.topStart.update(n),this.topEnd.update(s(n+c(30,40),n)),this.middleStart.update(i),this.middleEnd.update(s(i+c(30,40),n)),this.bottomStart.update(o),this.bottomEnd.update(s(o+c(30,40),n))}next(t){this.topStart.next(t),this.topEnd.next(t),this.middleStart.next(t),this.middleEnd.next(t),this.bottomStart.next(t),this.bottomEnd.next(t)}constructor(t){(0,h._)(this,"hue",22.968),(0,h._)(this,"collectionHue",10),(0,h._)(this,"topStart",void 0),(0,h._)(this,"topEnd",void 0),(0,h._)(this,"middleStart",void 0),(0,h._)(this,"middleEnd",void 0),(0,h._)(this,"bottomStart",void 0),(0,h._)(this,"bottomEnd",void 0),this.collectionHue=t;let e=l(t),n=s(e+c(30,40),e);this.topStart=new E(50),this.topEnd=new E(50),this.middleStart=new E(300),this.middleEnd=new E(320),this.bottomStart=new E(e),this.bottomEnd=new E(n)}}class T{toValue(t){return{value:t}}get width(){return Math.min(window.innerWidth*this.quality,800)}get height(){let t=window.innerHeight/window.innerWidth;return Math.min(window.innerHeight*this.quality,800*t)}updatePlayingState(t){this.isPlaying=t,t?(this.audioLowRatio.update(1),this.audioMiddleRatio.update(1),this.audioHighRatio.update(1)):(this.audioLowRatio.update(0),this.audioMiddleRatio.update(0),this.audioHighRatio.update(0))}updateColor(t,e){this.color.update(t,e)}updateBackgroundColor(t){this.background=new w.A(t,t,t)}updateEnergy(t){this.energy.update(t)}updateReactTop(t){this.reactTop.update(t)}updateReactMiddle(t){this.reactMiddle.update(t)}updateReactBottom(t){this.reactBottom.update(t)}updateTime(t){let e=this.energy.value*t/1e3;this.time=(this.time+e)%86400}update(t,e){this.energy.next(t),this.color.next(t),this.reactTop.next(t),this.reactMiddle.next(t),this.reactBottom.next(t),this.updateTime(t);let n=e.getAverageFrequencies({low:0,high:250}),i=e.getAverageFrequencies({low:500,high:2e3}),o=e.getAverageFrequencies({low:2e3,high:4e3});this.audioLowRatio.next(t),this.audioMiddleRatio.next(t),this.audioHighRatio.next(t),this.audio=[n*this.audioLowRatio.value,i*this.audioMiddleRatio.value,o*this.audioHighRatio.value]}toObject(){return{vScreenSize:this.toValue(new C.S(this.width,this.height)),vTime:this.toValue(this.time),vColorBackground:this.toValue(this.background),vColor:this.toValue(this.color.value),vRotation:this.toValue(this.rotation),vAudio:this.toValue(this.audio),vReact:this.toValue([this.reactTop.value,this.reactMiddle.value,this.reactBottom.value]),vInteractionPoint:this.toValue(this.point),vInteraction:this.toValue(this.interaction)}}constructor(t){(0,h._)(this,"isPlaying",!1),(0,h._)(this,"quality",.6),(0,h._)(this,"background",new w.A(0,0,0)),(0,h._)(this,"energy",new R(.2,.2,1e3)),(0,h._)(this,"time",Math.floor(3600*Math.random())),(0,h._)(this,"color",void 0),(0,h._)(this,"rotation",[new w.A(-.3,.3,.2),new w.A(-.3,-.3,-.2),new w.A(-.3,-.3,.2)]),(0,h._)(this,"audio",[0,0,0]),(0,h._)(this,"audioLowRatio",new R(0,0,1e3)),(0,h._)(this,"audioMiddleRatio",new R(0,0,1e3)),(0,h._)(this,"audioHighRatio",new R(0,0,1e3)),(0,h._)(this,"reactTop",new R(0,0,600)),(0,h._)(this,"reactMiddle",new R(0,0,600)),(0,h._)(this,"reactBottom",new R(0,0,600)),(0,h._)(this,"point",[0,0]),(0,h._)(this,"interaction",0),this.color=new A(t)}}class k{get rendererOptions(){return{alpha:!1,antialias:!1,preserveDrawingBuffer:!1}}get vertexAndFragment(){return{vertex:"\nprecision highp float;\nattribute vec4 position;\n\nvoid main() {\n    gl_Position = position;\n}\n",fragment:"\nprecision highp float;\n\nuniform vec2 vScreenSize;\nuniform float vTime;\n\nuniform vec3 vColorBackground;\n\nuniform vec3 vColor[6];\nuniform vec3 vRotation[3];\n\nuniform float vAudio[3];\nuniform float vReact[3];\n\nuniform vec2 vInteractionPoint;\nuniform float vInteraction;\n\n#define CIRCLE_WIDTH_BASE 0.8\n#define CIRCLE_WIDTH_STEP 0.2\n\n#define SPARK_STRENGTH_BASE 1.0\n#define SPARK_STRENGTH_STEP 0.3\n\n#define CIRCLE_RADIUS_BASE 0.95\n#define CIRCLE_RADIUS_STEP 0.15\n\n#define CIRCLE_OFFSET_BASE 0.0\n#define CIRCLE_OFFSET_STEP 1.57\n\nvec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}\nvec4 taylorInvSqrt(vec4 r){return 1.79284291400159 - 0.85373472095314 * r;}\n\nfloat snoise3(vec3 v) {\n  const vec2 C = vec2(0.1666667, 0.3333333); // vec2(1.0/6.0, 1.0/3.0)\n  const vec4 D = vec4(0.0, 0.5, 1.0, 2.0);\n\n  // First corner\n  vec3 i = floor(v + dot(v, C.yyy));\n  vec3 x0 = v - i + dot(i, C.xxx);\n\n  // Other corners\n  vec3 g = step(x0.yzx, x0.xyz);\n  vec3 l = 1.0 - g;\n  vec3 i1 = min(g.xyz, l.zxy);\n  vec3 i2 = max(g.xyz, l.zxy);\n\n  // x0 = x0 - 0. + 0.0 * C\n  vec3 x1 = x0 - i1 + 1.0 * C.xxx;\n  vec3 x2 = x0 - i2 + 2.0 * C.xxx;\n  vec3 x3 = x0 - 1. + 3.0 * C.xxx;\n\n  // Permutations\n  i = mod(i, 289.0);\n  vec4 p = permute( permute( permute(\n             i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n           + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\n           + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n  // Gradients ( N*N points uniformly over a square, mapped onto an octahedron.)\n  // The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n  float n_ = 0.142857142857; // 1.0/7.0\n  vec3 ns = n_ * D.wyz - D.xzx;\n\n  vec4 j = p - 49.0 * floor(p * ns.z *ns.z); //  mod(p,N*N), N=7\n\n  vec4 x_ = floor(j * ns.z);\n  vec4 y_ = floor(j - 7.0 * x_); // mod(j,N)\n\n  vec4 x = x_ *ns.x + ns.yyyy;\n  vec4 y = y_ *ns.x + ns.yyyy;\n  vec4 h = 1.0 - abs(x) - abs(y);\n\n  vec4 b0 = vec4( x.xy, y.xy );\n  vec4 b1 = vec4( x.zw, y.zw );\n\n  vec4 s0 = floor(b0)*2.0 + 1.0;\n  vec4 s1 = floor(b1)*2.0 + 1.0;\n  vec4 sh = -step(h, vec4(0.0));\n\n  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy;\n  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww;\n\n  vec3 p0 = vec3(a0.xy,h.x);\n  vec3 p1 = vec3(a0.zw,h.y);\n  vec3 p2 = vec3(a1.xy,h.z);\n  vec3 p3 = vec3(a1.zw,h.w);\n\n  //Normalise gradients\n  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n\n  // Mix final noise value\n  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n  m = m * m;\n  return 42.0 * dot(m*m, vec4(dot(p0,x0), dot(p1,x1), dot(p2,x2), dot(p3,x3)));\n}\n\nfloat tri(in float x){return abs(fract(x)-.5);}\nvec3 tri3(in vec3 p){return vec3( tri(p.z+tri(p.y*20.)), tri(p.z+tri(p.x*1.)), tri(p.y+tri(p.x*1.)));}\n\nfloat triNoise3D(in vec3 p, in float spd)\n{\n  float z=0.4;\n  float rz = 0.1;\n  vec3 bp = p;\n  for (float i=0.; i<=4.; i++ )\n  {\n    vec3 dg = tri3(bp*0.01); // Increase the scale factor to make noise less frequent\n    p += (dg+vTime*.1*spd);\n\n    bp *= 4.; // Increase the scale factor\n    z *= 0.9;\n    p *= 1.6; // Increase the scale factor\n\n    rz+= (tri(p.z+tri(0.6*p.x+0.1*tri(p.y))))/z;\n  }\n  return smoothstep(0.0, 8., rz + sin(rz + sin(z) * 2.8) * 2.2);\n}\n\nvec2 rotate(vec2 p, float a) {\n  float s = sin(a);\n  float c = cos(a);\n  return vec2(p.x * c - p.y * s, p.x * s + p.y * c);\n}\n\nfloat light(float intensity, float attenuation, float dist) {\n  return intensity / (1.0 + dist + dist * attenuation);\n}\n\nvec4 makeNoiseBlob2(vec2 uv, vec3 color1, vec3 color2, float strength, float offset) {\n  float len = length(uv);\n  float v0, v1, cl;\n  float r0, d0, n0;\n  float r, d;\n\n  n0 = snoise3( vec3(uv * 1.2 + offset, vTime * 0.5 + offset) ) * 0.5 + 0.5;\n  r0 = mix(0.0, 1.0, n0);\n  d0 = distance(uv, r0 / len * uv);\n  v0 = smoothstep(r0 + 0.1 + (sin(vTime + offset) + 1.0), r0, len);\n\n  v1 = light(0.15 * (1.0 + 1.5 * (-sin(vTime * 2. + offset * 0.5) * 0.5)) + 0.3 * strength, 10.0 , d0);\n\n  vec3 col = mix(color1, color2, uv.y * 2.);\n  col = col + v1;\n  col.rgb = clamp(col.rgb, 0.0, 1.0);\n  return vec4(col, v0);\n}\n\nvec4 makeBlob(vec2 uv,\n              float blob,\n              vec3 color1,\n              vec3 color2,\n              float width,\n              float baseReaction,\n              float likeReaction,\n              float audioStrength,\n              float offset,\n              vec2 noiseOffset) {\n  float len = length(uv);\n\n  float outerRadius = blob + width * 0.5 + baseReaction * (1.0 + max(likeReaction, audioStrength * 0.6) * 50. * baseReaction);\n\n  float strength = max(likeReaction, audioStrength);\n\n  vec4 noise = makeNoiseBlob2(uv * (1.0 - likeReaction * 0.5) + noiseOffset, color1, color2, strength, offset);\n  noise.a = mix(0.0, noise.a, smoothstep(outerRadius, 0.5, len));\n  noise.rgb += 0.6 * likeReaction * (1.0 - smoothstep(0.2, outerRadius * 0.8, len));\n\n  return noise;\n}\n\nvoid main() {\n  vec2 uv = gl_FragCoord.xy / vScreenSize.xy;\n\n  uv = uv * 2.0 - 1.0;\n  uv.y *= vScreenSize.y / min(vScreenSize.x, vScreenSize.y) / 0.55;\n  uv.x *= vScreenSize.x / min(vScreenSize.x, vScreenSize.y) / 0.55;\n\n  vec2 ruv = uv * 2.0;\n  float pr = length(ruv);\n  float pa = atan(ruv.y, ruv.x);\n\n  float idx = (pa/3.1415) / 2.0;   // 0 to 1\n\n  vec2 ruv1 = rotate(uv * 2.0, 3.1415);\n  float pa1 = atan(ruv1.y, ruv1.x);\n  float idx1 = (pa1/3.1415) / 2.0;   // 0 to 1\n  float idx21 = (pa1/3.1415 + 1.0) / 2.0 * 3.1415; // 0 to PI\n\n  float spark = triNoise3D(vec3(idx, 0.0, 0.0), 0.1);\n  spark = mix(spark, triNoise3D(vec3(idx1, 0.0, idx1), 0.1), smoothstep(0.9, 1.0, sin(idx21)));\n  spark = spark * 0.2 + pow(spark, 10.);\n  spark = smoothstep(0.0, spark, 0.3) * spark;\n\n  vec3 color = vColorBackground;\n  vec4 blobColor;\n  float floatIndex;\n  float radius;\n\n  float n0 = snoise3(vec3(uv * 1.2, vTime * 0.5));\n\n  for (int i = 0; i < 3; i++) {\n    floatIndex = float(i);\n    radius = CIRCLE_RADIUS_BASE - CIRCLE_RADIUS_STEP * floatIndex;\n    blobColor = makeBlob(uv,\n                         mix(radius, radius + 0.3, n0),\n                         vColor[i],\n                         vColor[i+3],\n                         CIRCLE_WIDTH_BASE - CIRCLE_WIDTH_STEP * floatIndex,\n                         (SPARK_STRENGTH_BASE - SPARK_STRENGTH_STEP * floatIndex) * spark,\n                         vReact[i],\n                         vAudio[i],\n                         CIRCLE_OFFSET_BASE + CIRCLE_OFFSET_STEP * floatIndex,\n                         rotate(vRotation[i].xy, vTime * vRotation[i].z));\n    color = mix(color, blobColor.rgb, blobColor.a);\n  }\n\n  gl_FragColor = vec4(color, 1.0);\n}\n"}}setupListeners(){window.addEventListener("resize",this.handleOnResize),document.addEventListener("visibilitychange",this.handleOnVisibilityChange)}createElement(t){t.innerHTML="",t.appendChild(this.renderer.gl.canvas)}createShader(){let t=this.renderer.gl,e=new x.J(t,{width:2,height:2,position:{size:4,data:new Float32Array([-1,-1,1,1,-1,1,-1,1,1,1,1,1])}});this.shader=new g.$(t,{...this.vertexAndFragment,uniforms:this.uniforms.toObject()});let n=new _.K(t,{geometry:e,program:this.shader});n.setParent(this.scene)}render(){var t;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.uniforms.update(e,this.analyzer),this.shader.uniforms=this.uniforms.toObject(),null===(t=this.renderer)||void 0===t||t.render({scene:this.scene})}handleOnResize(){this.renderer.setSize(this.uniforms.width,this.uniforms.height)}handleOnVisibilityChange(){document.hidden?this.disableRender(o.ACTIVE_TAB):this.enableRender(o.ACTIVE_TAB)}updateRenderingState(){let t=Object.values(this.renderState).every(t=>t);t?this.ticker.start():this.ticker.stop()}applySettings(t){let{hue:e,collectionHue:n,energy:i,backgroundColor:o}=p(t);e&&n&&this.uniforms.updateColor(e,n),i&&this.uniforms.updateEnergy(i),o&&this.uniforms.updateBackgroundColor(o)}likeAnimation(){this.uniforms.updateReactTop(.7),setTimeout(()=>{this.uniforms.updateReactMiddle(.7)},100),setTimeout(()=>{this.uniforms.updateReactBottom(.7)},150),setTimeout(()=>{this.uniforms.updateReactTop(0)},850),setTimeout(()=>{this.uniforms.updateReactMiddle(0)},950),setTimeout(()=>{this.uniforms.updateReactBottom(0)},1050)}playAnimation(t){this.uniforms.updatePlayingState(!0),this.applySettings(t)}idleAnimation(){this.uniforms.updateEnergy(.2),this.uniforms.updatePlayingState(!1)}enableRender(t){this.renderState[t]=!0,this.updateRenderingState()}disableRender(t){this.renderState[t]=!1,this.updateRenderingState()}destroy(){this.handleOnResize&&window.removeEventListener("resize",this.handleOnResize),this.handleOnVisibilityChange&&document.removeEventListener("visibilitychange",this.handleOnVisibilityChange)}constructor(t,e,n){(0,h._)(this,"analyzer",void 0),(0,h._)(this,"ticker",void 0),(0,h._)(this,"scene",new y.w),(0,h._)(this,"shader",void 0),(0,h._)(this,"renderer",void 0),(0,h._)(this,"uniforms",void 0),(0,h._)(this,"renderState",{[o.ACTIVE_TAB]:!0,[o.BLOCK_VISIBILITY]:!0,[o.MANUAL]:!0}),this.uniforms=new T(m(n)),this.renderer=new S.T(this.rendererOptions),this.ticker=new b(25,this.render.bind(this)),this.analyzer=e,this.createElement(t),this.handleOnResize=this.handleOnResize.bind(this),this.handleOnVisibilityChange=this.handleOnVisibilityChange.bind(this),this.createShader(),this.handleOnResize(),this.setupListeners()}}var I=n(8759),z=n(33423),L=n(71440),M=n(66936),B=n(86502),V=n(53433),N=n(84133);let W=t=>{var e,n;let[i,o]=(0,r.useState)({}),{sonataState:a}=(0,N.oR)();(0,r.useEffect)(()=>{if(a.contextType===L.Ak.Vibe){var e,n,r,s;i.id===(null===(e=a.entityMeta)||void 0===e?void 0:e.id)&&!i.isLiked&&(null===(s=a.entityMeta)||void 0===s?void 0:s.isLiked)&&t(),o({id:null===(n=a.entityMeta)||void 0===n?void 0:n.id,isLiked:null===(r=a.entityMeta)||void 0===r?void 0:r.isLiked})}},[a.contextType,null===(e=a.entityMeta)||void 0===e?void 0:e.id,null===(n=a.entityMeta)||void 0===n?void 0:n.isLiked,i.id,i.isLiked,t])};var O=n(42781),P=n.n(O);let F="vibe-animation",H=(0,z.Pi)(t=>{var e,n,i,s,l,d,h;let{className:u}=t,c=(0,r.useRef)(null),v=(0,r.useRef)(null),m=(0,M.S1)([c]),{isIntersecting:p}=null!==(h=m[F])&&void 0!==h?h:{},{sonataState:f,user:x}=(0,N.oR)(),{theme:g}=(0,N.Fg)(),_=(0,r.useContext)(a),y=f.status===B.Xz.PLAYING&&f.contextType===L.Ak.Vibe;(0,r.useEffect)(()=>{if(c.current&&_){var t,e;let n=null===(e=f.entityMeta)||void 0===e?void 0:null===(t=e.trackParameters)||void 0===t?void 0:t.hue,i=x.collectionHue;v.current=new k(c.current,_,i),v.current.applySettings({hue:n,collectionHue:i}),c.current.classList.add(P().root_visible)}return()=>{var t;null===(t=v.current)||void 0===t||t.destroy()}},[]),(0,r.useEffect)(()=>{var t,e,n,i,o,r,a,s;let l=null===(e=f.entityMeta)||void 0===e?void 0:null===(t=e.trackParameters)||void 0===t?void 0:t.hue,d=null===(i=f.entityMeta)||void 0===i?void 0:null===(n=i.trackParameters)||void 0===n?void 0:n.energy,h=null===(r=f.entityMeta)||void 0===r?void 0:null===(o=r.trackParameters)||void 0===o?void 0:o.userCollectionHue;h&&x.setUserCollectionHue(h),y?null===(a=v.current)||void 0===a||a.playAnimation({hue:l,collectionHue:h,energy:d}):null===(s=v.current)||void 0===s||s.idleAnimation()},[x,y,null===(n=f.entityMeta)||void 0===n?void 0:null===(e=n.trackParameters)||void 0===e?void 0:e.hue,null===(s=f.entityMeta)||void 0===s?void 0:null===(i=s.trackParameters)||void 0===i?void 0:i.energy,null===(d=f.entityMeta)||void 0===d?void 0:null===(l=d.trackParameters)||void 0===l?void 0:l.userCollectionHue]),(0,r.useEffect)(()=>{var t;let e=g===N.Q2.Dark?.0705:.9607;null===(t=v.current)||void 0===t||t.applySettings({backgroundColor:e})},[g]),(0,r.useEffect)(()=>{if(v.current){var t,e;p?null===(t=v.current)||void 0===t||t.enableRender(o.BLOCK_VISIBILITY):null===(e=v.current)||void 0===e||e.disableRender(o.BLOCK_VISIBILITY)}},[p]);let S=(0,r.useCallback)(()=>{var t;null===(t=v.current)||void 0===t||t.likeAnimation()},[]);return W(S),(0,I.jsx)("div",{className:u,"data-intersection-property-id":F,ref:c,...(0,V.BA)(V.bG.vibeAnimation.VIBE_ANIMATION)})}),j=t=>{let e=d(l(t),.8,.46),n=Math.round(255*e[0]),i=Math.round(255*e[1]),o=Math.round(255*e[2]);return"rgb(".concat(n,", ").concat(i,", ").concat(o,")")}},70579:function(t,e,n){"use strict";n.d(e,{D:function(){return i.SomethingWentWrong}});var i=n(48471)},48471:function(t,e,n){"use strict";n.r(e),n.d(e,{SomethingWentWrong:function(){return p}});var i=n(8759),o=n(35338),r=n(33423),a=n(99616),s=n(2814),l=n(15527),d=n(14581),h=n(1918),u=n(42769),c=n(84133),v=n(29847),m=n.n(v);let p=(0,r.Pi)(t=>{let{className:e,withBackwardControl:n=!0}=t,r=(0,a.useCallback)(()=>{window.location.reload()},[]),{contentRef:v}=(0,c.$Y)();return(0,i.jsxs)("div",{className:(0,o.W)(m().root,e),children:[n&&(0,i.jsx)(u.n,{withBackwardFallback:"/",className:(0,o.W)(m().navigation,{[m().navigation_desktop]:!v}),withForwardControl:!1}),(0,i.jsxs)("div",{className:(0,o.W)(m().content,{[m().content_shrink]:!n}),children:[(0,i.jsx)(d.J,{className:m().icon,variant:"attention",size:"xxl"}),(0,i.jsx)(h.Heading,{className:(0,o.W)(m().title,m().important),variant:"h3",size:"xs",children:(0,i.jsx)(s.Z,{id:"error-messages.something-went-wrong"})}),(0,i.jsxs)(h.Caption,{className:(0,o.W)(m().text,m().important),variant:"span",type:"text",size:"l",weight:"normal",children:[!1,(0,i.jsx)(s.Z,{id:"page-error.try-to-restart-app"})]}),(0,i.jsx)(l.z,{onClick:r,className:m().button,role:"link",color:"secondary",size:"l",radius:"xxxl",children:(0,i.jsxs)(h.Caption,{type:"controls",variant:"span",size:"m",children:[!1,(0,i.jsx)(s.Z,{id:"page-error.restart-app-button"})]})})]})]})})},42781:function(t){t.exports={root_visible:"VibeAnimation_root_visible__S7kXl","fade-in":"VibeAnimation_fade-in__hx6bD"}},29847:function(t){t.exports={root:"SomethingWentWrong_root__d77VJ",content:"SomethingWentWrong_content__8_YkJ",content_shrink:"SomethingWentWrong_content_shrink__GOR_7",navigation:"SomethingWentWrong_navigation__a8eMG",navigation_desktop:"SomethingWentWrong_navigation_desktop__WGGBX",icon:"SomethingWentWrong_icon__f15_y",title:"SomethingWentWrong_title__Kn89B",important:"SomethingWentWrong_important__namIb",text:"SomethingWentWrong_text__KEfGc",button:"SomethingWentWrong_button__dmh7t"}}}]);