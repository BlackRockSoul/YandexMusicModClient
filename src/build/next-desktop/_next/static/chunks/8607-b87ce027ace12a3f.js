"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8607],{54064:function(t,i,s){s.d(i,{Ji:function(){return g}});var e,r,h,n,a=s(26688),o=s(99616),u=s(65244);(e=h||(h={})).formatDate="FormattedDate",e.formatTime="FormattedTime",e.formatNumber="FormattedNumber",e.formatList="FormattedList",e.formatDisplayName="FormattedDisplayName",(r=n||(n={})).formatDate="FormattedDateParts",r.formatTime="FormattedTimeParts",r.formatNumber="FormattedNumberParts",r.formatList="FormattedListParts";var l=function(t){var i=(0,u.Z)(),s=t.value,e=t.children,r=(0,a.__rest)(t,["value","children"]);return e(i.formatNumberToParts(s,r))};function d(t){var i=function(i){var s=(0,u.Z)(),e=i.value,r=i.children,h=(0,a.__rest)(i,["value","children"]),n="string"==typeof e?new Date(e||0):e;return r("formatDate"===t?s.formatDateToParts(n,h):s.formatTimeToParts(n,h))};return i.displayName=n[t],i}function c(t){var i=function(i){var s=(0,u.Z)(),e=i.value,r=i.children,h=(0,a.__rest)(i,["value","children"]),n=s[t](e,h);if("function"==typeof r)return r(n);var l=s.textComponent||o.Fragment;return o.createElement(l,null,n)};return i.displayName=h[t],i}l.displayName="FormattedNumberParts",l.displayName="FormattedNumberParts";var g=c("formatDate");c("formatTime"),c("formatNumber"),c("formatList"),c("formatDisplayName"),d("formatDate"),d("formatTime")},35512:function(t,i,s){s.d(i,{K:function(){return o}});var e=s(41943);function r(t,i,s){let e=i[0],r=i[1],h=i[2],n=i[3],a=i[4],o=i[5],u=i[6],l=i[7],d=i[8],c=s[0],g=s[1],f=s[2],m=s[3],p=s[4],x=s[5],b=s[6],M=s[7],A=s[8];return t[0]=c*e+g*n+f*u,t[1]=c*r+g*a+f*l,t[2]=c*h+g*o+f*d,t[3]=m*e+p*n+x*u,t[4]=m*r+p*a+x*l,t[5]=m*h+p*o+x*d,t[6]=b*e+M*n+A*u,t[7]=b*r+M*a+A*l,t[8]=b*h+M*o+A*d,t}class h extends Array{constructor(t=1,i=0,s=0,e=0,r=1,h=0,n=0,a=0,o=1){return super(t,i,s,e,r,h,n,a,o),this}set(t,i,s,e,r,h,n,a,o){return t.length?this.copy(t):(this[0]=t,this[1]=i,this[2]=s,this[3]=e,this[4]=r,this[5]=h,this[6]=n,this[7]=a,this[8]=o,this)}translate(t,i=this){let s,e,r,h,n,a,o,u,l,d,c;return s=i[0],e=i[1],r=i[2],h=i[3],n=i[4],a=i[5],o=i[6],u=i[7],l=i[8],d=t[0],c=t[1],this[0]=s,this[1]=e,this[2]=r,this[3]=h,this[4]=n,this[5]=a,this[6]=d*s+c*h+o,this[7]=d*e+c*n+u,this[8]=d*r+c*a+l,this}rotate(t,i=this){let s,e,r,h,n,a,o,u,l,d,c;return s=i[0],e=i[1],r=i[2],h=i[3],n=i[4],a=i[5],o=i[6],u=i[7],l=i[8],d=Math.sin(t),c=Math.cos(t),this[0]=c*s+d*h,this[1]=c*e+d*n,this[2]=c*r+d*a,this[3]=c*h-d*s,this[4]=c*n-d*e,this[5]=c*a-d*r,this[6]=o,this[7]=u,this[8]=l,this}scale(t,i=this){let s,e;return s=t[0],e=t[1],this[0]=s*i[0],this[1]=s*i[1],this[2]=s*i[2],this[3]=e*i[3],this[4]=e*i[4],this[5]=e*i[5],this[6]=i[6],this[7]=i[7],this[8]=i[8],this}multiply(t,i){return i?r(this,t,i):r(this,this,t),this}identity(){return this[0]=1,this[1]=0,this[2]=0,this[3]=0,this[4]=1,this[5]=0,this[6]=0,this[7]=0,this[8]=1,this}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this[4]=t[4],this[5]=t[5],this[6]=t[6],this[7]=t[7],this[8]=t[8],this}fromMatrix4(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[4],this[4]=t[5],this[5]=t[6],this[6]=t[8],this[7]=t[9],this[8]=t[10],this}fromQuaternion(t){let i,s,e,r,h,n,a,o,u,l,d,c,g,f,m,p;return i=t[0],s=t[1],e=t[2],r=t[3],h=i+i,n=s+s,a=e+e,o=i*h,u=s*h,l=s*n,d=e*h,c=e*n,g=e*a,f=r*h,m=r*n,p=r*a,this[0]=1-l-g,this[3]=u-p,this[6]=d+m,this[1]=u+p,this[4]=1-o-g,this[7]=c-f,this[2]=d-m,this[5]=c+f,this[8]=1-o-l,this}fromBasis(t,i,s){return this.set(t[0],t[1],t[2],i[0],i[1],i[2],s[0],s[1],s[2]),this}inverse(t=this){let i,s,e,r,h,n,a,o,u,l,d,c,g;return i=t[0],s=t[1],e=t[2],r=t[3],h=t[4],n=t[5],a=t[6],o=t[7],(g=i*(l=(u=t[8])*h-n*o)+s*(d=-u*r+n*a)+e*(c=o*r-h*a))&&(g=1/g,this[0]=l*g,this[1]=(-u*s+e*o)*g,this[2]=(n*s-e*h)*g,this[3]=d*g,this[4]=(u*i-e*a)*g,this[5]=(-n*i+e*r)*g,this[6]=c*g,this[7]=(-o*i+s*a)*g,this[8]=(h*i-s*r)*g),this}getNormalMatrix(t){let i,s,e,r,h,n,a,o,u,l,d,c,g,f,m,p,x,b,M,A,E,v,y,w,_,F,C,S,T;return i=t[0],s=t[1],e=t[2],r=t[3],h=t[4],n=t[5],a=t[6],o=t[7],u=t[8],l=t[9],d=t[10],c=t[11],g=t[12],f=t[13],m=t[14],p=t[15],x=i*n-s*h,b=i*a-e*h,M=i*o-r*h,A=s*a-e*n,E=s*o-r*n,v=e*o-r*a,y=u*f-l*g,w=u*m-d*g,_=u*p-c*g,F=l*m-d*f,C=l*p-c*f,(T=x*(S=d*p-c*m)-b*C+M*F+A*_-E*w+v*y)&&(T=1/T,this[0]=(n*S-a*C+o*F)*T,this[1]=(a*_-h*S-o*w)*T,this[2]=(h*C-n*_+o*y)*T,this[3]=(e*C-s*S-r*F)*T,this[4]=(i*S-e*_+r*w)*T,this[5]=(s*_-i*C-r*y)*T,this[6]=(f*v-m*E+p*A)*T,this[7]=(m*M-g*v-p*b)*T,this[8]=(g*E-f*M+p*x)*T),this}}var n=s(19770);let a=0;class o extends e.w{constructor(t,{geometry:i,program:s,mode:e=t.TRIANGLES,frustumCulled:r=!0,renderOrder:o=0}={}){super(),t.canvas||console.error("gl not passed as first argument to Mesh"),this.gl=t,this.id=a++,this.geometry=i,this.program=s,this.mode=e,this.frustumCulled=r,this.renderOrder=o,this.modelViewMatrix=new n.y,this.normalMatrix=new h,this.beforeRenderCallbacks=[],this.afterRenderCallbacks=[]}onBeforeRender(t){return this.beforeRenderCallbacks.push(t),this}onAfterRender(t){return this.afterRenderCallbacks.push(t),this}draw({camera:t}={}){t&&(this.program.uniforms.modelMatrix||Object.assign(this.program.uniforms,{modelMatrix:{value:null},viewMatrix:{value:null},modelViewMatrix:{value:null},normalMatrix:{value:null},projectionMatrix:{value:null},cameraPosition:{value:null}}),this.program.uniforms.projectionMatrix.value=t.projectionMatrix,this.program.uniforms.cameraPosition.value=t.worldPosition,this.program.uniforms.viewMatrix.value=t.viewMatrix,this.modelViewMatrix.multiply(t.viewMatrix,this.worldMatrix),this.normalMatrix.getNormalMatrix(this.modelViewMatrix),this.program.uniforms.modelMatrix.value=this.worldMatrix,this.program.uniforms.modelViewMatrix.value=this.modelViewMatrix,this.program.uniforms.normalMatrix.value=this.normalMatrix),this.beforeRenderCallbacks.forEach(i=>i&&i({mesh:this,camera:t}));let i=this.program.cullFace&&0>this.worldMatrix.determinant();this.program.use({flipFaces:i}),this.geometry.draw({mode:this.mode,program:this.program}),this.afterRenderCallbacks.forEach(i=>i&&i({mesh:this,camera:t}))}}},93456:function(t,i,s){s.d(i,{$:function(){return h}});let e=1,r={};class h{constructor(t,{vertex:i,fragment:s,uniforms:r={},transparent:h=!1,cullFace:n=t.BACK,frontFace:o=t.CCW,depthTest:u=!0,depthWrite:l=!0,depthFunc:d=t.LESS}={}){t.canvas||console.error("gl not passed as first argument to Program"),this.gl=t,this.uniforms=r,this.id=e++,i||console.warn("vertex shader not supplied"),s||console.warn("fragment shader not supplied"),this.transparent=h,this.cullFace=n,this.frontFace=o,this.depthTest=u,this.depthWrite=l,this.depthFunc=d,this.blendFunc={},this.blendEquation={},this.transparent&&!this.blendFunc.src&&(this.gl.renderer.premultipliedAlpha?this.setBlendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.setBlendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA));let c=t.createShader(t.VERTEX_SHADER);t.shaderSource(c,i),t.compileShader(c),""!==t.getShaderInfoLog(c)&&console.warn(`${t.getShaderInfoLog(c)}
Vertex Shader
${a(i)}`);let g=t.createShader(t.FRAGMENT_SHADER);if(t.shaderSource(g,s),t.compileShader(g),""!==t.getShaderInfoLog(g)&&console.warn(`${t.getShaderInfoLog(g)}
Fragment Shader
${a(s)}`),this.program=t.createProgram(),t.attachShader(this.program,c),t.attachShader(this.program,g),t.linkProgram(this.program),!t.getProgramParameter(this.program,t.LINK_STATUS))return console.warn(t.getProgramInfoLog(this.program));t.deleteShader(c),t.deleteShader(g),this.uniformLocations=new Map;let f=t.getProgramParameter(this.program,t.ACTIVE_UNIFORMS);for(let i=0;i<f;i++){let s=t.getActiveUniform(this.program,i);this.uniformLocations.set(s,t.getUniformLocation(this.program,s.name));let e=s.name.match(/(\w+)/g);s.uniformName=e[0],s.nameComponents=e.slice(1)}this.attributeLocations=new Map;let m=[],p=t.getProgramParameter(this.program,t.ACTIVE_ATTRIBUTES);for(let i=0;i<p;i++){let s=t.getActiveAttrib(this.program,i),e=t.getAttribLocation(this.program,s.name);-1!==e&&(m[e]=s.name,this.attributeLocations.set(s,e))}this.attributeOrder=m.join("")}setBlendFunc(t,i,s,e){this.blendFunc.src=t,this.blendFunc.dst=i,this.blendFunc.srcAlpha=s,this.blendFunc.dstAlpha=e,t&&(this.transparent=!0)}setBlendEquation(t,i){this.blendEquation.modeRGB=t,this.blendEquation.modeAlpha=i}applyState(){this.depthTest?this.gl.renderer.enable(this.gl.DEPTH_TEST):this.gl.renderer.disable(this.gl.DEPTH_TEST),this.cullFace?this.gl.renderer.enable(this.gl.CULL_FACE):this.gl.renderer.disable(this.gl.CULL_FACE),this.blendFunc.src?this.gl.renderer.enable(this.gl.BLEND):this.gl.renderer.disable(this.gl.BLEND),this.cullFace&&this.gl.renderer.setCullFace(this.cullFace),this.gl.renderer.setFrontFace(this.frontFace),this.gl.renderer.setDepthMask(this.depthWrite),this.gl.renderer.setDepthFunc(this.depthFunc),this.blendFunc.src&&this.gl.renderer.setBlendFunc(this.blendFunc.src,this.blendFunc.dst,this.blendFunc.srcAlpha,this.blendFunc.dstAlpha),this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB,this.blendEquation.modeAlpha)}use({flipFaces:t=!1}={}){let i=-1,s=this.gl.renderer.state.currentProgram===this.id;s||(this.gl.useProgram(this.program),this.gl.renderer.state.currentProgram=this.id),this.uniformLocations.forEach((t,s)=>{let e=this.uniforms[s.uniformName];for(let t of s.nameComponents){if(!e)break;if(t in e)e=e[t];else if(Array.isArray(e.value))break;else{e=void 0;break}}if(!e)return u(`Active uniform ${s.name} has not been supplied`);if(e&&void 0===e.value)return u(`${s.name} uniform is missing a value parameter`);if(e.value.texture)return i+=1,e.value.update(i),n(this.gl,s.type,t,i);if(e.value.length&&e.value[0].texture){let r=[];return e.value.forEach(t=>{i+=1,t.update(i),r.push(i)}),n(this.gl,s.type,t,r)}n(this.gl,s.type,t,e.value)}),this.applyState(),t&&this.gl.renderer.setFrontFace(this.frontFace===this.gl.CCW?this.gl.CW:this.gl.CCW)}remove(){this.gl.deleteProgram(this.program)}}function n(t,i,s,e){e=e.length?function(t){let i=t.length,s=t[0].length;if(void 0===s)return t;let e=i*s,h=r[e];h||(r[e]=h=new Float32Array(e));for(let e=0;e<i;e++)h.set(t[e],e*s);return h}(e):e;let h=t.renderer.state.uniformLocations.get(s);if(e.length){if(void 0===h||h.length!==e.length)t.renderer.state.uniformLocations.set(s,e.slice(0));else{if(function(t,i){if(t.length!==i.length)return!1;for(let s=0,e=t.length;s<e;s++)if(t[s]!==i[s])return!1;return!0}(h,e))return;h.set?h.set(e):function(t,i){for(let s=0,e=t.length;s<e;s++)t[s]=i[s]}(h,e),t.renderer.state.uniformLocations.set(s,h)}}else{if(h===e)return;t.renderer.state.uniformLocations.set(s,e)}switch(i){case 5126:return e.length?t.uniform1fv(s,e):t.uniform1f(s,e);case 35664:return t.uniform2fv(s,e);case 35665:return t.uniform3fv(s,e);case 35666:return t.uniform4fv(s,e);case 35670:case 5124:case 35678:case 35680:return e.length?t.uniform1iv(s,e):t.uniform1i(s,e);case 35671:case 35667:return t.uniform2iv(s,e);case 35672:case 35668:return t.uniform3iv(s,e);case 35673:case 35669:return t.uniform4iv(s,e);case 35674:return t.uniformMatrix2fv(s,!1,e);case 35675:return t.uniformMatrix3fv(s,!1,e);case 35676:return t.uniformMatrix4fv(s,!1,e)}}function a(t){let i=t.split("\n");for(let t=0;t<i.length;t++)i[t]=t+1+": "+i[t];return i.join("\n")}let o=0;function u(t){!(o>100)&&(console.warn(t),++o>100&&console.warn("More than 100 program warnings - stopping logs."))}},85777:function(t,i,s){s.d(i,{T:function(){return n}});var e=s(12143);let r=new e.A,h=1;class n{constructor({canvas:t=document.createElement("canvas"),width:i=300,height:s=150,dpr:e=1,alpha:r=!1,depth:n=!0,stencil:a=!1,antialias:o=!1,premultipliedAlpha:u=!1,preserveDrawingBuffer:l=!1,powerPreference:d="default",autoClear:c=!0,webgl:g=2}={}){let f={alpha:r,depth:n,stencil:a,antialias:o,premultipliedAlpha:u,preserveDrawingBuffer:l,powerPreference:d};this.dpr=e,this.alpha=r,this.color=!0,this.depth=n,this.stencil=a,this.premultipliedAlpha=u,this.autoClear=c,this.id=h++,2===g&&(this.gl=t.getContext("webgl2",f)),this.isWebgl2=!!this.gl,this.gl||(this.gl=t.getContext("webgl",f)),this.gl||console.error("unable to create webgl context"),this.gl.renderer=this,this.setSize(i,s),this.state={},this.state.blendFunc={src:this.gl.ONE,dst:this.gl.ZERO},this.state.blendEquation={modeRGB:this.gl.FUNC_ADD},this.state.cullFace=!1,this.state.frontFace=this.gl.CCW,this.state.depthMask=!0,this.state.depthFunc=this.gl.LESS,this.state.premultiplyAlpha=!1,this.state.flipY=!1,this.state.unpackAlignment=4,this.state.framebuffer=null,this.state.viewport={x:0,y:0,width:null,height:null},this.state.textureUnits=[],this.state.activeTextureUnit=0,this.state.boundBuffer=null,this.state.uniformLocations=new Map,this.state.currentProgram=null,this.extensions={},this.isWebgl2?(this.getExtension("EXT_color_buffer_float"),this.getExtension("OES_texture_float_linear")):(this.getExtension("OES_texture_float"),this.getExtension("OES_texture_float_linear"),this.getExtension("OES_texture_half_float"),this.getExtension("OES_texture_half_float_linear"),this.getExtension("OES_element_index_uint"),this.getExtension("OES_standard_derivatives"),this.getExtension("EXT_sRGB"),this.getExtension("WEBGL_depth_texture"),this.getExtension("WEBGL_draw_buffers")),this.getExtension("WEBGL_compressed_texture_astc"),this.getExtension("EXT_texture_compression_bptc"),this.getExtension("WEBGL_compressed_texture_s3tc"),this.getExtension("WEBGL_compressed_texture_etc1"),this.getExtension("WEBGL_compressed_texture_pvrtc"),this.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),this.vertexAttribDivisor=this.getExtension("ANGLE_instanced_arrays","vertexAttribDivisor","vertexAttribDivisorANGLE"),this.drawArraysInstanced=this.getExtension("ANGLE_instanced_arrays","drawArraysInstanced","drawArraysInstancedANGLE"),this.drawElementsInstanced=this.getExtension("ANGLE_instanced_arrays","drawElementsInstanced","drawElementsInstancedANGLE"),this.createVertexArray=this.getExtension("OES_vertex_array_object","createVertexArray","createVertexArrayOES"),this.bindVertexArray=this.getExtension("OES_vertex_array_object","bindVertexArray","bindVertexArrayOES"),this.deleteVertexArray=this.getExtension("OES_vertex_array_object","deleteVertexArray","deleteVertexArrayOES"),this.drawBuffers=this.getExtension("WEBGL_draw_buffers","drawBuffers","drawBuffersWEBGL"),this.parameters={},this.parameters.maxTextureUnits=this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this.parameters.maxAnisotropy=this.getExtension("EXT_texture_filter_anisotropic")?this.gl.getParameter(this.getExtension("EXT_texture_filter_anisotropic").MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}setSize(t,i){this.width=t,this.height=i,this.gl.canvas.width=t*this.dpr,this.gl.canvas.height=i*this.dpr,this.gl.canvas.style&&Object.assign(this.gl.canvas.style,{width:t+"px",height:i+"px"})}setViewport(t,i,s=0,e=0){(this.state.viewport.width!==t||this.state.viewport.height!==i)&&(this.state.viewport.width=t,this.state.viewport.height=i,this.state.viewport.x=s,this.state.viewport.y=e,this.gl.viewport(s,e,t,i))}setScissor(t,i,s=0,e=0){this.gl.scissor(s,e,t,i)}enable(t){!0!==this.state[t]&&(this.gl.enable(t),this.state[t]=!0)}disable(t){!1!==this.state[t]&&(this.gl.disable(t),this.state[t]=!1)}setBlendFunc(t,i,s,e){(this.state.blendFunc.src!==t||this.state.blendFunc.dst!==i||this.state.blendFunc.srcAlpha!==s||this.state.blendFunc.dstAlpha!==e)&&(this.state.blendFunc.src=t,this.state.blendFunc.dst=i,this.state.blendFunc.srcAlpha=s,this.state.blendFunc.dstAlpha=e,void 0!==s?this.gl.blendFuncSeparate(t,i,s,e):this.gl.blendFunc(t,i))}setBlendEquation(t,i){t=t||this.gl.FUNC_ADD,(this.state.blendEquation.modeRGB!==t||this.state.blendEquation.modeAlpha!==i)&&(this.state.blendEquation.modeRGB=t,this.state.blendEquation.modeAlpha=i,void 0!==i?this.gl.blendEquationSeparate(t,i):this.gl.blendEquation(t))}setCullFace(t){this.state.cullFace!==t&&(this.state.cullFace=t,this.gl.cullFace(t))}setFrontFace(t){this.state.frontFace!==t&&(this.state.frontFace=t,this.gl.frontFace(t))}setDepthMask(t){this.state.depthMask!==t&&(this.state.depthMask=t,this.gl.depthMask(t))}setDepthFunc(t){this.state.depthFunc!==t&&(this.state.depthFunc=t,this.gl.depthFunc(t))}activeTexture(t){this.state.activeTextureUnit!==t&&(this.state.activeTextureUnit=t,this.gl.activeTexture(this.gl.TEXTURE0+t))}bindFramebuffer({target:t=this.gl.FRAMEBUFFER,buffer:i=null}={}){this.state.framebuffer!==i&&(this.state.framebuffer=i,this.gl.bindFramebuffer(t,i))}getExtension(t,i,s){return i&&this.gl[i]?this.gl[i].bind(this.gl):(this.extensions[t]||(this.extensions[t]=this.gl.getExtension(t)),i)?this.extensions[t]?this.extensions[t][s].bind(this.extensions[t]):null:this.extensions[t]}sortOpaque(t,i){return t.renderOrder!==i.renderOrder?t.renderOrder-i.renderOrder:t.program.id!==i.program.id?t.program.id-i.program.id:t.zDepth!==i.zDepth?t.zDepth-i.zDepth:i.id-t.id}sortTransparent(t,i){return t.renderOrder!==i.renderOrder?t.renderOrder-i.renderOrder:t.zDepth!==i.zDepth?i.zDepth-t.zDepth:i.id-t.id}sortUI(t,i){return t.renderOrder!==i.renderOrder?t.renderOrder-i.renderOrder:t.program.id!==i.program.id?t.program.id-i.program.id:i.id-t.id}getRenderList({scene:t,camera:i,frustumCull:s,sort:e}){let h=[];if(i&&s&&i.updateFrustum(),t.traverse(t=>{if(!t.visible)return!0;if(t.draw){if(s&&t.frustumCulled&&i&&!i.frustumIntersectsMesh(t))return;h.push(t)}}),e){let t=[],s=[],e=[];h.forEach(h=>{h.program.transparent?h.program.depthTest?s.push(h):e.push(h):t.push(h),h.zDepth=0,0===h.renderOrder&&h.program.depthTest&&i&&(h.worldMatrix.getTranslation(r),r.applyMatrix4(i.projectionViewMatrix),h.zDepth=r.z)}),t.sort(this.sortOpaque),s.sort(this.sortTransparent),e.sort(this.sortUI),h=t.concat(s,e)}return h}render({scene:t,camera:i,target:s=null,update:e=!0,sort:r=!0,frustumCull:h=!0,clear:n}){null===s?(this.bindFramebuffer(),this.setViewport(this.width*this.dpr,this.height*this.dpr)):(this.bindFramebuffer(s),this.setViewport(s.width,s.height)),(n||this.autoClear&&!1!==n)&&(this.depth&&(!s||s.depth)&&(this.enable(this.gl.DEPTH_TEST),this.setDepthMask(!0)),this.gl.clear((this.color?this.gl.COLOR_BUFFER_BIT:0)|(this.depth?this.gl.DEPTH_BUFFER_BIT:0)|(this.stencil?this.gl.STENCIL_BUFFER_BIT:0))),e&&t.updateMatrixWorld(),i&&i.updateMatrixWorld();let a=this.getRenderList({scene:t,camera:i,frustumCull:h,sort:r});a.forEach(t=>{t.draw({camera:i})})}}},41943:function(t,i,s){s.d(i,{w:function(){return l}});var e=s(12143);function r(t,i,s){let e=i[0],r=i[1],h=i[2],n=i[3],a=s[0],o=s[1],u=s[2],l=s[3];return t[0]=e*l+n*a+r*u-h*o,t[1]=r*l+n*o+h*a-e*u,t[2]=h*l+n*u+e*o-r*a,t[3]=n*l-e*a-r*o-h*u,t}let h=function(t,i){let s=i[0],e=i[1],r=i[2],h=i[3],n=s*s+e*e+r*r+h*h;return n>0&&(n=1/Math.sqrt(n)),t[0]=s*n,t[1]=e*n,t[2]=r*n,t[3]=h*n,t};class n extends Array{constructor(t=0,i=0,s=0,e=1){return super(t,i,s,e),this.onChange=()=>{},this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(t){this[0]=t,this.onChange()}set y(t){this[1]=t,this.onChange()}set z(t){this[2]=t,this.onChange()}set w(t){this[3]=t,this.onChange()}identity(){return this[0]=0,this[1]=0,this[2]=0,this[3]=1,this.onChange(),this}set(t,i,s,e){return t.length?this.copy(t):(this[0]=t,this[1]=i,this[2]=s,this[3]=e,this.onChange(),this)}rotateX(t){var i;let s,e,r,h,n,a;return i=.5*t,s=this[0],e=this[1],r=this[2],h=this[3],n=Math.sin(i),a=Math.cos(i),this[0]=s*a+h*n,this[1]=e*a+r*n,this[2]=r*a-e*n,this[3]=h*a-s*n,this.onChange(),this}rotateY(t){var i;let s,e,r,h,n,a;return i=.5*t,s=this[0],e=this[1],r=this[2],h=this[3],n=Math.sin(i),a=Math.cos(i),this[0]=s*a-r*n,this[1]=e*a+h*n,this[2]=r*a+s*n,this[3]=h*a-e*n,this.onChange(),this}rotateZ(t){var i;let s,e,r,h,n,a;return i=.5*t,s=this[0],e=this[1],r=this[2],h=this[3],n=Math.sin(i),a=Math.cos(i),this[0]=s*a+e*n,this[1]=e*a-s*n,this[2]=r*a+h*n,this[3]=h*a-r*n,this.onChange(),this}inverse(t=this){let i,s,e,r,h,n;return i=t[0],n=(h=i*i+(s=t[1])*s+(e=t[2])*e+(r=t[3])*r)?1/h:0,this[0]=-i*n,this[1]=-s*n,this[2]=-e*n,this[3]=r*n,this.onChange(),this}conjugate(t=this){return this[0]=-t[0],this[1]=-t[1],this[2]=-t[2],this[3]=t[3],this.onChange(),this}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this.onChange(),this}normalize(t=this){return h(this,t),this.onChange(),this}multiply(t,i){return i?r(this,t,i):r(this,this,t),this.onChange(),this}dot(t){return this[0]*t[0]+this[1]*t[1]+this[2]*t[2]+this[3]*t[3]}fromMatrix3(t){return!function(t,i){let s,e=i[0]+i[4]+i[8];if(e>0)s=Math.sqrt(e+1),t[3]=.5*s,s=.5/s,t[0]=(i[5]-i[7])*s,t[1]=(i[6]-i[2])*s,t[2]=(i[1]-i[3])*s;else{let e=0;i[4]>i[0]&&(e=1),i[8]>i[3*e+e]&&(e=2);let r=(e+1)%3,h=(e+2)%3;s=Math.sqrt(i[3*e+e]-i[3*r+r]-i[3*h+h]+1),t[e]=.5*s,s=.5/s,t[3]=(i[3*r+h]-i[3*h+r])*s,t[r]=(i[3*r+e]+i[3*e+r])*s,t[h]=(i[3*h+e]+i[3*e+h])*s}}(this,t),this.onChange(),this}fromEuler(t){return!function(t,i,s="YXZ"){let e=Math.sin(.5*i[0]),r=Math.cos(.5*i[0]),h=Math.sin(.5*i[1]),n=Math.cos(.5*i[1]),a=Math.sin(.5*i[2]),o=Math.cos(.5*i[2]);"XYZ"===s?(t[0]=e*n*o+r*h*a,t[1]=r*h*o-e*n*a,t[2]=r*n*a+e*h*o,t[3]=r*n*o-e*h*a):"YXZ"===s?(t[0]=e*n*o+r*h*a,t[1]=r*h*o-e*n*a,t[2]=r*n*a-e*h*o,t[3]=r*n*o+e*h*a):"ZXY"===s?(t[0]=e*n*o-r*h*a,t[1]=r*h*o+e*n*a,t[2]=r*n*a+e*h*o,t[3]=r*n*o-e*h*a):"ZYX"===s?(t[0]=e*n*o-r*h*a,t[1]=r*h*o+e*n*a,t[2]=r*n*a-e*h*o,t[3]=r*n*o+e*h*a):"YZX"===s?(t[0]=e*n*o+r*h*a,t[1]=r*h*o+e*n*a,t[2]=r*n*a-e*h*o,t[3]=r*n*o-e*h*a):"XZY"===s&&(t[0]=e*n*o-r*h*a,t[1]=r*h*o-e*n*a,t[2]=r*n*a+e*h*o,t[3]=r*n*o+e*h*a)}(this,t,t.order),this}fromAxisAngle(t,i){var s;let e;return e=Math.sin(s=.5*i),this[0]=e*t[0],this[1]=e*t[1],this[2]=e*t[2],this[3]=Math.cos(s),this.onChange(),this}slerp(t,i){let s,e,r,h,n,a,o,u,l,d,c,g,f;return a=this[0],o=this[1],u=this[2],l=this[3],d=t[0],(e=a*d+o*(c=t[1])+u*(g=t[2])+l*(f=t[3]))<0&&(e=-e,d=-d,c=-c,g=-g,f=-f),1-e>1e-6?(r=Math.sin(s=Math.acos(e)),h=Math.sin((1-i)*s)/r,n=Math.sin(i*s)/r):(h=1-i,n=i),this[0]=h*a+n*d,this[1]=h*o+n*c,this[2]=h*u+n*g,this[3]=h*l+n*f,this.onChange(),this}fromArray(t,i=0){return this[0]=t[i],this[1]=t[i+1],this[2]=t[i+2],this[3]=t[i+3],this.onChange(),this}toArray(t=[],i=0){return t[i]=this[0],t[i+1]=this[1],t[i+2]=this[2],t[i+3]=this[3],t}}var a=s(19770);let o=new a.y;class u extends Array{constructor(t=0,i=t,s=t,e="YXZ"){return super(t,i,s),this.order=e,this.onChange=()=>{},this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(t){this[0]=t,this.onChange()}set y(t){this[1]=t,this.onChange()}set z(t){this[2]=t,this.onChange()}set(t,i=t,s=t){return t.length?this.copy(t):(this[0]=t,this[1]=i,this[2]=s,this.onChange(),this)}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this.onChange(),this}reorder(t){return this.order=t,this.onChange(),this}fromRotationMatrix(t,i=this.order){return!function(t,i,s="YXZ"){"XYZ"===s?(t[1]=Math.asin(Math.min(Math.max(i[8],-1),1)),.99999>Math.abs(i[8])?(t[0]=Math.atan2(-i[9],i[10]),t[2]=Math.atan2(-i[4],i[0])):(t[0]=Math.atan2(i[6],i[5]),t[2]=0)):"YXZ"===s?(t[0]=Math.asin(-Math.min(Math.max(i[9],-1),1)),.99999>Math.abs(i[9])?(t[1]=Math.atan2(i[8],i[10]),t[2]=Math.atan2(i[1],i[5])):(t[1]=Math.atan2(-i[2],i[0]),t[2]=0)):"ZXY"===s?(t[0]=Math.asin(Math.min(Math.max(i[6],-1),1)),.99999>Math.abs(i[6])?(t[1]=Math.atan2(-i[2],i[10]),t[2]=Math.atan2(-i[4],i[5])):(t[1]=0,t[2]=Math.atan2(i[1],i[0]))):"ZYX"===s?(t[1]=Math.asin(-Math.min(Math.max(i[2],-1),1)),.99999>Math.abs(i[2])?(t[0]=Math.atan2(i[6],i[10]),t[2]=Math.atan2(i[1],i[0])):(t[0]=0,t[2]=Math.atan2(-i[4],i[5]))):"YZX"===s?(t[2]=Math.asin(Math.min(Math.max(i[1],-1),1)),.99999>Math.abs(i[1])?(t[0]=Math.atan2(-i[9],i[5]),t[1]=Math.atan2(-i[2],i[0])):(t[0]=0,t[1]=Math.atan2(i[8],i[10]))):"XZY"===s&&(t[2]=Math.asin(-Math.min(Math.max(i[4],-1),1)),.99999>Math.abs(i[4])?(t[0]=Math.atan2(i[6],i[5]),t[1]=Math.atan2(i[8],i[0])):(t[0]=Math.atan2(-i[9],i[10]),t[1]=0))}(this,t,i),this.onChange(),this}fromQuaternion(t,i=this.order){return o.fromQuaternion(t),this.fromRotationMatrix(o,i)}fromArray(t,i=0){return this[0]=t[i],this[1]=t[i+1],this[2]=t[i+2],this}toArray(t=[],i=0){return t[i]=this[0],t[i+1]=this[1],t[i+2]=this[2],t}}class l{constructor(){this.parent=null,this.children=[],this.visible=!0,this.matrix=new a.y,this.worldMatrix=new a.y,this.matrixAutoUpdate=!0,this.worldMatrixNeedsUpdate=!1,this.position=new e.A,this.quaternion=new n,this.scale=new e.A(1),this.rotation=new u,this.up=new e.A(0,1,0),this.rotation.onChange=()=>this.quaternion.fromEuler(this.rotation),this.quaternion.onChange=()=>this.rotation.fromQuaternion(this.quaternion)}setParent(t,i=!0){this.parent&&t!==this.parent&&this.parent.removeChild(this,!1),this.parent=t,i&&t&&t.addChild(this,!1)}addChild(t,i=!0){~this.children.indexOf(t)||this.children.push(t),i&&t.setParent(this,!1)}removeChild(t,i=!0){~this.children.indexOf(t)&&this.children.splice(this.children.indexOf(t),1),i&&t.setParent(null,!1)}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.worldMatrixNeedsUpdate||t)&&(null===this.parent?this.worldMatrix.copy(this.matrix):this.worldMatrix.multiply(this.parent.worldMatrix,this.matrix),this.worldMatrixNeedsUpdate=!1,t=!0);for(let i=0,s=this.children.length;i<s;i++)this.children[i].updateMatrixWorld(t)}updateMatrix(){this.matrix.compose(this.quaternion,this.position,this.scale),this.worldMatrixNeedsUpdate=!0}traverse(t){if(!t(this))for(let i=0,s=this.children.length;i<s;i++)this.children[i].traverse(t)}decompose(){this.matrix.getTranslation(this.position),this.matrix.getRotation(this.quaternion),this.matrix.getScaling(this.scale),this.rotation.fromQuaternion(this.quaternion)}lookAt(t,i=!1){i?this.matrix.lookAt(this.position,t,this.up):this.matrix.lookAt(t,this.position,this.up),this.matrix.getRotation(this.quaternion),this.rotation.fromQuaternion(this.quaternion)}}},7088:function(t,i,s){s.d(i,{J:function(){return u}});var e=s(12143);let r=new e.A,h=1,n=1,a=!1;class o{constructor(t,i={}){for(let s in t.canvas||console.error("gl not passed as first argument to Geometry"),this.gl=t,this.attributes=i,this.id=h++,this.VAOs={},this.drawRange={start:0,count:0},this.instancedCount=0,this.gl.renderer.bindVertexArray(null),this.gl.renderer.currentGeometry=null,this.glState=this.gl.renderer.state,i)this.addAttribute(s,i[s])}addAttribute(t,i){if(this.attributes[t]=i,i.id=n++,i.size=i.size||1,i.type=i.type||(i.data.constructor===Float32Array?this.gl.FLOAT:i.data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT),i.target="index"===t?this.gl.ELEMENT_ARRAY_BUFFER:this.gl.ARRAY_BUFFER,i.normalized=i.normalized||!1,i.stride=i.stride||0,i.offset=i.offset||0,i.count=i.count||(i.stride?i.data.byteLength/i.stride:i.data.length/i.size),i.divisor=i.instanced||0,i.needsUpdate=!1,i.usage=i.usage||this.gl.STATIC_DRAW,i.buffer||this.updateAttribute(i),i.divisor){if(this.isInstanced=!0,this.instancedCount&&this.instancedCount!==i.count*i.divisor)return console.warn("geometry has multiple instanced buffers of different length"),this.instancedCount=Math.min(this.instancedCount,i.count*i.divisor);this.instancedCount=i.count*i.divisor}else"index"===t?this.drawRange.count=i.count:this.attributes.index||(this.drawRange.count=Math.max(this.drawRange.count,i.count))}updateAttribute(t){let i=!t.buffer;i&&(t.buffer=this.gl.createBuffer()),this.glState.boundBuffer!==t.buffer&&(this.gl.bindBuffer(t.target,t.buffer),this.glState.boundBuffer=t.buffer),i?this.gl.bufferData(t.target,t.data,t.usage):this.gl.bufferSubData(t.target,0,t.data),t.needsUpdate=!1}setIndex(t){this.addAttribute("index",t)}setDrawRange(t,i){this.drawRange.start=t,this.drawRange.count=i}setInstancedCount(t){this.instancedCount=t}createVAO(t){this.VAOs[t.attributeOrder]=this.gl.renderer.createVertexArray(),this.gl.renderer.bindVertexArray(this.VAOs[t.attributeOrder]),this.bindAttributes(t)}bindAttributes(t){t.attributeLocations.forEach((t,{name:i,type:s})=>{if(!this.attributes[i]){console.warn(`active attribute ${i} not being supplied`);return}let e=this.attributes[i];this.gl.bindBuffer(e.target,e.buffer),this.glState.boundBuffer=e.buffer;let r=1;35674===s&&(r=2),35675===s&&(r=3),35676===s&&(r=4);let h=e.size/r,n=1===r?0:r*r*4,a=1===r?0:4*r;for(let i=0;i<r;i++)this.gl.vertexAttribPointer(t+i,h,e.type,e.normalized,e.stride+n,e.offset+i*a),this.gl.enableVertexAttribArray(t+i),this.gl.renderer.vertexAttribDivisor(t+i,e.divisor)}),this.attributes.index&&this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.attributes.index.buffer)}draw({program:t,mode:i=this.gl.TRIANGLES}){this.gl.renderer.currentGeometry!==`${this.id}_${t.attributeOrder}`&&(this.VAOs[t.attributeOrder]||this.createVAO(t),this.gl.renderer.bindVertexArray(this.VAOs[t.attributeOrder]),this.gl.renderer.currentGeometry=`${this.id}_${t.attributeOrder}`),t.attributeLocations.forEach((t,{name:i})=>{let s=this.attributes[i];s.needsUpdate&&this.updateAttribute(s)});let s=2;this.attributes.index?.type===this.gl.UNSIGNED_INT&&(s=4),this.isInstanced?this.attributes.index?this.gl.renderer.drawElementsInstanced(i,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*s,this.instancedCount):this.gl.renderer.drawArraysInstanced(i,this.drawRange.start,this.drawRange.count,this.instancedCount):this.attributes.index?this.gl.drawElements(i,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*s):this.gl.drawArrays(i,this.drawRange.start,this.drawRange.count)}getPosition(){let t=this.attributes.position;return t.data?t:a?void 0:(console.warn("No position buffer data found to compute bounds"),a=!0)}computeBoundingBox(t){t||(t=this.getPosition());let i=t.data,s=t.size;this.bounds||(this.bounds={min:new e.A,max:new e.A,center:new e.A,scale:new e.A,radius:1/0});let r=this.bounds.min,h=this.bounds.max,n=this.bounds.center,a=this.bounds.scale;r.set(Infinity),h.set(-1/0);for(let t=0,e=i.length;t<e;t+=s){let s=i[t],e=i[t+1],n=i[t+2];r.x=Math.min(s,r.x),r.y=Math.min(e,r.y),r.z=Math.min(n,r.z),h.x=Math.max(s,h.x),h.y=Math.max(e,h.y),h.z=Math.max(n,h.z)}a.sub(h,r),n.add(r,h).divide(2)}computeBoundingSphere(t){t||(t=this.getPosition());let i=t.data,s=t.size;this.bounds||this.computeBoundingBox(t);let e=0;for(let t=0,h=i.length;t<h;t+=s)r.fromArray(i,t),e=Math.max(e,this.bounds.center.squaredDistance(r));this.bounds.radius=Math.sqrt(e)}remove(){for(let t in this.VAOs)this.gl.renderer.deleteVertexArray(this.VAOs[t]),delete this.VAOs[t];for(let t in this.attributes)this.gl.deleteBuffer(this.attributes[t].buffer),delete this.attributes[t]}}class u extends o{constructor(t,{width:i=1,height:s=1,widthSegments:e=1,heightSegments:r=1,attributes:h={}}={}){let n=(e+1)*(r+1),a=e*r*6,o=new Float32Array(3*n),l=new Float32Array(3*n),d=new Float32Array(2*n),c=a>65536?new Uint32Array(a):new Uint16Array(a);u.buildPlane(o,l,d,c,i,s,0,e,r),Object.assign(h,{position:{size:3,data:o},normal:{size:3,data:l},uv:{size:2,data:d},index:{data:c}}),super(t,h)}static buildPlane(t,i,s,e,r,h,n,a,o,u=0,l=1,d=2,c=1,g=-1,f=0,m=0){let p=f,x=r/a,b=h/o;for(let M=0;M<=o;M++){let A=M*b-h/2;for(let h=0;h<=a;h++,f++){let b=h*x-r/2;if(t[3*f+u]=b*c,t[3*f+l]=A*g,t[3*f+d]=n/2,i[3*f+u]=0,i[3*f+l]=0,i[3*f+d]=n>=0?1:-1,s[2*f]=h/a,s[2*f+1]=1-M/o,M===o||h===a)continue;let E=p+h+M*(a+1),v=p+h+(M+1)*(a+1),y=p+h+(M+1)*(a+1)+1,w=p+h+M*(a+1)+1;e[6*m]=E,e[6*m+1]=v,e[6*m+2]=w,e[6*m+3]=v,e[6*m+4]=y,e[6*m+5]=w,m++}}}}},19770:function(t,i,s){function e(t,i,s){let e=i[0],r=i[1],h=i[2],n=i[3],a=i[4],o=i[5],u=i[6],l=i[7],d=i[8],c=i[9],g=i[10],f=i[11],m=i[12],p=i[13],x=i[14],b=i[15],M=s[0],A=s[1],E=s[2],v=s[3];return t[0]=M*e+A*a+E*d+v*m,t[1]=M*r+A*o+E*c+v*p,t[2]=M*h+A*u+E*g+v*x,t[3]=M*n+A*l+E*f+v*b,M=s[4],A=s[5],E=s[6],v=s[7],t[4]=M*e+A*a+E*d+v*m,t[5]=M*r+A*o+E*c+v*p,t[6]=M*h+A*u+E*g+v*x,t[7]=M*n+A*l+E*f+v*b,M=s[8],A=s[9],E=s[10],v=s[11],t[8]=M*e+A*a+E*d+v*m,t[9]=M*r+A*o+E*c+v*p,t[10]=M*h+A*u+E*g+v*x,t[11]=M*n+A*l+E*f+v*b,M=s[12],A=s[13],E=s[14],v=s[15],t[12]=M*e+A*a+E*d+v*m,t[13]=M*r+A*o+E*c+v*p,t[14]=M*h+A*u+E*g+v*x,t[15]=M*n+A*l+E*f+v*b,t}function r(t,i){let s=i[0],e=i[1],r=i[2],h=i[4],n=i[5],a=i[6],o=i[8],u=i[9],l=i[10];return t[0]=Math.hypot(s,e,r),t[1]=Math.hypot(h,n,a),t[2]=Math.hypot(o,u,l),t}s.d(i,{y:function(){return o}});let h=function(){let t=[1,1,1];return function(i,s){r(t,s);let e=1/t[0],h=1/t[1],n=1/t[2],a=s[0]*e,o=s[1]*h,u=s[2]*n,l=s[4]*e,d=s[5]*h,c=s[6]*n,g=s[8]*e,f=s[9]*h,m=s[10]*n,p=a+d+m,x=0;return p>0?(x=2*Math.sqrt(p+1),i[3]=.25*x,i[0]=(c-f)/x,i[1]=(g-u)/x,i[2]=(o-l)/x):a>d&&a>m?(x=2*Math.sqrt(1+a-d-m),i[3]=(c-f)/x,i[0]=.25*x,i[1]=(o+l)/x,i[2]=(g+u)/x):d>m?(x=2*Math.sqrt(1+d-a-m),i[3]=(g-u)/x,i[0]=(o+l)/x,i[1]=.25*x,i[2]=(c+f)/x):(x=2*Math.sqrt(1+m-a-d),i[3]=(o-l)/x,i[0]=(g+u)/x,i[1]=(c+f)/x,i[2]=.25*x),i}}();function n(t,i,s){return t[0]=i[0]+s[0],t[1]=i[1]+s[1],t[2]=i[2]+s[2],t[3]=i[3]+s[3],t[4]=i[4]+s[4],t[5]=i[5]+s[5],t[6]=i[6]+s[6],t[7]=i[7]+s[7],t[8]=i[8]+s[8],t[9]=i[9]+s[9],t[10]=i[10]+s[10],t[11]=i[11]+s[11],t[12]=i[12]+s[12],t[13]=i[13]+s[13],t[14]=i[14]+s[14],t[15]=i[15]+s[15],t}function a(t,i,s){return t[0]=i[0]-s[0],t[1]=i[1]-s[1],t[2]=i[2]-s[2],t[3]=i[3]-s[3],t[4]=i[4]-s[4],t[5]=i[5]-s[5],t[6]=i[6]-s[6],t[7]=i[7]-s[7],t[8]=i[8]-s[8],t[9]=i[9]-s[9],t[10]=i[10]-s[10],t[11]=i[11]-s[11],t[12]=i[12]-s[12],t[13]=i[13]-s[13],t[14]=i[14]-s[14],t[15]=i[15]-s[15],t}class o extends Array{constructor(t=1,i=0,s=0,e=0,r=0,h=1,n=0,a=0,o=0,u=0,l=1,d=0,c=0,g=0,f=0,m=1){return super(t,i,s,e,r,h,n,a,o,u,l,d,c,g,f,m),this}get x(){return this[12]}get y(){return this[13]}get z(){return this[14]}get w(){return this[15]}set x(t){this[12]=t}set y(t){this[13]=t}set z(t){this[14]=t}set w(t){this[15]=t}set(t,i,s,e,r,h,n,a,o,u,l,d,c,g,f,m){return t.length?this.copy(t):(this[0]=t,this[1]=i,this[2]=s,this[3]=e,this[4]=r,this[5]=h,this[6]=n,this[7]=a,this[8]=o,this[9]=u,this[10]=l,this[11]=d,this[12]=c,this[13]=g,this[14]=f,this[15]=m,this)}translate(t,i=this){let s,e,r,h,n,a,o,u,l,d,c,g,f,m,p;return f=t[0],m=t[1],p=t[2],i===this?(this[12]=i[0]*f+i[4]*m+i[8]*p+i[12],this[13]=i[1]*f+i[5]*m+i[9]*p+i[13],this[14]=i[2]*f+i[6]*m+i[10]*p+i[14],this[15]=i[3]*f+i[7]*m+i[11]*p+i[15]):(s=i[0],e=i[1],r=i[2],h=i[3],n=i[4],a=i[5],o=i[6],u=i[7],l=i[8],d=i[9],c=i[10],g=i[11],this[0]=s,this[1]=e,this[2]=r,this[3]=h,this[4]=n,this[5]=a,this[6]=o,this[7]=u,this[8]=l,this[9]=d,this[10]=c,this[11]=g,this[12]=s*f+n*m+l*p+i[12],this[13]=e*f+a*m+d*p+i[13],this[14]=r*f+o*m+c*p+i[14],this[15]=h*f+u*m+g*p+i[15]),this}rotate(t,i,s=this){let e,r,h,n,a,o,u,l,d,c,g,f,m,p,x,b,M,A,E,v,y,w,_,F,C,S,T,R;return 1e-6>Math.abs(R=Math.hypot(C=i[0],S=i[1],T=i[2]))||(C*=R=1/R,S*=R,T*=R,e=Math.sin(t),h=1-(r=Math.cos(t)),n=s[0],a=s[1],o=s[2],u=s[3],l=s[4],d=s[5],c=s[6],g=s[7],f=s[8],m=s[9],p=s[10],x=s[11],b=C*C*h+r,M=S*C*h+T*e,A=T*C*h-S*e,E=C*S*h-T*e,v=S*S*h+r,y=T*S*h+C*e,w=C*T*h+S*e,_=S*T*h-C*e,F=T*T*h+r,this[0]=n*b+l*M+f*A,this[1]=a*b+d*M+m*A,this[2]=o*b+c*M+p*A,this[3]=u*b+g*M+x*A,this[4]=n*E+l*v+f*y,this[5]=a*E+d*v+m*y,this[6]=o*E+c*v+p*y,this[7]=u*E+g*v+x*y,this[8]=n*w+l*_+f*F,this[9]=a*w+d*_+m*F,this[10]=o*w+c*_+p*F,this[11]=u*w+g*_+x*F,s!==this&&(this[12]=s[12],this[13]=s[13],this[14]=s[14],this[15]=s[15])),this}scale(t,i=this){var s;let e,r,h;return e=(s="number"==typeof t?[t,t,t]:t)[0],r=s[1],h=s[2],this[0]=i[0]*e,this[1]=i[1]*e,this[2]=i[2]*e,this[3]=i[3]*e,this[4]=i[4]*r,this[5]=i[5]*r,this[6]=i[6]*r,this[7]=i[7]*r,this[8]=i[8]*h,this[9]=i[9]*h,this[10]=i[10]*h,this[11]=i[11]*h,this[12]=i[12],this[13]=i[13],this[14]=i[14],this[15]=i[15],this}add(t,i){return i?n(this,t,i):n(this,this,t),this}sub(t,i){return i?a(this,t,i):a(this,this,t),this}multiply(t,i){return t.length?i?e(this,t,i):e(this,this,t):(this[0]=this[0]*t,this[1]=this[1]*t,this[2]=this[2]*t,this[3]=this[3]*t,this[4]=this[4]*t,this[5]=this[5]*t,this[6]=this[6]*t,this[7]=this[7]*t,this[8]=this[8]*t,this[9]=this[9]*t,this[10]=this[10]*t,this[11]=this[11]*t,this[12]=this[12]*t,this[13]=this[13]*t,this[14]=this[14]*t,this[15]=this[15]*t),this}identity(){return this[0]=1,this[1]=0,this[2]=0,this[3]=0,this[4]=0,this[5]=1,this[6]=0,this[7]=0,this[8]=0,this[9]=0,this[10]=1,this[11]=0,this[12]=0,this[13]=0,this[14]=0,this[15]=1,this}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this[4]=t[4],this[5]=t[5],this[6]=t[6],this[7]=t[7],this[8]=t[8],this[9]=t[9],this[10]=t[10],this[11]=t[11],this[12]=t[12],this[13]=t[13],this[14]=t[14],this[15]=t[15],this}fromPerspective({fov:t,aspect:i,near:s,far:e}={}){let r,h;return r=1/Math.tan(t/2),h=1/(s-e),this[0]=r/i,this[1]=0,this[2]=0,this[3]=0,this[4]=0,this[5]=r,this[6]=0,this[7]=0,this[8]=0,this[9]=0,this[10]=(e+s)*h,this[11]=-1,this[12]=0,this[13]=0,this[14]=2*e*s*h,this[15]=0,this}fromOrthogonal({left:t,right:i,bottom:s,top:e,near:r,far:h}){let n,a,o;return n=1/(t-i),a=1/(s-e),o=1/(r-h),this[0]=-2*n,this[1]=0,this[2]=0,this[3]=0,this[4]=0,this[5]=-2*a,this[6]=0,this[7]=0,this[8]=0,this[9]=0,this[10]=2*o,this[11]=0,this[12]=(t+i)*n,this[13]=(e+s)*a,this[14]=(h+r)*o,this[15]=1,this}fromQuaternion(t){let i,s,e,r,h,n,a,o,u,l,d,c,g,f,m,p;return i=t[0],s=t[1],e=t[2],r=t[3],h=i+i,n=s+s,a=e+e,o=i*h,u=s*h,l=s*n,d=e*h,c=e*n,g=e*a,f=r*h,m=r*n,p=r*a,this[0]=1-l-g,this[1]=u+p,this[2]=d-m,this[3]=0,this[4]=u-p,this[5]=1-o-g,this[6]=c+f,this[7]=0,this[8]=d+m,this[9]=c-f,this[10]=1-o-l,this[11]=0,this[12]=0,this[13]=0,this[14]=0,this[15]=1,this}setPosition(t){return this.x=t[0],this.y=t[1],this.z=t[2],this}inverse(t=this){let i,s,e,r,h,n,a,o,u,l,d,c,g,f,m,p,x,b,M,A,E,v,y,w,_,F,C,S,T;return i=t[0],s=t[1],e=t[2],r=t[3],h=t[4],n=t[5],a=t[6],o=t[7],u=t[8],l=t[9],d=t[10],c=t[11],g=t[12],f=t[13],m=t[14],p=t[15],x=i*n-s*h,b=i*a-e*h,M=i*o-r*h,A=s*a-e*n,E=s*o-r*n,v=e*o-r*a,y=u*f-l*g,w=u*m-d*g,_=u*p-c*g,F=l*m-d*f,C=l*p-c*f,(T=x*(S=d*p-c*m)-b*C+M*F+A*_-E*w+v*y)&&(T=1/T,this[0]=(n*S-a*C+o*F)*T,this[1]=(e*C-s*S-r*F)*T,this[2]=(f*v-m*E+p*A)*T,this[3]=(d*E-l*v-c*A)*T,this[4]=(a*_-h*S-o*w)*T,this[5]=(i*S-e*_+r*w)*T,this[6]=(m*M-g*v-p*b)*T,this[7]=(u*v-d*M+c*b)*T,this[8]=(h*C-n*_+o*y)*T,this[9]=(s*_-i*C-r*y)*T,this[10]=(g*E-f*M+p*x)*T,this[11]=(l*M-u*E-c*x)*T,this[12]=(n*w-h*F-a*y)*T,this[13]=(i*F-s*w+e*y)*T,this[14]=(f*b-g*A-m*x)*T,this[15]=(u*A-l*b+d*x)*T),this}compose(t,i,s){let e,r,h,n,a,o,u,l,d,c,g,f,m,p,x,b,M,A,E;return e=t[0],r=t[1],h=t[2],n=t[3],a=e+e,o=r+r,u=h+h,l=e*a,d=e*o,c=e*u,g=r*o,f=r*u,m=h*u,p=n*a,x=n*o,b=n*u,M=s[0],A=s[1],E=s[2],this[0]=(1-(g+m))*M,this[1]=(d+b)*M,this[2]=(c-x)*M,this[3]=0,this[4]=(d-b)*A,this[5]=(1-(l+m))*A,this[6]=(f+p)*A,this[7]=0,this[8]=(c+x)*E,this[9]=(f-p)*E,this[10]=(1-(l+g))*E,this[11]=0,this[12]=i[0],this[13]=i[1],this[14]=i[2],this[15]=1,this}getRotation(t){return h(t,this),this}getTranslation(t){return t[0]=this[12],t[1]=this[13],t[2]=this[14],this}getScaling(t){return r(t,this),this}getMaxScaleOnAxis(){let t,i,s,e,r,h,n,a,o;return t=this[0],i=this[1],s=this[2],e=this[4],r=this[5],h=this[6],Math.sqrt(Math.max(t*t+i*i+s*s,e*e+r*r+h*h,(n=this[8])*n+(a=this[9])*a+(o=this[10])*o))}lookAt(t,i,s){let e,r,h,n,a,o,u,l,d,c,g,f,m;return e=t[0],r=t[1],h=t[2],n=s[0],a=s[1],o=s[2],0==(c=(u=e-i[0])*u+(l=r-i[1])*l+(d=h-i[2])*d)?d=1:(u*=c=1/Math.sqrt(c),l*=c,d*=c),0==(c=(g=a*d-o*l)*g+(f=o*u-n*d)*f+(m=n*l-a*u)*m)&&(o?n+=1e-6:a?o+=1e-6:a+=1e-6,c=(g=a*d-o*l)*g+(f=o*u-n*d)*f+(m=n*l-a*u)*m),g*=c=1/Math.sqrt(c),f*=c,m*=c,this[0]=g,this[1]=f,this[2]=m,this[3]=0,this[4]=l*m-d*f,this[5]=d*g-u*m,this[6]=u*f-l*g,this[7]=0,this[8]=u,this[9]=l,this[10]=d,this[11]=0,this[12]=e,this[13]=r,this[14]=h,this[15]=1,this}determinant(){let t,i,s,e,r,h,n,a,o,u,l,d,c,g,f,m;return t=this[0],i=this[1],s=this[2],e=this[3],r=this[4],h=this[5],n=this[6],a=this[7],o=this[8],u=this[9],l=this[10],d=this[11],c=this[12],g=this[13],f=this[14],(t*h-i*r)*(l*(m=this[15])-d*f)-(t*n-s*r)*(u*m-d*g)+(t*a-e*r)*(u*f-l*g)+(i*n-s*h)*(o*m-d*c)-(i*a-e*h)*(o*f-l*c)+(s*a-e*n)*(o*g-u*c)}fromArray(t,i=0){return this[0]=t[i],this[1]=t[i+1],this[2]=t[i+2],this[3]=t[i+3],this[4]=t[i+4],this[5]=t[i+5],this[6]=t[i+6],this[7]=t[i+7],this[8]=t[i+8],this[9]=t[i+9],this[10]=t[i+10],this[11]=t[i+11],this[12]=t[i+12],this[13]=t[i+13],this[14]=t[i+14],this[15]=t[i+15],this}toArray(t=[],i=0){return t[i]=this[0],t[i+1]=this[1],t[i+2]=this[2],t[i+3]=this[3],t[i+4]=this[4],t[i+5]=this[5],t[i+6]=this[6],t[i+7]=this[7],t[i+8]=this[8],t[i+9]=this[9],t[i+10]=this[10],t[i+11]=this[11],t[i+12]=this[12],t[i+13]=this[13],t[i+14]=this[14],t[i+15]=this[15],t}}},59728:function(t,i,s){function e(t,i,s){return t[0]=i[0]+s[0],t[1]=i[1]+s[1],t}function r(t,i,s){return t[0]=i[0]-s[0],t[1]=i[1]-s[1],t}function h(t,i,s){return t[0]=i[0]*s,t[1]=i[1]*s,t}function n(t){var i=t[0],s=t[1];return Math.sqrt(i*i+s*s)}function a(t,i){return t[0]*i[1]-t[1]*i[0]}s.d(i,{S:function(){return o}});class o extends Array{constructor(t=0,i=t){return super(t,i),this}get x(){return this[0]}get y(){return this[1]}set x(t){this[0]=t}set y(t){this[1]=t}set(t,i=t){return t.length?this.copy(t):(this[0]=t,this[1]=i,this)}copy(t){return this[0]=t[0],this[1]=t[1],this}add(t,i){return i?e(this,t,i):e(this,this,t),this}sub(t,i){return i?r(this,t,i):r(this,this,t),this}multiply(t){return t.length?(this[0]=this[0]*t[0],this[1]=this[1]*t[1]):h(this,this,t),this}divide(t){return t.length?(this[0]=this[0]/t[0],this[1]=this[1]/t[1]):h(this,this,1/t),this}inverse(t=this){return this[0]=1/t[0],this[1]=1/t[1],this}len(){return n(this)}distance(t){var i,s;return t?Math.sqrt((i=t[0]-this[0])*i+(s=t[1]-this[1])*s):n(this)}squaredLen(){return this.squaredDistance()}squaredDistance(t){var i,s,e,r;return t?(i=t[0]-this[0])*i+(s=t[1]-this[1])*s:(e=this[0])*e+(r=this[1])*r}negate(t=this){return this[0]=-t[0],this[1]=-t[1],this}cross(t,i){return i?a(t,i):a(this,t)}scale(t){return h(this,this,t),this}normalize(){var t,i,s;return(s=(t=this[0])*t+(i=this[1])*i)>0&&(s=1/Math.sqrt(s)),this[0]=this[0]*s,this[1]=this[1]*s,this}dot(t){return this[0]*t[0]+this[1]*t[1]}equals(t){return this[0]===t[0]&&this[1]===t[1]}applyMatrix3(t){var i,s;return i=this[0],s=this[1],this[0]=t[0]*i+t[3]*s+t[6],this[1]=t[1]*i+t[4]*s+t[7],this}applyMatrix4(t){let i,s;return i=this[0],s=this[1],this[0]=t[0]*i+t[4]*s+t[12],this[1]=t[1]*i+t[5]*s+t[13],this}lerp(t,i){var s,e;return s=this[0],e=this[1],this[0]=s+i*(t[0]-s),this[1]=e+i*(t[1]-e),this}clone(){return new o(this[0],this[1])}fromArray(t,i=0){return this[0]=t[i],this[1]=t[i+1],this}toArray(t=[],i=0){return t[i]=this[0],t[i+1]=this[1],t}}},12143:function(t,i,s){function e(t){let i=t[0],s=t[1],e=t[2];return Math.sqrt(i*i+s*s+e*e)}function r(t,i){return t[0]=i[0],t[1]=i[1],t[2]=i[2],t}function h(t,i,s){return t[0]=i[0]+s[0],t[1]=i[1]+s[1],t[2]=i[2]+s[2],t}function n(t,i,s){return t[0]=i[0]-s[0],t[1]=i[1]-s[1],t[2]=i[2]-s[2],t}function a(t,i,s){return t[0]=i[0]*s,t[1]=i[1]*s,t[2]=i[2]*s,t}function o(t){let i=t[0],s=t[1],e=t[2];return i*i+s*s+e*e}function u(t,i){let s=i[0],e=i[1],r=i[2],h=s*s+e*e+r*r;return h>0&&(h=1/Math.sqrt(h)),t[0]=i[0]*h,t[1]=i[1]*h,t[2]=i[2]*h,t}function l(t,i){return t[0]*i[0]+t[1]*i[1]+t[2]*i[2]}function d(t,i,s){let e=i[0],r=i[1],h=i[2],n=s[0],a=s[1],o=s[2];return t[0]=r*o-h*a,t[1]=h*n-e*o,t[2]=e*a-r*n,t}s.d(i,{A:function(){return g}});let c=function(){let t=[0,0,0],i=[0,0,0];return function(s,e){r(t,s),r(i,e),u(t,t),u(i,i);let h=l(t,i);return h>1?0:h<-1?Math.PI:Math.acos(h)}}();class g extends Array{constructor(t=0,i=t,s=t){return super(t,i,s),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(t){this[0]=t}set y(t){this[1]=t}set z(t){this[2]=t}set(t,i=t,s=t){return t.length?this.copy(t):(this[0]=t,this[1]=i,this[2]=s,this)}copy(t){return r(this,t),this}add(t,i){return i?h(this,t,i):h(this,this,t),this}sub(t,i){return i?n(this,t,i):n(this,this,t),this}multiply(t){return t.length?(this[0]=this[0]*t[0],this[1]=this[1]*t[1],this[2]=this[2]*t[2]):a(this,this,t),this}divide(t){return t.length?(this[0]=this[0]/t[0],this[1]=this[1]/t[1],this[2]=this[2]/t[2]):a(this,this,1/t),this}inverse(t=this){return this[0]=1/t[0],this[1]=1/t[1],this[2]=1/t[2],this}len(){return e(this)}distance(t){let i,s,r;return t?Math.sqrt((i=t[0]-this[0])*i+(s=t[1]-this[1])*s+(r=t[2]-this[2])*r):e(this)}squaredLen(){return o(this)}squaredDistance(t){let i,s,e;return t?(i=t[0]-this[0])*i+(s=t[1]-this[1])*s+(e=t[2]-this[2])*e:o(this)}negate(t=this){return this[0]=-t[0],this[1]=-t[1],this[2]=-t[2],this}cross(t,i){return i?d(this,t,i):d(this,this,t),this}scale(t){return a(this,this,t),this}normalize(){return u(this,this),this}dot(t){return l(this,t)}equals(t){return this[0]===t[0]&&this[1]===t[1]&&this[2]===t[2]}applyMatrix3(t){let i,s,e;return i=this[0],s=this[1],e=this[2],this[0]=i*t[0]+s*t[3]+e*t[6],this[1]=i*t[1]+s*t[4]+e*t[7],this[2]=i*t[2]+s*t[5]+e*t[8],this}applyMatrix4(t){let i,s,e,r;return i=this[0],s=this[1],e=this[2],r=(r=t[3]*i+t[7]*s+t[11]*e+t[15])||1,this[0]=(t[0]*i+t[4]*s+t[8]*e+t[12])/r,this[1]=(t[1]*i+t[5]*s+t[9]*e+t[13])/r,this[2]=(t[2]*i+t[6]*s+t[10]*e+t[14])/r,this}scaleRotateMatrix4(t){let i,s,e,r;return i=this[0],s=this[1],e=this[2],r=(r=t[3]*i+t[7]*s+t[11]*e+t[15])||1,this[0]=(t[0]*i+t[4]*s+t[8]*e)/r,this[1]=(t[1]*i+t[5]*s+t[9]*e)/r,this[2]=(t[2]*i+t[6]*s+t[10]*e)/r,this}applyQuaternion(t){let i,s,e,r,h,n,a,o,u,l,d,c,g,f;return i=this[0],s=this[1],e=this[2],r=t[0],h=t[1],n=t[2],a=t[3],o=h*e-n*s,u=n*i-r*e,l=r*s-h*i,d=h*l-n*u,c=n*o-r*l,g=r*u-h*o,o*=f=2*a,u*=f,l*=f,d*=2,c*=2,g*=2,this[0]=i+o+d,this[1]=s+u+c,this[2]=e+l+g,this}angle(t){return c(this,t)}lerp(t,i){let s,e,r;return s=this[0],e=this[1],r=this[2],this[0]=s+i*(t[0]-s),this[1]=e+i*(t[1]-e),this[2]=r+i*(t[2]-r),this}clone(){return new g(this[0],this[1],this[2])}fromArray(t,i=0){return this[0]=t[i],this[1]=t[i+1],this[2]=t[i+2],this}toArray(t=[],i=0){return t[i]=this[0],t[i+1]=this[1],t[i+2]=this[2],t}transformDirection(t){let i=this[0],s=this[1],e=this[2];return this[0]=t[0]*i+t[4]*s+t[8]*e,this[1]=t[1]*i+t[5]*s+t[9]*e,this[2]=t[2]*i+t[6]*s+t[10]*e,this.normalize()}}}}]);